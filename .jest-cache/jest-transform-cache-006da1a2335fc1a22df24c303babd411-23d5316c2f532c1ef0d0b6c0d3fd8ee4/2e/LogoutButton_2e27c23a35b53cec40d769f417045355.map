{"version":3,"names":["cov_h84o9afqv","actualCoverage","s","LogoutButton","className","b","children","f","router","_navigation","useRouter","isLoading","setIsLoading","_react","useState","handleLogout","response","fetch","method","headers","ok","push","refresh","console","error","_jsxruntime","jsx","onClick","disabled"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/components/auth/LogoutButton.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface LogoutButtonProps {\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport default function LogoutButton({ \n  className = \"btn btn--ghost btn--danger\",\n  children = \"Sign Out\"\n}: LogoutButtonProps) {\n  const router = useRouter();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleLogout = async () => {\n    if (isLoading) return;\n    \n    setIsLoading(true);\n    \n    try {\n      const response = await fetch('/api/auth/signout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        // Redirect to sign in page\n        router.push('/auth/signin');\n        router.refresh();\n      } else {\n        console.error('Logout failed');\n        // Still redirect on failure to ensure user is logged out client-side\n        router.push('/auth/signin');\n        router.refresh();\n      }\n    } catch (error) {\n      console.error('Logout error:', error);\n      // Still redirect on error to ensure user is logged out client-side\n      router.push('/auth/signin');\n      router.refresh();\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleLogout}\n      disabled={isLoading}\n      className={`${className} ${isLoading ? 'btn--loading' : ''}`}\n    >\n      {isLoading ? 'Signing out...' : children}\n    </button>\n  );\n}"],"mappings":"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","ignoreList":[]}