b0961c38afc0afa597582e93f2a2a6b4
// Plant Management API Endpoint Tests
// Tests GET /api/plants, POST /api/plant-instances, PUT /api/plant-instances/[id] endpoints
"use strict";
// Mock the auth functions
jest.mock('@/lib/auth/server', ()=>({
        validateRequest: jest.fn(),
        validateVerifiedRequest: jest.fn()
    }));
// Mock the database queries
jest.mock('@/lib/db/queries/plant-taxonomy', ()=>({
        createPlant: jest.fn(),
        getPlantsWithStats: jest.fn(),
        validatePlantTaxonomy: jest.fn()
    }));
jest.mock('@/lib/db/queries/plant-instances', ()=>({
        PlantInstanceQueries: {
            getWithFilters: jest.fn(),
            create: jest.fn(),
            getEnhancedById: jest.fn(),
            update: jest.fn(),
            delete: jest.fn()
        }
    }));
// Mock validation schemas
jest.mock('@/lib/validation/plant-schemas', ()=>({
        createPlantSchema: {
            parse: jest.fn()
        },
        plantFilterSchema: {
            parse: jest.fn()
        },
        createPlantInstanceSchema: {
            parse: jest.fn()
        },
        plantInstanceFilterSchema: {
            parse: jest.fn()
        },
        updatePlantInstanceSchema: {
            parse: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../app/api/plants/route");
const _route1 = require("../../app/api/plant-instances/route");
const _route2 = require("../../app/api/plant-instances/[id]/route");
const _userfactory = require("../../test-utils/factories/user-factory.js");
const _plantfactory = require("../../test-utils/factories/plant-factory.js");
const _apihelpers = require("../../test-utils/helpers/api-helpers.js");
const _server1 = require("../../lib/auth/server");
const _planttaxonomy = require("../../lib/db/queries/plant-taxonomy");
const _plantinstances = require("../../lib/db/queries/plant-instances");
const _plantschemas = require("../../lib/validation/plant-schemas");
describe('Plant Management API Endpoints', ()=>{
    let testUser;
    let testSession;
    beforeEach(()=>{
        jest.clearAllMocks();
        (0, _apihelpers.resetApiMocks)();
        testUser = (0, _userfactory.createTestUser)();
        testSession = (0, _userfactory.createTestSession)(testUser);
        // Default auth mock
        _server1.validateRequest.mockResolvedValue({
            user: testUser,
            session: testSession
        });
        _server1.validateVerifiedRequest.mockResolvedValue({
            user: testUser,
            session: testSession
        });
    });
    afterEach(()=>{
        jest.restoreAllMocks();
    });
    describe('GET /api/plants - Plant filtering and pagination', ()=>{
        it('should return plants with default filters', async ()=>{
            // Arrange
            const mockPlants = [
                {
                    ...(0, _plantfactory.createTestPlant)({
                        family: 'Araceae',
                        genus: 'Monstera'
                    }),
                    id: 1
                },
                {
                    ...(0, _plantfactory.createTestPlant)({
                        family: 'Araceae',
                        genus: 'Philodendron'
                    }),
                    id: 2
                }
            ];
            _plantschemas.plantFilterSchema.parse.mockReturnValue({
                family: undefined,
                genus: undefined,
                isVerified: undefined,
                createdBy: undefined,
                limit: 20,
                offset: 0
            });
            _planttaxonomy.getPlantsWithStats.mockResolvedValue(mockPlants);
            const request = new _server.NextRequest('http://localhost:3000/api/plants');
            // Act
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual({
                success: true,
                data: mockPlants,
                metadata: {
                    operation: 'search',
                    timestamp: expect.any(String),
                    userId: testUser.id
                }
            });
            expect(_server1.validateRequest).toHaveBeenCalled();
            expect(_plantschemas.plantFilterSchema.parse).toHaveBeenCalledWith({
                family: undefined,
                genus: undefined,
                isVerified: undefined,
                createdBy: undefined,
                limit: 20,
                offset: 0
            });
            expect(_planttaxonomy.getPlantsWithStats).toHaveBeenCalledWith(expect.any(Object), testUser.id);
        });
        it('should return plants with family filter', async ()=>{
            // Arrange
            const mockPlants = [
                {
                    ...(0, _plantfactory.createTestPlant)({
                        family: 'Araceae',
                        genus: 'Monstera'
                    }),
                    id: 1
                }
            ];
            _plantschemas.plantFilterSchema.parse.mockReturnValue({
                family: 'Araceae',
                genus: undefined,
                isVerified: undefined,
                createdBy: undefined,
                limit: 20,
                offset: 0
            });
            _planttaxonomy.getPlantsWithStats.mockResolvedValue(mockPlants);
            const request = new _server.NextRequest('http://localhost:3000/api/plants?family=Araceae');
            // Act
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData.success).toBe(true);
            expect(responseData.data).toEqual(mockPlants);
            expect(_plantschemas.plantFilterSchema.parse).toHaveBeenCalledWith({
                family: 'Araceae',
                genus: undefined,
                isVerified: undefined,
                createdBy: undefined,
                limit: 20,
                offset: 0
            });
        });
        it('should return plants with pagination parameters', async ()=>{
            // Arrange
            const mockPlants = [
                {
                    ...(0, _plantfactory.createTestPlant)(),
                    id: 1
                }
            ];
            _plantschemas.plantFilterSchema.parse.mockReturnValue({
                family: undefined,
                genus: undefined,
                isVerified: undefined,
                createdBy: undefined,
                limit: 10,
                offset: 20
            });
            _planttaxonomy.getPlantsWithStats.mockResolvedValue(mockPlants);
            const request = new _server.NextRequest('http://localhost:3000/api/plants?limit=10&offset=20');
            // Act
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData.success).toBe(true);
            expect(_plantschemas.plantFilterSchema.parse).toHaveBeenCalledWith({
                family: undefined,
                genus: undefined,
                isVerified: undefined,
                createdBy: undefined,
                limit: 10,
                offset: 20
            });
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/plants');
            // Act
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                error: 'Unauthorized'
            });
            expect(_planttaxonomy.getPlantsWithStats).not.toHaveBeenCalled();
        });
        it('should return validation error for invalid filter parameters', async ()=>{
            // Arrange
            const validationError = new Error('Validation failed');
            validationError.name = 'ZodError';
            validationError.issues = [
                {
                    path: [
                        'limit'
                    ],
                    message: 'Limit must be a positive number'
                }
            ];
            _plantschemas.plantFilterSchema.parse.mockImplementation(()=>{
                throw validationError;
            });
            const request = new _server.NextRequest('http://localhost:3000/api/plants?limit=invalid');
            // Act
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Invalid filter parameters',
                details: validationError.issues
            });
            expect(_planttaxonomy.getPlantsWithStats).not.toHaveBeenCalled();
        });
        it('should handle database errors gracefully', async ()=>{
            // Arrange
            _plantschemas.plantFilterSchema.parse.mockReturnValue({
                limit: 20,
                offset: 0
            });
            _planttaxonomy.getPlantsWithStats.mockRejectedValue(new Error('Database connection failed'));
            const request = new _server.NextRequest('http://localhost:3000/api/plants');
            // Act
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Internal server error'
            });
        });
    });
    describe('POST /api/plant-instances - Plant instance creation with data validation', ()=>{
        it('should create plant instance with valid JSON data', async ()=>{
            // Arrange
            const testPlant = {
                ...(0, _plantfactory.createTestPlant)(),
                id: 1
            };
            const requestBody = {
                plantId: testPlant.id,
                nickname: 'My Monstera',
                location: 'Living Room',
                notes: 'Beautiful plant',
                isActive: true
            };
            const expectedInstanceData = {
                ...requestBody,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null
            };
            const createdInstance = (0, _plantfactory.createTestPlantInstance)({
                ...expectedInstanceData,
                id: 1
            });
            const enhancedInstance = {
                ...createdInstance,
                plant: testPlant
            };
            _plantschemas.createPlantInstanceSchema.parse.mockReturnValue(expectedInstanceData);
            _plantinstances.PlantInstanceQueries.create.mockResolvedValue(createdInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(enhancedInstance);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(201);
            expect(responseData).toEqual({
                success: true,
                data: enhancedInstance
            });
            expect(_plantschemas.createPlantInstanceSchema.parse).toHaveBeenCalledWith(expectedInstanceData);
            expect(_plantinstances.PlantInstanceQueries.create).toHaveBeenCalledWith(expectedInstanceData);
            expect(_plantinstances.PlantInstanceQueries.getEnhancedById).toHaveBeenCalledWith(createdInstance.id);
        });
        it('should create plant instance with FormData (file upload)', async ()=>{
            // Arrange
            const testPlant = {
                ...(0, _plantfactory.createTestPlant)(),
                id: 1
            };
            const formData = new FormData();
            formData.append('plantId', testPlant.id.toString());
            formData.append('nickname', 'My Monstera');
            formData.append('location', 'Living Room');
            formData.append('isActive', 'true');
            // Mock file
            const mockFile = new File([
                'test image'
            ], 'test.jpg', {
                type: 'image/jpeg'
            });
            formData.append('imageFiles[0]', mockFile);
            const expectedInstanceData = {
                plantId: testPlant.id,
                nickname: 'My Monstera',
                location: 'Living Room',
                isActive: true,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null,
                images: [
                    'data:image/jpeg;base64,dGVzdCBpbWFnZQ=='
                ]
            };
            const createdInstance = (0, _plantfactory.createTestPlantInstance)(expectedInstanceData);
            const enhancedInstance = {
                ...createdInstance,
                plant: testPlant
            };
            _plantschemas.createPlantInstanceSchema.parse.mockReturnValue(expectedInstanceData);
            _plantinstances.PlantInstanceQueries.create.mockResolvedValue(createdInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(enhancedInstance);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: formData
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(201);
            expect(responseData.success).toBe(true);
            expect(responseData.data).toEqual(enhancedInstance);
            expect(_plantinstances.PlantInstanceQueries.create).toHaveBeenCalledWith(expectedInstanceData);
        });
        it('should return validation error for invalid plant instance data', async ()=>{
            // Arrange
            const requestBody = {
                plantId: 'invalid',
                nickname: '',
                location: ''
            };
            const validationError = new Error('Validation failed');
            validationError.name = 'ZodError';
            validationError.issues = [
                {
                    path: [
                        'plantId'
                    ],
                    message: 'Plant ID must be a number'
                },
                {
                    path: [
                        'nickname'
                    ],
                    message: 'Nickname is required'
                }
            ];
            _plantschemas.createPlantInstanceSchema.parse.mockImplementation(()=>{
                throw validationError;
            });
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                success: false,
                error: 'Validation failed',
                details: validationError.issues
            });
            expect(_plantinstances.PlantInstanceQueries.create).not.toHaveBeenCalled();
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateVerifiedRequest.mockResolvedValue({
                user: null,
                error: 'Unauthorized'
            });
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: JSON.stringify({
                    plantId: 1
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                success: false,
                error: 'Unauthorized'
            });
            expect(_plantinstances.PlantInstanceQueries.create).not.toHaveBeenCalled();
        });
        it('should handle empty request body', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                success: false,
                error: 'Request body is required'
            });
            expect(_plantinstances.PlantInstanceQueries.create).not.toHaveBeenCalled();
        });
        it('should handle malformed JSON', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: 'invalid json',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                success: false,
                error: 'Invalid JSON in request body'
            });
            expect(_plantinstances.PlantInstanceQueries.create).not.toHaveBeenCalled();
        });
        it('should calculate fertilizer due date from schedule', async ()=>{
            // Arrange
            const requestBody = {
                plantId: 1,
                nickname: 'Test Plant',
                location: 'Test Location',
                fertilizerSchedule: '2 weeks'
            };
            const expectedInstanceData = {
                ...requestBody,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null,
                fertilizerDue: expect.any(Date)
            };
            const createdInstance = (0, _plantfactory.createTestPlantInstance)(expectedInstanceData);
            const enhancedInstance = {
                ...createdInstance,
                plant: (0, _plantfactory.createTestPlant)()
            };
            _plantschemas.createPlantInstanceSchema.parse.mockReturnValue(expectedInstanceData);
            _plantinstances.PlantInstanceQueries.create.mockResolvedValue(createdInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(enhancedInstance);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(201);
            expect(responseData.success).toBe(true);
            // Verify fertilizer due date was calculated (should be 2 weeks from now)
            const callArgs = _plantinstances.PlantInstanceQueries.create.mock.calls[0][0];
            expect(callArgs.fertilizerDue).toBeInstanceOf(Date);
            const now = new Date();
            const expectedDue = new Date(now);
            expectedDue.setDate(expectedDue.getDate() + 14); // 2 weeks
            // Allow for small time differences in test execution
            const timeDiff = Math.abs(callArgs.fertilizerDue.getTime() - expectedDue.getTime());
            expect(timeDiff).toBeLessThan(1000); // Less than 1 second difference
        });
    });
    describe('PUT /api/plant-instances/[id] - Plant instance updates with authorization checks', ()=>{
        it('should update plant instance with valid data and authorization', async ()=>{
            // Arrange
            const testPlant = (0, _plantfactory.createTestPlant)();
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: testUser.id,
                plantId: testPlant.id
            });
            const updateData = {
                nickname: 'Updated Nickname',
                location: 'New Location',
                notes: 'Updated notes'
            };
            const expectedUpdateData = {
                ...updateData,
                id: 1,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null
            };
            const updatedInstance = {
                ...existingInstance,
                ...updateData
            };
            const enhancedInstance = {
                ...updatedInstance,
                plant: testPlant
            };
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValueOnce(existingInstance);
            _plantschemas.updatePlantInstanceSchema.parse.mockReturnValue(expectedUpdateData);
            _plantinstances.PlantInstanceQueries.update.mockResolvedValue(updatedInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValueOnce(enhancedInstance);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: JSON.stringify(updateData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const params = Promise.resolve({
                id: '1'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(enhancedInstance);
            expect(_plantinstances.PlantInstanceQueries.getEnhancedById).toHaveBeenCalledWith(1);
            expect(_plantschemas.updatePlantInstanceSchema.parse).toHaveBeenCalledWith(expectedUpdateData);
            expect(_plantinstances.PlantInstanceQueries.update).toHaveBeenCalledWith(1, updateData);
        });
        it('should return forbidden error when user does not own plant instance', async ()=>{
            // Arrange
            const otherUser = (0, _userfactory.createTestUser)({
                id: 999
            });
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: otherUser.id
            });
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(existingInstance);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: JSON.stringify({
                    nickname: 'Updated'
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const params = Promise.resolve({
                id: '1'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(403);
            expect(responseData).toEqual({
                error: 'Forbidden'
            });
            expect(_plantinstances.PlantInstanceQueries.update).not.toHaveBeenCalled();
        });
        it('should return not found error when plant instance does not exist', async ()=>{
            // Arrange
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(null);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/999', {
                method: 'PUT',
                body: JSON.stringify({
                    nickname: 'Updated'
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const params = Promise.resolve({
                id: '999'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(404);
            expect(responseData).toEqual({
                error: 'Plant instance not found'
            });
            expect(_plantinstances.PlantInstanceQueries.update).not.toHaveBeenCalled();
        });
        it('should return bad request error for invalid plant instance ID', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/invalid', {
                method: 'PUT',
                body: JSON.stringify({
                    nickname: 'Updated'
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const params = Promise.resolve({
                id: 'invalid'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Invalid plant instance ID'
            });
            expect(_plantinstances.PlantInstanceQueries.getEnhancedById).not.toHaveBeenCalled();
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: JSON.stringify({
                    nickname: 'Updated'
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const params = Promise.resolve({
                id: '1'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                error: 'Unauthorized'
            });
            expect(_plantinstances.PlantInstanceQueries.getEnhancedById).not.toHaveBeenCalled();
        });
        it('should handle FormData updates with file uploads', async ()=>{
            // Arrange
            const testPlant = (0, _plantfactory.createTestPlant)();
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: testUser.id,
                plantId: testPlant.id
            });
            const formData = new FormData();
            formData.append('nickname', 'Updated Nickname');
            formData.append('location', 'New Location');
            formData.append('existingImages[0]', 'existing-image-url');
            const mockFile = new File([
                'new image'
            ], 'new.jpg', {
                type: 'image/jpeg'
            });
            formData.append('imageFiles[0]', mockFile);
            const expectedUpdateData = {
                nickname: 'Updated Nickname',
                location: 'New Location',
                images: [
                    'existing-image-url',
                    'data:image/jpeg;base64,bmV3IGltYWdl'
                ],
                id: 1,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null
            };
            const updatedInstance = {
                ...existingInstance,
                ...expectedUpdateData
            };
            const enhancedInstance = {
                ...updatedInstance,
                plant: testPlant
            };
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValueOnce(existingInstance);
            _plantschemas.updatePlantInstanceSchema.parse.mockReturnValue(expectedUpdateData);
            _plantinstances.PlantInstanceQueries.update.mockResolvedValue(updatedInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValueOnce(enhancedInstance);
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: formData
            });
            const params = Promise.resolve({
                id: '1'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(enhancedInstance);
            // Verify the update was called with correct data (excluding id and userId)
            const { id, userId, ...updateDataWithoutIds } = expectedUpdateData;
            expect(_plantinstances.PlantInstanceQueries.update).toHaveBeenCalledWith(1, updateDataWithoutIds);
        });
        it('should handle validation errors during update', async ()=>{
            // Arrange
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: testUser.id
            });
            const validationError = new Error('Validation failed');
            validationError.name = 'ZodError';
            validationError.issues = [
                {
                    path: [
                        'nickname'
                    ],
                    message: 'Nickname is required'
                }
            ];
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(existingInstance);
            _plantschemas.updatePlantInstanceSchema.parse.mockImplementation(()=>{
                throw validationError;
            });
            const request = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: JSON.stringify({
                    nickname: ''
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const params = Promise.resolve({
                id: '1'
            });
            // Act
            const response = await (0, _route2.PUT)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData.error).toContain('Invalid plant instance data');
            expect(_plantinstances.PlantInstanceQueries.update).not.toHaveBeenCalled();
        });
    });
    describe('Plant Management Integration Tests', ()=>{
        it('should handle complete plant management workflow: create -> read -> update -> delete', async ()=>{
            const testPlant = (0, _plantfactory.createTestPlant)();
            // Step 1: Create plant instance
            const createData = {
                plantId: testPlant.id,
                nickname: 'Test Plant',
                location: 'Test Location'
            };
            const createdInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                ...createData,
                userId: testUser.id
            });
            const enhancedInstance = {
                ...createdInstance,
                plant: testPlant
            };
            _plantschemas.createPlantInstanceSchema.parse.mockReturnValue({
                ...createData,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null
            });
            _plantinstances.PlantInstanceQueries.create.mockResolvedValue(createdInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(enhancedInstance);
            const createRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: JSON.stringify(createData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const createResponse = await (0, _route1.POST)(createRequest);
            const createResponseData = await createResponse.json();
            expect(createResponse.status).toBe(201);
            expect(createResponseData.success).toBe(true);
            // Step 2: Read plant instance
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(enhancedInstance);
            const readRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances/1');
            const readParams = Promise.resolve({
                id: '1'
            });
            const readResponse = await (0, _route2.GET)(readRequest, {
                params: readParams
            });
            const readResponseData = await readResponse.json();
            expect(readResponse.status).toBe(200);
            expect(readResponseData).toEqual(enhancedInstance);
            // Step 3: Update plant instance
            const updateData = {
                nickname: 'Updated Plant'
            };
            const updatedInstance = {
                ...enhancedInstance,
                ...updateData
            };
            _plantschemas.updatePlantInstanceSchema.parse.mockReturnValue({
                ...updateData,
                id: 1,
                userId: testUser.id,
                lastFertilized: null,
                lastRepot: null
            });
            _plantinstances.PlantInstanceQueries.update.mockResolvedValue(updatedInstance);
            _plantinstances.PlantInstanceQueries.getEnhancedById.mockResolvedValue(updatedInstance);
            const updateRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: JSON.stringify(updateData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const updateParams = Promise.resolve({
                id: '1'
            });
            const updateResponse = await (0, _route2.PUT)(updateRequest, {
                params: updateParams
            });
            const updateResponseData = await updateResponse.json();
            expect(updateResponse.status).toBe(200);
            expect(updateResponseData.nickname).toBe('Updated Plant');
            // Step 4: Delete plant instance
            _plantinstances.PlantInstanceQueries.delete.mockResolvedValue(true);
            const deleteRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'DELETE'
            });
            const deleteParams = Promise.resolve({
                id: '1'
            });
            const deleteResponse = await (0, _route2.DELETE)(deleteRequest, {
                params: deleteParams
            });
            const deleteResponseData = await deleteResponse.json();
            expect(deleteResponse.status).toBe(200);
            expect(deleteResponseData).toEqual({
                success: true,
                message: 'Plant instance deleted successfully'
            });
            // Verify all operations were called
            expect(_plantinstances.PlantInstanceQueries.create).toHaveBeenCalled();
            expect(_plantinstances.PlantInstanceQueries.update).toHaveBeenCalled();
            expect(_plantinstances.PlantInstanceQueries.delete).toHaveBeenCalledWith(1);
        });
        it('should handle authorization checks across all endpoints', async ()=>{
            // Test unauthorized access to all endpoints
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            // GET /api/plants
            const getPlantsRequest = new _server.NextRequest('http://localhost:3000/api/plants');
            const getPlantsResponse = await (0, _route.GET)(getPlantsRequest);
            expect(getPlantsResponse.status).toBe(401);
            // POST /api/plant-instances
            const createRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const createResponse = await (0, _route1.POST)(createRequest);
            expect(createResponse.status).toBe(401);
            // GET /api/plant-instances/1
            const getRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances/1');
            const getParams = Promise.resolve({
                id: '1'
            });
            const getResponse = await (0, _route2.GET)(getRequest, {
                params: getParams
            });
            expect(getResponse.status).toBe(401);
            // PUT /api/plant-instances/1
            const updateRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'PUT',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const updateParams = Promise.resolve({
                id: '1'
            });
            const updateResponse = await (0, _route2.PUT)(updateRequest, {
                params: updateParams
            });
            expect(updateResponse.status).toBe(401);
            // DELETE /api/plant-instances/1
            const deleteRequest = new _server.NextRequest('http://localhost:3000/api/plant-instances/1', {
                method: 'DELETE'
            });
            const deleteParams = Promise.resolve({
                id: '1'
            });
            const deleteResponse = await (0, _route2.DELETE)(deleteRequest, {
                params: deleteParams
            });
            expect(deleteResponse.status).toBe(401);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL19fdGVzdHNfXy9hcGkvcGxhbnQtbWFuYWdlbWVudC50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBsYW50IE1hbmFnZW1lbnQgQVBJIEVuZHBvaW50IFRlc3RzXG4vLyBUZXN0cyBHRVQgL2FwaS9wbGFudHMsIFBPU1QgL2FwaS9wbGFudC1pbnN0YW5jZXMsIFBVVCAvYXBpL3BsYW50LWluc3RhbmNlcy9baWRdIGVuZHBvaW50c1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgR0VUIGFzIGdldFBsYW50c0hhbmRsZXIsIFBPU1QgYXMgY3JlYXRlUGxhbnRIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL3BsYW50cy9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZ2V0UGxhbnRJbnN0YW5jZXNIYW5kbGVyLCBQT1NUIGFzIGNyZWF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL3BsYW50LWluc3RhbmNlcy9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZ2V0UGxhbnRJbnN0YW5jZUhhbmRsZXIsIFBVVCBhcyB1cGRhdGVQbGFudEluc3RhbmNlSGFuZGxlciwgREVMRVRFIGFzIGRlbGV0ZVBsYW50SW5zdGFuY2VIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL3BsYW50LWluc3RhbmNlcy9baWRdL3JvdXRlJztcbmltcG9ydCB7IGNyZWF0ZVRlc3RVc2VyLCBjcmVhdGVUZXN0U2Vzc2lvbiB9IGZyb20gJ0AvdGVzdC11dGlscy9mYWN0b3JpZXMvdXNlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RQbGFudCwgY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UgfSBmcm9tICdAL3Rlc3QtdXRpbHMvZmFjdG9yaWVzL3BsYW50LWZhY3RvcnknO1xuaW1wb3J0IHsgcmVzZXRBcGlNb2NrcyB9IGZyb20gJ0AvdGVzdC11dGlscy9oZWxwZXJzL2FwaS1oZWxwZXJzJztcblxuLy8gTW9jayB0aGUgYXV0aCBmdW5jdGlvbnNcbmplc3QubW9jaygnQC9saWIvYXV0aC9zZXJ2ZXInLCAoKSA9PiAoe1xuICB2YWxpZGF0ZVJlcXVlc3Q6IGplc3QuZm4oKSxcbiAgdmFsaWRhdGVWZXJpZmllZFJlcXVlc3Q6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayB0aGUgZGF0YWJhc2UgcXVlcmllc1xuamVzdC5tb2NrKCdAL2xpYi9kYi9xdWVyaWVzL3BsYW50LXRheG9ub215JywgKCkgPT4gKHtcbiAgY3JlYXRlUGxhbnQ6IGplc3QuZm4oKSxcbiAgZ2V0UGxhbnRzV2l0aFN0YXRzOiBqZXN0LmZuKCksXG4gIHZhbGlkYXRlUGxhbnRUYXhvbm9teTogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2RiL3F1ZXJpZXMvcGxhbnQtaW5zdGFuY2VzJywgKCkgPT4gKHtcbiAgUGxhbnRJbnN0YW5jZVF1ZXJpZXM6IHtcbiAgICBnZXRXaXRoRmlsdGVyczogamVzdC5mbigpLFxuICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgIGdldEVuaGFuY2VkQnlJZDogamVzdC5mbigpLFxuICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIHZhbGlkYXRpb24gc2NoZW1hc1xuamVzdC5tb2NrKCdAL2xpYi92YWxpZGF0aW9uL3BsYW50LXNjaGVtYXMnLCAoKSA9PiAoe1xuICBjcmVhdGVQbGFudFNjaGVtYToge1xuICAgIHBhcnNlOiBqZXN0LmZuKCksXG4gIH0sXG4gIHBsYW50RmlsdGVyU2NoZW1hOiB7XG4gICAgcGFyc2U6IGplc3QuZm4oKSxcbiAgfSxcbiAgY3JlYXRlUGxhbnRJbnN0YW5jZVNjaGVtYToge1xuICAgIHBhcnNlOiBqZXN0LmZuKCksXG4gIH0sXG4gIHBsYW50SW5zdGFuY2VGaWx0ZXJTY2hlbWE6IHtcbiAgICBwYXJzZTogamVzdC5mbigpLFxuICB9LFxuICB1cGRhdGVQbGFudEluc3RhbmNlU2NoZW1hOiB7XG4gICAgcGFyc2U6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuLy8gSW1wb3J0IG1vY2tlZCBmdW5jdGlvbnNcbmltcG9ydCB7IHZhbGlkYXRlUmVxdWVzdCwgdmFsaWRhdGVWZXJpZmllZFJlcXVlc3QgfSBmcm9tICdAL2xpYi9hdXRoL3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVQbGFudCwgZ2V0UGxhbnRzV2l0aFN0YXRzLCB2YWxpZGF0ZVBsYW50VGF4b25vbXkgfSBmcm9tICdAL2xpYi9kYi9xdWVyaWVzL3BsYW50LXRheG9ub215JztcbmltcG9ydCB7IFBsYW50SW5zdGFuY2VRdWVyaWVzIH0gZnJvbSAnQC9saWIvZGIvcXVlcmllcy9wbGFudC1pbnN0YW5jZXMnO1xuaW1wb3J0IHsgXG4gIGNyZWF0ZVBsYW50U2NoZW1hLCBcbiAgcGxhbnRGaWx0ZXJTY2hlbWEsIFxuICBjcmVhdGVQbGFudEluc3RhbmNlU2NoZW1hLCBcbiAgcGxhbnRJbnN0YW5jZUZpbHRlclNjaGVtYSxcbiAgdXBkYXRlUGxhbnRJbnN0YW5jZVNjaGVtYSBcbn0gZnJvbSAnQC9saWIvdmFsaWRhdGlvbi9wbGFudC1zY2hlbWFzJztcblxuZGVzY3JpYmUoJ1BsYW50IE1hbmFnZW1lbnQgQVBJIEVuZHBvaW50cycsICgpID0+IHtcbiAgbGV0IHRlc3RVc2VyO1xuICBsZXQgdGVzdFNlc3Npb247XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgcmVzZXRBcGlNb2NrcygpO1xuICAgIFxuICAgIHRlc3RVc2VyID0gY3JlYXRlVGVzdFVzZXIoKTtcbiAgICB0ZXN0U2Vzc2lvbiA9IGNyZWF0ZVRlc3RTZXNzaW9uKHRlc3RVc2VyKTtcbiAgICBcbiAgICAvLyBEZWZhdWx0IGF1dGggbW9ja1xuICAgIHZhbGlkYXRlUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1c2VyOiB0ZXN0VXNlcixcbiAgICAgIHNlc3Npb246IHRlc3RTZXNzaW9uLFxuICAgIH0pO1xuICAgIFxuICAgIHZhbGlkYXRlVmVyaWZpZWRSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIHVzZXI6IHRlc3RVc2VyLFxuICAgICAgc2Vzc2lvbjogdGVzdFNlc3Npb24sXG4gICAgfSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3BsYW50cyAtIFBsYW50IGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwbGFudHMgd2l0aCBkZWZhdWx0IGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrUGxhbnRzID0gW1xuICAgICAgICB7IC4uLmNyZWF0ZVRlc3RQbGFudCh7IGZhbWlseTogJ0FyYWNlYWUnLCBnZW51czogJ01vbnN0ZXJhJyB9KSwgaWQ6IDEgfSxcbiAgICAgICAgeyAuLi5jcmVhdGVUZXN0UGxhbnQoeyBmYW1pbHk6ICdBcmFjZWFlJywgZ2VudXM6ICdQaGlsb2RlbmRyb24nIH0pLCBpZDogMiB9LFxuICAgICAgXTtcblxuICAgICAgcGxhbnRGaWx0ZXJTY2hlbWEucGFyc2UubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZmFtaWx5OiB1bmRlZmluZWQsXG4gICAgICAgIGdlbnVzOiB1bmRlZmluZWQsXG4gICAgICAgIGlzVmVyaWZpZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEJ5OiB1bmRlZmluZWQsXG4gICAgICAgIGxpbWl0OiAyMCxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgfSk7XG5cbiAgICAgIGdldFBsYW50c1dpdGhTdGF0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGxhbnRzKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudHMnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFBsYW50c0hhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tQbGFudHMsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgb3BlcmF0aW9uOiAnc2VhcmNoJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0ZVJlcXVlc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChwbGFudEZpbHRlclNjaGVtYS5wYXJzZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2VudXM6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNWZXJpZmllZDogdW5kZWZpbmVkLFxuICAgICAgICBjcmVhdGVkQnk6IHVuZGVmaW5lZCxcbiAgICAgICAgbGltaXQ6IDIwLFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChnZXRQbGFudHNXaXRoU3RhdHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoT2JqZWN0KSwgdGVzdFVzZXIuaWQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGxhbnRzIHdpdGggZmFtaWx5IGZpbHRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tQbGFudHMgPSBbXG4gICAgICAgIHsgLi4uY3JlYXRlVGVzdFBsYW50KHsgZmFtaWx5OiAnQXJhY2VhZScsIGdlbnVzOiAnTW9uc3RlcmEnIH0pLCBpZDogMSB9LFxuICAgICAgXTtcblxuICAgICAgcGxhbnRGaWx0ZXJTY2hlbWEucGFyc2UubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZmFtaWx5OiAnQXJhY2VhZScsXG4gICAgICAgIGdlbnVzOiB1bmRlZmluZWQsXG4gICAgICAgIGlzVmVyaWZpZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEJ5OiB1bmRlZmluZWQsXG4gICAgICAgIGxpbWl0OiAyMCxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgfSk7XG5cbiAgICAgIGdldFBsYW50c1dpdGhTdGF0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGxhbnRzKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudHM/ZmFtaWx5PUFyYWNlYWUnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFBsYW50c0hhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5kYXRhKS50b0VxdWFsKG1vY2tQbGFudHMpO1xuXG4gICAgICBleHBlY3QocGxhbnRGaWx0ZXJTY2hlbWEucGFyc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgZmFtaWx5OiAnQXJhY2VhZScsXG4gICAgICAgIGdlbnVzOiB1bmRlZmluZWQsXG4gICAgICAgIGlzVmVyaWZpZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEJ5OiB1bmRlZmluZWQsXG4gICAgICAgIGxpbWl0OiAyMCxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwbGFudHMgd2l0aCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrUGxhbnRzID0gW3sgLi4uY3JlYXRlVGVzdFBsYW50KCksIGlkOiAxIH1dO1xuXG4gICAgICBwbGFudEZpbHRlclNjaGVtYS5wYXJzZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmYW1pbHk6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2VudXM6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNWZXJpZmllZDogdW5kZWZpbmVkLFxuICAgICAgICBjcmVhdGVkQnk6IHVuZGVmaW5lZCxcbiAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgICBvZmZzZXQ6IDIwLFxuICAgICAgfSk7XG5cbiAgICAgIGdldFBsYW50c1dpdGhTdGF0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGxhbnRzKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudHM/bGltaXQ9MTAmb2Zmc2V0PTIwJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQbGFudHNIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcblxuICAgICAgZXhwZWN0KHBsYW50RmlsdGVyU2NoZW1hLnBhcnNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGZhbWlseTogdW5kZWZpbmVkLFxuICAgICAgICBnZW51czogdW5kZWZpbmVkLFxuICAgICAgICBpc1ZlcmlmaWVkOiB1bmRlZmluZWQsXG4gICAgICAgIGNyZWF0ZWRCeTogdW5kZWZpbmVkLFxuICAgICAgICBsaW1pdDogMTAsXG4gICAgICAgIG9mZnNldDogMjAsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuYXV0aG9yaXplZCBlcnJvciB3aGVuIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICB2YWxpZGF0ZVJlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICBzZXNzaW9uOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcGxhbnRzJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQbGFudHNIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1VuYXV0aG9yaXplZCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGdldFBsYW50c1dpdGhTdGF0cykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkYXRpb24gZXJyb3IgZm9yIGludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSBuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICB2YWxpZGF0aW9uRXJyb3IubmFtZSA9ICdab2RFcnJvcic7XG4gICAgICB2YWxpZGF0aW9uRXJyb3IuaXNzdWVzID0gW1xuICAgICAgICB7IHBhdGg6IFsnbGltaXQnXSwgbWVzc2FnZTogJ0xpbWl0IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInIH1cbiAgICAgIF07XG5cbiAgICAgIHBsYW50RmlsdGVyU2NoZW1hLnBhcnNlLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IHZhbGlkYXRpb25FcnJvcjtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50cz9saW1pdD1pbnZhbGlkJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQbGFudHNIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnLFxuICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uRXJyb3IuaXNzdWVzLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChnZXRQbGFudHNXaXRoU3RhdHMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIHBsYW50RmlsdGVyU2NoZW1hLnBhcnNlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGxpbWl0OiAyMCxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgfSk7XG5cbiAgICAgIGdldFBsYW50c1dpdGhTdGF0cy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50cycpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UGxhbnRzSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvcGxhbnQtaW5zdGFuY2VzIC0gUGxhbnQgaW5zdGFuY2UgY3JlYXRpb24gd2l0aCBkYXRhIHZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgcGxhbnQgaW5zdGFuY2Ugd2l0aCB2YWxpZCBKU09OIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB0ZXN0UGxhbnQgPSB7IC4uLmNyZWF0ZVRlc3RQbGFudCgpLCBpZDogMSB9O1xuICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgICAgIHBsYW50SWQ6IHRlc3RQbGFudC5pZCxcbiAgICAgICAgbmlja25hbWU6ICdNeSBNb25zdGVyYScsXG4gICAgICAgIGxvY2F0aW9uOiAnTGl2aW5nIFJvb20nLFxuICAgICAgICBub3RlczogJ0JlYXV0aWZ1bCBwbGFudCcsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRJbnN0YW5jZURhdGEgPSB7XG4gICAgICAgIC4uLnJlcXVlc3RCb2R5LFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgICBsYXN0RmVydGlsaXplZDogbnVsbCxcbiAgICAgICAgbGFzdFJlcG90OiBudWxsLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY3JlYXRlZEluc3RhbmNlID0gY3JlYXRlVGVzdFBsYW50SW5zdGFuY2Uoe1xuICAgICAgICAuLi5leHBlY3RlZEluc3RhbmNlRGF0YSxcbiAgICAgICAgaWQ6IDEsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW5oYW5jZWRJbnN0YW5jZSA9IHtcbiAgICAgICAgLi4uY3JlYXRlZEluc3RhbmNlLFxuICAgICAgICBwbGFudDogdGVzdFBsYW50LFxuICAgICAgfTtcblxuICAgICAgY3JlYXRlUGxhbnRJbnN0YW5jZVNjaGVtYS5wYXJzZS5tb2NrUmV0dXJuVmFsdWUoZXhwZWN0ZWRJbnN0YW5jZURhdGEpO1xuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuY3JlYXRlLm1vY2tSZXNvbHZlZFZhbHVlKGNyZWF0ZWRJbnN0YW5jZSk7XG4gICAgICBQbGFudEluc3RhbmNlUXVlcmllcy5nZXRFbmhhbmNlZEJ5SWQubW9ja1Jlc29sdmVkVmFsdWUoZW5oYW5jZWRJbnN0YW5jZSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcGxhbnQtaW5zdGFuY2VzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY3JlYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGVuaGFuY2VkSW5zdGFuY2UsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGNyZWF0ZVBsYW50SW5zdGFuY2VTY2hlbWEucGFyc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkSW5zdGFuY2VEYXRhKTtcbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkSW5zdGFuY2VEYXRhKTtcbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5nZXRFbmhhbmNlZEJ5SWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGNyZWF0ZWRJbnN0YW5jZS5pZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBwbGFudCBpbnN0YW5jZSB3aXRoIEZvcm1EYXRhIChmaWxlIHVwbG9hZCknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB0ZXN0UGxhbnQgPSB7IC4uLmNyZWF0ZVRlc3RQbGFudCgpLCBpZDogMSB9O1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGxhbnRJZCcsIHRlc3RQbGFudC5pZC50b1N0cmluZygpKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmlja25hbWUnLCAnTXkgTW9uc3RlcmEnKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbG9jYXRpb24nLCAnTGl2aW5nIFJvb20nKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaXNBY3RpdmUnLCAndHJ1ZScpO1xuXG4gICAgICAvLyBNb2NrIGZpbGVcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IEZpbGUoWyd0ZXN0IGltYWdlJ10sICd0ZXN0LmpwZycsIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH0pO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZUZpbGVzWzBdJywgbW9ja0ZpbGUpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZEluc3RhbmNlRGF0YSA9IHtcbiAgICAgICAgcGxhbnRJZDogdGVzdFBsYW50LmlkLFxuICAgICAgICBuaWNrbmFtZTogJ015IE1vbnN0ZXJhJyxcbiAgICAgICAgbG9jYXRpb246ICdMaXZpbmcgUm9vbScsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgICBsYXN0RmVydGlsaXplZDogbnVsbCxcbiAgICAgICAgbGFzdFJlcG90OiBudWxsLFxuICAgICAgICBpbWFnZXM6IFsnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxkR1Z6ZENCcGJXRm5aUT09J10sIC8vIGJhc2U2NCBvZiBcInRlc3QgaW1hZ2VcIlxuICAgICAgfTtcblxuICAgICAgY29uc3QgY3JlYXRlZEluc3RhbmNlID0gY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UoZXhwZWN0ZWRJbnN0YW5jZURhdGEpO1xuICAgICAgY29uc3QgZW5oYW5jZWRJbnN0YW5jZSA9IHsgLi4uY3JlYXRlZEluc3RhbmNlLCBwbGFudDogdGVzdFBsYW50IH07XG5cbiAgICAgIGNyZWF0ZVBsYW50SW5zdGFuY2VTY2hlbWEucGFyc2UubW9ja1JldHVyblZhbHVlKGV4cGVjdGVkSW5zdGFuY2VEYXRhKTtcbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmNyZWF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZShjcmVhdGVkSW5zdGFuY2UpO1xuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuZ2V0RW5oYW5jZWRCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKGVuaGFuY2VkSW5zdGFuY2UpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVQbGFudEluc3RhbmNlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmRhdGEpLnRvRXF1YWwoZW5oYW5jZWRJbnN0YW5jZSk7XG5cbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkSW5zdGFuY2VEYXRhKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkYXRpb24gZXJyb3IgZm9yIGludmFsaWQgcGxhbnQgaW5zdGFuY2UgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudElkOiAnaW52YWxpZCcsXG4gICAgICAgIG5pY2tuYW1lOiAnJyxcbiAgICAgICAgbG9jYXRpb246ICcnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gbmV3IEVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgdmFsaWRhdGlvbkVycm9yLm5hbWUgPSAnWm9kRXJyb3InO1xuICAgICAgdmFsaWRhdGlvbkVycm9yLmlzc3VlcyA9IFtcbiAgICAgICAgeyBwYXRoOiBbJ3BsYW50SWQnXSwgbWVzc2FnZTogJ1BsYW50IElEIG11c3QgYmUgYSBudW1iZXInIH0sXG4gICAgICAgIHsgcGF0aDogWyduaWNrbmFtZSddLCBtZXNzYWdlOiAnTmlja25hbWUgaXMgcmVxdWlyZWQnIH0sXG4gICAgICBdO1xuXG4gICAgICBjcmVhdGVQbGFudEluc3RhbmNlU2NoZW1hLnBhcnNlLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IHZhbGlkYXRpb25FcnJvcjtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNyZWF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgIGRldGFpbHM6IHZhbGlkYXRpb25FcnJvci5pc3N1ZXMsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KFBsYW50SW5zdGFuY2VRdWVyaWVzLmNyZWF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuYXV0aG9yaXplZCBlcnJvciB3aGVuIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICB2YWxpZGF0ZVZlcmlmaWVkUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcGxhbnRJZDogMSB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNyZWF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdVbmF1dGhvcml6ZWQnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5jcmVhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSByZXF1ZXN0IGJvZHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVQbGFudEluc3RhbmNlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnUmVxdWVzdCBib2R5IGlzIHJlcXVpcmVkJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoUGxhbnRJbnN0YW5jZVF1ZXJpZXMuY3JlYXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIEpTT04nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY3JlYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ludmFsaWQgSlNPTiBpbiByZXF1ZXN0IGJvZHknLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5jcmVhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBmZXJ0aWxpemVyIGR1ZSBkYXRlIGZyb20gc2NoZWR1bGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgcGxhbnRJZDogMSxcbiAgICAgICAgbmlja25hbWU6ICdUZXN0IFBsYW50JyxcbiAgICAgICAgbG9jYXRpb246ICdUZXN0IExvY2F0aW9uJyxcbiAgICAgICAgZmVydGlsaXplclNjaGVkdWxlOiAnMiB3ZWVrcycsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBleHBlY3RlZEluc3RhbmNlRGF0YSA9IHtcbiAgICAgICAgLi4ucmVxdWVzdEJvZHksXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIGxhc3RGZXJ0aWxpemVkOiBudWxsLFxuICAgICAgICBsYXN0UmVwb3Q6IG51bGwsXG4gICAgICAgIGZlcnRpbGl6ZXJEdWU6IGV4cGVjdC5hbnkoRGF0ZSksXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjcmVhdGVkSW5zdGFuY2UgPSBjcmVhdGVUZXN0UGxhbnRJbnN0YW5jZShleHBlY3RlZEluc3RhbmNlRGF0YSk7XG4gICAgICBjb25zdCBlbmhhbmNlZEluc3RhbmNlID0geyAuLi5jcmVhdGVkSW5zdGFuY2UsIHBsYW50OiBjcmVhdGVUZXN0UGxhbnQoKSB9O1xuXG4gICAgICBjcmVhdGVQbGFudEluc3RhbmNlU2NoZW1hLnBhcnNlLm1vY2tSZXR1cm5WYWx1ZShleHBlY3RlZEluc3RhbmNlRGF0YSk7XG4gICAgICBQbGFudEluc3RhbmNlUXVlcmllcy5jcmVhdGUubW9ja1Jlc29sdmVkVmFsdWUoY3JlYXRlZEluc3RhbmNlKTtcbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZC5tb2NrUmVzb2x2ZWRWYWx1ZShlbmhhbmNlZEluc3RhbmNlKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVQbGFudEluc3RhbmNlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIC8vIFZlcmlmeSBmZXJ0aWxpemVyIGR1ZSBkYXRlIHdhcyBjYWxjdWxhdGVkIChzaG91bGQgYmUgMiB3ZWVrcyBmcm9tIG5vdylcbiAgICAgIGNvbnN0IGNhbGxBcmdzID0gUGxhbnRJbnN0YW5jZVF1ZXJpZXMuY3JlYXRlLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBleHBlY3QoY2FsbEFyZ3MuZmVydGlsaXplckR1ZSkudG9CZUluc3RhbmNlT2YoRGF0ZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBleHBlY3RlZER1ZSA9IG5ldyBEYXRlKG5vdyk7XG4gICAgICBleHBlY3RlZER1ZS5zZXREYXRlKGV4cGVjdGVkRHVlLmdldERhdGUoKSArIDE0KTsgLy8gMiB3ZWVrc1xuICAgICAgXG4gICAgICAvLyBBbGxvdyBmb3Igc21hbGwgdGltZSBkaWZmZXJlbmNlcyBpbiB0ZXN0IGV4ZWN1dGlvblxuICAgICAgY29uc3QgdGltZURpZmYgPSBNYXRoLmFicyhjYWxsQXJncy5mZXJ0aWxpemVyRHVlLmdldFRpbWUoKSAtIGV4cGVjdGVkRHVlLmdldFRpbWUoKSk7XG4gICAgICBleHBlY3QodGltZURpZmYpLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gTGVzcyB0aGFuIDEgc2Vjb25kIGRpZmZlcmVuY2VcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL3BsYW50LWluc3RhbmNlcy9baWRdIC0gUGxhbnQgaW5zdGFuY2UgdXBkYXRlcyB3aXRoIGF1dGhvcml6YXRpb24gY2hlY2tzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXBkYXRlIHBsYW50IGluc3RhbmNlIHdpdGggdmFsaWQgZGF0YSBhbmQgYXV0aG9yaXphdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHRlc3RQbGFudCA9IGNyZWF0ZVRlc3RQbGFudCgpO1xuICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlKHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIHBsYW50SWQ6IHRlc3RQbGFudC5pZCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJ1VwZGF0ZWQgTmlja25hbWUnLFxuICAgICAgICBsb2NhdGlvbjogJ05ldyBMb2NhdGlvbicsXG4gICAgICAgIG5vdGVzOiAnVXBkYXRlZCBub3RlcycsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBleHBlY3RlZFVwZGF0ZURhdGEgPSB7XG4gICAgICAgIC4uLnVwZGF0ZURhdGEsXG4gICAgICAgIGlkOiAxLFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgICBsYXN0RmVydGlsaXplZDogbnVsbCxcbiAgICAgICAgbGFzdFJlcG90OiBudWxsLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXBkYXRlZEluc3RhbmNlID0geyAuLi5leGlzdGluZ0luc3RhbmNlLCAuLi51cGRhdGVEYXRhIH07XG4gICAgICBjb25zdCBlbmhhbmNlZEluc3RhbmNlID0geyAuLi51cGRhdGVkSW5zdGFuY2UsIHBsYW50OiB0ZXN0UGxhbnQgfTtcblxuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuZ2V0RW5oYW5jZWRCeUlkLm1vY2tSZXNvbHZlZFZhbHVlT25jZShleGlzdGluZ0luc3RhbmNlKTtcbiAgICAgIHVwZGF0ZVBsYW50SW5zdGFuY2VTY2hlbWEucGFyc2UubW9ja1JldHVyblZhbHVlKGV4cGVjdGVkVXBkYXRlRGF0YSk7XG4gICAgICBQbGFudEluc3RhbmNlUXVlcmllcy51cGRhdGUubW9ja1Jlc29sdmVkVmFsdWUodXBkYXRlZEluc3RhbmNlKTtcbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoZW5oYW5jZWRJbnN0YW5jZSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZURhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBpZDogJzEnIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXBkYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChlbmhhbmNlZEluc3RhbmNlKTtcblxuICAgICAgZXhwZWN0KFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XG4gICAgICBleHBlY3QodXBkYXRlUGxhbnRJbnN0YW5jZVNjaGVtYS5wYXJzZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0ZWRVcGRhdGVEYXRhKTtcbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEsIHVwZGF0ZURhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZm9yYmlkZGVuIGVycm9yIHdoZW4gdXNlciBkb2VzIG5vdCBvd24gcGxhbnQgaW5zdGFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvdGhlclVzZXIgPSBjcmVhdGVUZXN0VXNlcih7IGlkOiA5OTkgfSk7XG4gICAgICBjb25zdCBleGlzdGluZ0luc3RhbmNlID0gY3JlYXRlVGVzdFBsYW50SW5zdGFuY2Uoe1xuICAgICAgICBpZDogMSxcbiAgICAgICAgdXNlcklkOiBvdGhlclVzZXIuaWQsIC8vIERpZmZlcmVudCB1c2VyXG4gICAgICB9KTtcblxuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuZ2V0RW5oYW5jZWRCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKGV4aXN0aW5nSW5zdGFuY2UpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcy8xJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5pY2tuYW1lOiAnVXBkYXRlZCcgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnMScgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB1cGRhdGVQbGFudEluc3RhbmNlSGFuZGxlcihyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMyk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdGb3JiaWRkZW4nLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy51cGRhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBub3QgZm91bmQgZXJyb3Igd2hlbiBwbGFudCBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZC5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvOTk5Jywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5pY2tuYW1lOiAnVXBkYXRlZCcgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnOTk5JyB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVwZGF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1BsYW50IGluc3RhbmNlIG5vdCBmb3VuZCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KFBsYW50SW5zdGFuY2VRdWVyaWVzLnVwZGF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJhZCByZXF1ZXN0IGVycm9yIGZvciBpbnZhbGlkIHBsYW50IGluc3RhbmNlIElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvaW52YWxpZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuaWNrbmFtZTogJ1VwZGF0ZWQnIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2ludmFsaWQnIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXBkYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBwbGFudCBpbnN0YW5jZSBJRCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuYXV0aG9yaXplZCBlcnJvciB3aGVuIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICB2YWxpZGF0ZVJlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICBzZXNzaW9uOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmlja25hbWU6ICdVcGRhdGVkJyB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICcxJyB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVwZGF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1VuYXV0aG9yaXplZCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIEZvcm1EYXRhIHVwZGF0ZXMgd2l0aCBmaWxlIHVwbG9hZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB0ZXN0UGxhbnQgPSBjcmVhdGVUZXN0UGxhbnQoKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nSW5zdGFuY2UgPSBjcmVhdGVUZXN0UGxhbnRJbnN0YW5jZSh7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgICBwbGFudElkOiB0ZXN0UGxhbnQuaWQsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmlja25hbWUnLCAnVXBkYXRlZCBOaWNrbmFtZScpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdsb2NhdGlvbicsICdOZXcgTG9jYXRpb24nKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZXhpc3RpbmdJbWFnZXNbMF0nLCAnZXhpc3RpbmctaW1hZ2UtdXJsJyk7XG5cbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IEZpbGUoWyduZXcgaW1hZ2UnXSwgJ25ldy5qcGcnLCB7IHR5cGU6ICdpbWFnZS9qcGVnJyB9KTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2VGaWxlc1swXScsIG1vY2tGaWxlKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRVcGRhdGVEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJ1VwZGF0ZWQgTmlja25hbWUnLFxuICAgICAgICBsb2NhdGlvbjogJ05ldyBMb2NhdGlvbicsXG4gICAgICAgIGltYWdlczogWydleGlzdGluZy1pbWFnZS11cmwnLCAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxibVYzSUdsdFlXZGwnXSwgLy8gYmFzZTY0IG9mIFwibmV3IGltYWdlXCJcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIGxhc3RGZXJ0aWxpemVkOiBudWxsLFxuICAgICAgICBsYXN0UmVwb3Q6IG51bGwsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cGRhdGVkSW5zdGFuY2UgPSB7IC4uLmV4aXN0aW5nSW5zdGFuY2UsIC4uLmV4cGVjdGVkVXBkYXRlRGF0YSB9O1xuICAgICAgY29uc3QgZW5oYW5jZWRJbnN0YW5jZSA9IHsgLi4udXBkYXRlZEluc3RhbmNlLCBwbGFudDogdGVzdFBsYW50IH07XG5cbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmdldEVuaGFuY2VkQnlJZC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoZXhpc3RpbmdJbnN0YW5jZSk7XG4gICAgICB1cGRhdGVQbGFudEluc3RhbmNlU2NoZW1hLnBhcnNlLm1vY2tSZXR1cm5WYWx1ZShleHBlY3RlZFVwZGF0ZURhdGEpO1xuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMudXBkYXRlLm1vY2tSZXNvbHZlZFZhbHVlKHVwZGF0ZWRJbnN0YW5jZSk7XG4gICAgICBQbGFudEluc3RhbmNlUXVlcmllcy5nZXRFbmhhbmNlZEJ5SWQubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGVuaGFuY2VkSW5zdGFuY2UpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcy8xJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBpZDogJzEnIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXBkYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChlbmhhbmNlZEluc3RhbmNlKTtcblxuICAgICAgLy8gVmVyaWZ5IHRoZSB1cGRhdGUgd2FzIGNhbGxlZCB3aXRoIGNvcnJlY3QgZGF0YSAoZXhjbHVkaW5nIGlkIGFuZCB1c2VySWQpXG4gICAgICBjb25zdCB7IGlkLCB1c2VySWQsIC4uLnVwZGF0ZURhdGFXaXRob3V0SWRzIH0gPSBleHBlY3RlZFVwZGF0ZURhdGE7XG4gICAgICBleHBlY3QoUGxhbnRJbnN0YW5jZVF1ZXJpZXMudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgxLCB1cGRhdGVEYXRhV2l0aG91dElkcyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2YWxpZGF0aW9uIGVycm9ycyBkdXJpbmcgdXBkYXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlKHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gbmV3IEVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgdmFsaWRhdGlvbkVycm9yLm5hbWUgPSAnWm9kRXJyb3InO1xuICAgICAgdmFsaWRhdGlvbkVycm9yLmlzc3VlcyA9IFtcbiAgICAgICAgeyBwYXRoOiBbJ25pY2tuYW1lJ10sIG1lc3NhZ2U6ICdOaWNrbmFtZSBpcyByZXF1aXJlZCcgfVxuICAgICAgXTtcblxuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuZ2V0RW5oYW5jZWRCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKGV4aXN0aW5nSW5zdGFuY2UpO1xuICAgICAgdXBkYXRlUGxhbnRJbnN0YW5jZVNjaGVtYS5wYXJzZS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyB2YWxpZGF0aW9uRXJyb3I7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvMScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuaWNrbmFtZTogJycgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnMScgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB1cGRhdGVQbGFudEluc3RhbmNlSGFuZGxlcihyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmVycm9yKS50b0NvbnRhaW4oJ0ludmFsaWQgcGxhbnQgaW5zdGFuY2UgZGF0YScpO1xuXG4gICAgICBleHBlY3QoUGxhbnRJbnN0YW5jZVF1ZXJpZXMudXBkYXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGxhbnQgTWFuYWdlbWVudCBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSBwbGFudCBtYW5hZ2VtZW50IHdvcmtmbG93OiBjcmVhdGUgLT4gcmVhZCAtPiB1cGRhdGUgLT4gZGVsZXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdFBsYW50ID0gY3JlYXRlVGVzdFBsYW50KCk7XG4gICAgICBcbiAgICAgIC8vIFN0ZXAgMTogQ3JlYXRlIHBsYW50IGluc3RhbmNlXG4gICAgICBjb25zdCBjcmVhdGVEYXRhID0ge1xuICAgICAgICBwbGFudElkOiB0ZXN0UGxhbnQuaWQsXG4gICAgICAgIG5pY2tuYW1lOiAnVGVzdCBQbGFudCcsXG4gICAgICAgIGxvY2F0aW9uOiAnVGVzdCBMb2NhdGlvbicsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjcmVhdGVkSW5zdGFuY2UgPSBjcmVhdGVUZXN0UGxhbnRJbnN0YW5jZSh7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICAuLi5jcmVhdGVEYXRhLFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGVuaGFuY2VkSW5zdGFuY2UgPSB7IC4uLmNyZWF0ZWRJbnN0YW5jZSwgcGxhbnQ6IHRlc3RQbGFudCB9O1xuXG4gICAgICBjcmVhdGVQbGFudEluc3RhbmNlU2NoZW1hLnBhcnNlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIC4uLmNyZWF0ZURhdGEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIGxhc3RGZXJ0aWxpemVkOiBudWxsLFxuICAgICAgICBsYXN0UmVwb3Q6IG51bGwsXG4gICAgICB9KTtcbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmNyZWF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZShjcmVhdGVkSW5zdGFuY2UpO1xuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuZ2V0RW5oYW5jZWRCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKGVuaGFuY2VkSW5zdGFuY2UpO1xuXG4gICAgICBjb25zdCBjcmVhdGVSZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNyZWF0ZURhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjcmVhdGVSZXNwb25zZSA9IGF3YWl0IGNyZWF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKGNyZWF0ZVJlcXVlc3QpO1xuICAgICAgY29uc3QgY3JlYXRlUmVzcG9uc2VEYXRhID0gYXdhaXQgY3JlYXRlUmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QoY3JlYXRlUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICBleHBlY3QoY3JlYXRlUmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIC8vIFN0ZXAgMjogUmVhZCBwbGFudCBpbnN0YW5jZVxuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMuZ2V0RW5oYW5jZWRCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKGVuaGFuY2VkSW5zdGFuY2UpO1xuXG4gICAgICBjb25zdCByZWFkUmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvMScpO1xuICAgICAgY29uc3QgcmVhZFBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnMScgfSk7XG5cbiAgICAgIGNvbnN0IHJlYWRSZXNwb25zZSA9IGF3YWl0IGdldFBsYW50SW5zdGFuY2VIYW5kbGVyKHJlYWRSZXF1ZXN0LCB7IHBhcmFtczogcmVhZFBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IHJlYWRSZXNwb25zZURhdGEgPSBhd2FpdCByZWFkUmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVhZFJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlYWRSZXNwb25zZURhdGEpLnRvRXF1YWwoZW5oYW5jZWRJbnN0YW5jZSk7XG5cbiAgICAgIC8vIFN0ZXAgMzogVXBkYXRlIHBsYW50IGluc3RhbmNlXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0geyBuaWNrbmFtZTogJ1VwZGF0ZWQgUGxhbnQnIH07XG4gICAgICBjb25zdCB1cGRhdGVkSW5zdGFuY2UgPSB7IC4uLmVuaGFuY2VkSW5zdGFuY2UsIC4uLnVwZGF0ZURhdGEgfTtcblxuICAgICAgdXBkYXRlUGxhbnRJbnN0YW5jZVNjaGVtYS5wYXJzZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAuLi51cGRhdGVEYXRhLFxuICAgICAgICBpZDogMSxcbiAgICAgICAgdXNlcklkOiB0ZXN0VXNlci5pZCxcbiAgICAgICAgbGFzdEZlcnRpbGl6ZWQ6IG51bGwsXG4gICAgICAgIGxhc3RSZXBvdDogbnVsbCxcbiAgICAgIH0pO1xuICAgICAgUGxhbnRJbnN0YW5jZVF1ZXJpZXMudXBkYXRlLm1vY2tSZXNvbHZlZFZhbHVlKHVwZGF0ZWRJbnN0YW5jZSk7XG4gICAgICBQbGFudEluc3RhbmNlUXVlcmllcy5nZXRFbmhhbmNlZEJ5SWQubW9ja1Jlc29sdmVkVmFsdWUodXBkYXRlZEluc3RhbmNlKTtcblxuICAgICAgY29uc3QgdXBkYXRlUmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvMScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlRGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCB1cGRhdGVQYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBpZDogJzEnIH0pO1xuXG4gICAgICBjb25zdCB1cGRhdGVSZXNwb25zZSA9IGF3YWl0IHVwZGF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKHVwZGF0ZVJlcXVlc3QsIHsgcGFyYW1zOiB1cGRhdGVQYXJhbXMgfSk7XG4gICAgICBjb25zdCB1cGRhdGVSZXNwb25zZURhdGEgPSBhd2FpdCB1cGRhdGVSZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdCh1cGRhdGVSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVSZXNwb25zZURhdGEubmlja25hbWUpLnRvQmUoJ1VwZGF0ZWQgUGxhbnQnKTtcblxuICAgICAgLy8gU3RlcCA0OiBEZWxldGUgcGxhbnQgaW5zdGFuY2VcbiAgICAgIFBsYW50SW5zdGFuY2VRdWVyaWVzLmRlbGV0ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcblxuICAgICAgY29uc3QgZGVsZXRlUmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvMScsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGVsZXRlUGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICcxJyB9KTtcblxuICAgICAgY29uc3QgZGVsZXRlUmVzcG9uc2UgPSBhd2FpdCBkZWxldGVQbGFudEluc3RhbmNlSGFuZGxlcihkZWxldGVSZXF1ZXN0LCB7IHBhcmFtczogZGVsZXRlUGFyYW1zIH0pO1xuICAgICAgY29uc3QgZGVsZXRlUmVzcG9uc2VEYXRhID0gYXdhaXQgZGVsZXRlUmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QoZGVsZXRlUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGVsZXRlUmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ1BsYW50IGluc3RhbmNlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgYWxsIG9wZXJhdGlvbnMgd2VyZSBjYWxsZWRcbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChQbGFudEluc3RhbmNlUXVlcmllcy5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYXV0aG9yaXphdGlvbiBjaGVja3MgYWNyb3NzIGFsbCBlbmRwb2ludHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUZXN0IHVuYXV0aG9yaXplZCBhY2Nlc3MgdG8gYWxsIGVuZHBvaW50c1xuICAgICAgdmFsaWRhdGVSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9KTtcblxuICAgICAgLy8gR0VUIC9hcGkvcGxhbnRzXG4gICAgICBjb25zdCBnZXRQbGFudHNSZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50cycpO1xuICAgICAgY29uc3QgZ2V0UGxhbnRzUmVzcG9uc2UgPSBhd2FpdCBnZXRQbGFudHNIYW5kbGVyKGdldFBsYW50c1JlcXVlc3QpO1xuICAgICAgZXhwZWN0KGdldFBsYW50c1Jlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuXG4gICAgICAvLyBQT1NUIC9hcGkvcGxhbnQtaW5zdGFuY2VzXG4gICAgICBjb25zdCBjcmVhdGVSZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZVJlc3BvbnNlID0gYXdhaXQgY3JlYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIoY3JlYXRlUmVxdWVzdCk7XG4gICAgICBleHBlY3QoY3JlYXRlUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG5cbiAgICAgIC8vIEdFVCAvYXBpL3BsYW50LWluc3RhbmNlcy8xXG4gICAgICBjb25zdCBnZXRSZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BsYW50LWluc3RhbmNlcy8xJyk7XG4gICAgICBjb25zdCBnZXRQYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBpZDogJzEnIH0pO1xuICAgICAgY29uc3QgZ2V0UmVzcG9uc2UgPSBhd2FpdCBnZXRQbGFudEluc3RhbmNlSGFuZGxlcihnZXRSZXF1ZXN0LCB7IHBhcmFtczogZ2V0UGFyYW1zIH0pO1xuICAgICAgZXhwZWN0KGdldFJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuXG4gICAgICAvLyBQVVQgL2FwaS9wbGFudC1pbnN0YW5jZXMvMVxuICAgICAgY29uc3QgdXBkYXRlUmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wbGFudC1pbnN0YW5jZXMvMScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdXBkYXRlUGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICcxJyB9KTtcbiAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlID0gYXdhaXQgdXBkYXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIodXBkYXRlUmVxdWVzdCwgeyBwYXJhbXM6IHVwZGF0ZVBhcmFtcyB9KTtcbiAgICAgIGV4cGVjdCh1cGRhdGVSZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcblxuICAgICAgLy8gREVMRVRFIC9hcGkvcGxhbnQtaW5zdGFuY2VzLzFcbiAgICAgIGNvbnN0IGRlbGV0ZVJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRlbGV0ZVBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnMScgfSk7XG4gICAgICBjb25zdCBkZWxldGVSZXNwb25zZSA9IGF3YWl0IGRlbGV0ZVBsYW50SW5zdGFuY2VIYW5kbGVyKGRlbGV0ZVJlcXVlc3QsIHsgcGFyYW1zOiBkZWxldGVQYXJhbXMgfSk7XG4gICAgICBleHBlY3QoZGVsZXRlUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidmFsaWRhdGVSZXF1ZXN0IiwiZm4iLCJ2YWxpZGF0ZVZlcmlmaWVkUmVxdWVzdCIsImNyZWF0ZVBsYW50IiwiZ2V0UGxhbnRzV2l0aFN0YXRzIiwidmFsaWRhdGVQbGFudFRheG9ub215IiwiUGxhbnRJbnN0YW5jZVF1ZXJpZXMiLCJnZXRXaXRoRmlsdGVycyIsImNyZWF0ZSIsImdldEVuaGFuY2VkQnlJZCIsInVwZGF0ZSIsImRlbGV0ZSIsImNyZWF0ZVBsYW50U2NoZW1hIiwicGFyc2UiLCJwbGFudEZpbHRlclNjaGVtYSIsImNyZWF0ZVBsYW50SW5zdGFuY2VTY2hlbWEiLCJwbGFudEluc3RhbmNlRmlsdGVyU2NoZW1hIiwidXBkYXRlUGxhbnRJbnN0YW5jZVNjaGVtYSIsImRlc2NyaWJlIiwidGVzdFVzZXIiLCJ0ZXN0U2Vzc2lvbiIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwicmVzZXRBcGlNb2NrcyIsImNyZWF0ZVRlc3RVc2VyIiwiY3JlYXRlVGVzdFNlc3Npb24iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVzZXIiLCJzZXNzaW9uIiwiYWZ0ZXJFYWNoIiwicmVzdG9yZUFsbE1vY2tzIiwiaXQiLCJtb2NrUGxhbnRzIiwiY3JlYXRlVGVzdFBsYW50IiwiZmFtaWx5IiwiZ2VudXMiLCJpZCIsIm1vY2tSZXR1cm5WYWx1ZSIsInVuZGVmaW5lZCIsImlzVmVyaWZpZWQiLCJjcmVhdGVkQnkiLCJsaW1pdCIsIm9mZnNldCIsInJlcXVlc3QiLCJOZXh0UmVxdWVzdCIsInJlc3BvbnNlIiwiZ2V0UGxhbnRzSGFuZGxlciIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwidG9FcXVhbCIsInN1Y2Nlc3MiLCJkYXRhIiwibWV0YWRhdGEiLCJvcGVyYXRpb24iLCJ0aW1lc3RhbXAiLCJhbnkiLCJTdHJpbmciLCJ1c2VySWQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJPYmplY3QiLCJlcnJvciIsIm5vdCIsInZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwibmFtZSIsImlzc3VlcyIsInBhdGgiLCJtZXNzYWdlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiZGV0YWlscyIsIm1vY2tSZWplY3RlZFZhbHVlIiwidGVzdFBsYW50IiwicmVxdWVzdEJvZHkiLCJwbGFudElkIiwibmlja25hbWUiLCJsb2NhdGlvbiIsIm5vdGVzIiwiaXNBY3RpdmUiLCJleHBlY3RlZEluc3RhbmNlRGF0YSIsImxhc3RGZXJ0aWxpemVkIiwibGFzdFJlcG90IiwiY3JlYXRlZEluc3RhbmNlIiwiY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UiLCJlbmhhbmNlZEluc3RhbmNlIiwicGxhbnQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJjcmVhdGVQbGFudEluc3RhbmNlSGFuZGxlciIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ0b1N0cmluZyIsIm1vY2tGaWxlIiwiRmlsZSIsInR5cGUiLCJpbWFnZXMiLCJmZXJ0aWxpemVyU2NoZWR1bGUiLCJmZXJ0aWxpemVyRHVlIiwiRGF0ZSIsImNhbGxBcmdzIiwiY2FsbHMiLCJ0b0JlSW5zdGFuY2VPZiIsIm5vdyIsImV4cGVjdGVkRHVlIiwic2V0RGF0ZSIsImdldERhdGUiLCJ0aW1lRGlmZiIsIk1hdGgiLCJhYnMiLCJnZXRUaW1lIiwidG9CZUxlc3NUaGFuIiwiZXhpc3RpbmdJbnN0YW5jZSIsInVwZGF0ZURhdGEiLCJleHBlY3RlZFVwZGF0ZURhdGEiLCJ1cGRhdGVkSW5zdGFuY2UiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJwYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInVwZGF0ZVBsYW50SW5zdGFuY2VIYW5kbGVyIiwib3RoZXJVc2VyIiwidXBkYXRlRGF0YVdpdGhvdXRJZHMiLCJ0b0NvbnRhaW4iLCJjcmVhdGVEYXRhIiwiY3JlYXRlUmVxdWVzdCIsImNyZWF0ZVJlc3BvbnNlIiwiY3JlYXRlUmVzcG9uc2VEYXRhIiwicmVhZFJlcXVlc3QiLCJyZWFkUGFyYW1zIiwicmVhZFJlc3BvbnNlIiwiZ2V0UGxhbnRJbnN0YW5jZUhhbmRsZXIiLCJyZWFkUmVzcG9uc2VEYXRhIiwidXBkYXRlUmVxdWVzdCIsInVwZGF0ZVBhcmFtcyIsInVwZGF0ZVJlc3BvbnNlIiwidXBkYXRlUmVzcG9uc2VEYXRhIiwiZGVsZXRlUmVxdWVzdCIsImRlbGV0ZVBhcmFtcyIsImRlbGV0ZVJlc3BvbnNlIiwiZGVsZXRlUGxhbnRJbnN0YW5jZUhhbmRsZXIiLCJkZWxldGVSZXNwb25zZURhdGEiLCJnZXRQbGFudHNSZXF1ZXN0IiwiZ2V0UGxhbnRzUmVzcG9uc2UiLCJnZXRSZXF1ZXN0IiwiZ2V0UGFyYW1zIiwiZ2V0UmVzcG9uc2UiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0Qyw0RkFBNEY7O0FBVTVGLDBCQUEwQjtBQUMxQkEsS0FBS0MsSUFBSSxDQUFDLHFCQUFxQixJQUFPLENBQUE7UUFDcENDLGlCQUFpQkYsS0FBS0csRUFBRTtRQUN4QkMseUJBQXlCSixLQUFLRyxFQUFFO0lBQ2xDLENBQUE7QUFFQSw0QkFBNEI7QUFDNUJILEtBQUtDLElBQUksQ0FBQyxtQ0FBbUMsSUFBTyxDQUFBO1FBQ2xESSxhQUFhTCxLQUFLRyxFQUFFO1FBQ3BCRyxvQkFBb0JOLEtBQUtHLEVBQUU7UUFDM0JJLHVCQUF1QlAsS0FBS0csRUFBRTtJQUNoQyxDQUFBO0FBRUFILEtBQUtDLElBQUksQ0FBQyxvQ0FBb0MsSUFBTyxDQUFBO1FBQ25ETyxzQkFBc0I7WUFDcEJDLGdCQUFnQlQsS0FBS0csRUFBRTtZQUN2Qk8sUUFBUVYsS0FBS0csRUFBRTtZQUNmUSxpQkFBaUJYLEtBQUtHLEVBQUU7WUFDeEJTLFFBQVFaLEtBQUtHLEVBQUU7WUFDZlUsUUFBUWIsS0FBS0csRUFBRTtRQUNqQjtJQUNGLENBQUE7QUFFQSwwQkFBMEI7QUFDMUJILEtBQUtDLElBQUksQ0FBQyxrQ0FBa0MsSUFBTyxDQUFBO1FBQ2pEYSxtQkFBbUI7WUFDakJDLE9BQU9mLEtBQUtHLEVBQUU7UUFDaEI7UUFDQWEsbUJBQW1CO1lBQ2pCRCxPQUFPZixLQUFLRyxFQUFFO1FBQ2hCO1FBQ0FjLDJCQUEyQjtZQUN6QkYsT0FBT2YsS0FBS0csRUFBRTtRQUNoQjtRQUNBZSwyQkFBMkI7WUFDekJILE9BQU9mLEtBQUtHLEVBQUU7UUFDaEI7UUFDQWdCLDJCQUEyQjtZQUN6QkosT0FBT2YsS0FBS0csRUFB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