93d6702c62e4af3eef2b779ed0a478e5
// Plant Management Integration Tests
// Tests complete plant creation, editing, and deletion workflows
"use strict";
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush,
                refresh: mockRefresh
            }),
        useSearchParams: ()=>({
                get: jest.fn(()=>null)
            })
    }));
jest.mock('@tanstack/react-query', ()=>({
        useQuery: jest.fn(()=>({
                data: [],
                isLoading: false,
                error: null
            })),
        useMutation: jest.fn(()=>({
                mutate: jest.fn(),
                isLoading: false,
                error: null
            })),
        useQueryClient: ()=>({
                invalidateQueries: mockInvalidateQueries,
                refetchQueries: mockRefetchQueries,
                removeQueries: mockRemoveQueries
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _testutils = require("../../test-utils");
const _apihelpers = require("../../test-utils/helpers/api-helpers.js");
const _userfactory = require("../../test-utils/factories/user-factory.js");
const _plantfactory = require("../../test-utils/factories/plant-factory.js");
const _PlantInstanceForm = /*#__PURE__*/ _interop_require_default(require("../../components/plants/PlantInstanceForm"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock Next.js router
const mockPush = jest.fn();
const mockRefresh = jest.fn();
// Mock React Query
const mockInvalidateQueries = jest.fn();
const mockRefetchQueries = jest.fn();
const mockRemoveQueries = jest.fn();
describe('Plant Management Integration Tests', ()=>{
    let testUser;
    let testSession;
    beforeEach(()=>{
        jest.clearAllMocks();
        (0, _apihelpers.resetApiMocks)();
        mockPush.mockClear();
        mockRefresh.mockClear();
        mockInvalidateQueries.mockClear();
        mockRefetchQueries.mockClear();
        mockRemoveQueries.mockClear();
        // Create authenticated test user
        const authData = (0, _userfactory.createAuthenticatedTestUser)();
        testUser = authData.user;
        testSession = authData.session;
    });
    afterEach(()=>{
        (0, _apihelpers.resetApiMocks)();
    });
    describe('Plant Creation Workflow', ()=>{
        it('should complete plant creation workflow from form to database', async ()=>{
            // Arrange
            const testPlant = (0, _plantfactory.createTestPlant)({
                id: 1,
                commonName: 'Monstera Deliciosa',
                family: 'Araceae',
                genus: 'Monstera',
                species: 'deliciosa'
            });
            const newPlantInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                plantId: testPlant.id,
                nickname: 'My Monstera',
                location: 'Living Room',
                userId: testUser.id
            });
            // Mock plant search API
            (0, _apihelpers.mockApiResponse)({
                'GET /api/plants': {
                    status: 200,
                    data: {
                        success: true,
                        data: [
                            testPlant
                        ]
                    }
                }
            });
            // Mock plant instance creation API
            (0, _apihelpers.mockApiResponse)({
                'POST /api/plant-instances': {
                    status: 201,
                    data: {
                        success: true,
                        data: newPlantInstance
                    }
                }
            });
            const mockOnSuccess = jest.fn();
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                isOpen: true,
                onClose: jest.fn(),
                onSuccess: mockOnSuccess,
                userId: testUser.id
            }));
            // Act - Fill out plant creation form
            await _testutils.userInteractions.fillForm({
                'Nickname': 'My Monstera',
                'Location': 'Living Room'
            }, user);
            // Select fertilizer schedule
            const fertilizerSelect = _react.screen.getByLabelText(/fertilizer schedule/i);
            await user.selectOptions(fertilizerSelect, 'every_4_weeks');
            // Submit form
            const submitButton = _react.screen.getByRole('button', {
                name: /save|create/i
            });
            await user.click(submitButton);
            // Assert - Verify API call was made with correct data
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances', expect.objectContaining({
                    method: 'POST'
                }));
            });
            // Assert - Verify success callback was called
            await (0, _react.waitFor)(()=>{
                expect(mockOnSuccess).toHaveBeenCalledWith(newPlantInstance);
            });
        });
        it('should handle plant creation validation errors', async ()=>{
            // Arrange
            (0, _apihelpers.mockApiResponse)({
                'POST /api/plant-instances': {
                    status: 400,
                    data: {
                        success: false,
                        error: 'Validation failed',
                        details: [
                            {
                                path: [
                                    'nickname'
                                ],
                                message: 'Nickname is required'
                            },
                            {
                                path: [
                                    'location'
                                ],
                                message: 'Location is required'
                            }
                        ]
                    }
                }
            });
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Act - Submit form without required fields
            const submitButton = _react.screen.getByRole('button', {
                name: /save|create/i
            });
            await user.click(submitButton);
            // Assert - Verify validation errors are displayed
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/nickname is required/i)).toBeInTheDocument();
                expect(_react.screen.getByText(/location is required/i)).toBeInTheDocument();
            });
        });
        it('should handle plant creation server errors', async ()=>{
            // Arrange
            (0, _apihelpers.mockApiError)('/api/plant-instances', 500, {
                error: 'Database connection failed'
            }, 'POST');
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Act - Fill and submit valid form
            await _testutils.userInteractions.fillForm({
                'Nickname': 'Test Plant',
                'Location': 'Test Location'
            }, user);
            const submitButton = _react.screen.getByRole('button', {
                name: /save|create/i
            });
            await user.click(submitButton);
            // Assert - Verify error message is displayed
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/database connection failed/i)).toBeInTheDocument();
            });
        });
        it('should create new plant taxonomy when plant type not found', async ()=>{
            // Arrange
            const newPlant = (0, _plantfactory.createTestPlant)({
                id: 2,
                commonName: 'New Plant Species',
                family: 'Testaceae',
                genus: 'Testus',
                species: 'newus'
            });
            // Mock empty plant search
            (0, _apihelpers.mockApiResponse)({
                'GET /api/plants': {
                    status: 200,
                    data: {
                        success: true,
                        data: []
                    }
                }
            });
            // Mock plant creation
            (0, _apihelpers.mockApiResponse)({
                'POST /api/plants': {
                    status: 201,
                    data: {
                        success: true,
                        data: newPlant
                    }
                }
            });
            // Mock plant instance creation
            (0, _apihelpers.mockApiResponse)({
                'POST /api/plant-instances': {
                    status: 201,
                    data: {
                        success: true,
                        data: (0, _plantfactory.createTestPlantInstance)({
                            plantId: newPlant.id,
                            userId: testUser.id
                        })
                    }
                }
            });
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Act - Create new plant taxonomy
            const addNewButton = _react.screen.getByRole('button', {
                name: /add new|create new/i
            });
            await user.click(addNewButton);
            // Fill taxonomy form
            await _testutils.userInteractions.fillForm({
                'Common Name': 'New Plant Species',
                'Family': 'Testaceae',
                'Genus': 'Testus',
                'Species': 'newus'
            }, user);
            const createPlantButton = _react.screen.getByRole('button', {
                name: /create plant type/i
            });
            await user.click(createPlantButton);
            // Assert - Verify plant creation API was called
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plants', expect.objectContaining({
                    method: 'POST',
                    body: expect.stringContaining('New Plant Species')
                }));
            });
        });
    });
    describe('Plant Editing and Updating Workflows', ()=>{
        it('should complete plant editing workflow with data persistence', async ()=>{
            // Arrange
            const existingPlant = (0, _plantfactory.createTestPlant)();
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                plantId: existingPlant.id,
                nickname: 'Original Name',
                location: 'Original Location',
                userId: testUser.id,
                plant: existingPlant
            });
            const updatedInstance = {
                ...existingInstance,
                nickname: 'Updated Name',
                location: 'Updated Location'
            };
            // Mock plant instance update API
            (0, _apihelpers.mockApiResponse)({
                'PUT /api/plant-instances/1': {
                    status: 200,
                    data: updatedInstance
                }
            });
            const mockOnSuccess = jest.fn();
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                plantInstance: existingInstance,
                isOpen: true,
                onClose: jest.fn(),
                onSuccess: mockOnSuccess,
                userId: testUser.id
            }));
            // Act - Update plant information
            const nicknameField = _react.screen.getByDisplayValue('Original Name');
            await user.clear(nicknameField);
            await user.type(nicknameField, 'Updated Name');
            const locationField = _react.screen.getByDisplayValue('Original Location');
            await user.clear(locationField);
            await user.type(locationField, 'Updated Location');
            // Submit form
            const submitButton = _react.screen.getByRole('button', {
                name: /save|update/i
            });
            await user.click(submitButton);
            // Assert - Verify API call was made with updated data
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances/1', expect.objectContaining({
                    method: 'PUT'
                }));
            });
            // Assert - Verify success callback was called
            await (0, _react.waitFor)(()=>{
                expect(mockOnSuccess).toHaveBeenCalledWith(updatedInstance);
            });
        });
        it('should handle plant editing authorization errors', async ()=>{
            // Arrange
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: 999
            });
            (0, _apihelpers.mockApiResponse)({
                'PUT /api/plant-instances/1': {
                    status: 403,
                    data: {
                        error: 'Forbidden'
                    }
                }
            });
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                plantInstance: existingInstance,
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Act - Try to update plant
            const submitButton = _react.screen.getByRole('button', {
                name: /save|update/i
            });
            await user.click(submitButton);
            // Assert - Verify authorization error is displayed
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/forbidden/i)).toBeInTheDocument();
            });
        });
        it('should handle plant editing with image uploads', async ()=>{
            // Arrange
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: testUser.id,
                images: [
                    'existing-image.jpg'
                ]
            });
            const updatedInstance = {
                ...existingInstance,
                images: [
                    'existing-image.jpg',
                    'new-image.jpg'
                ]
            };
            (0, _apihelpers.mockApiResponse)({
                'PUT /api/plant-instances/1': {
                    status: 200,
                    data: updatedInstance
                }
            });
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                plantInstance: existingInstance,
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Act - Upload new image
            const fileInput = _react.screen.getByLabelText(/upload|image/i);
            const file = new File([
                'test'
            ], 'new-image.jpg', {
                type: 'image/jpeg'
            });
            await user.upload(fileInput, file);
            // Submit form
            const submitButton = _react.screen.getByRole('button', {
                name: /save|update/i
            });
            await user.click(submitButton);
            // Assert - Verify FormData was sent with images
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances/1', expect.objectContaining({
                    method: 'PUT',
                    body: expect.any(FormData)
                }));
            });
        });
        it('should validate date fields during editing', async ()=>{
            // Arrange
            const existingInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: testUser.id
            });
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                plantInstance: existingInstance,
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Act - Enter future date for last fertilized
            const futureDate = new Date();
            futureDate.setDate(futureDate.getDate() + 1);
            const futureDateString = futureDate.toISOString().split('T')[0];
            const lastFertilizedField = _react.screen.getByLabelText(/last fertilized/i);
            await user.clear(lastFertilizedField);
            await user.type(lastFertilizedField, futureDateString);
            // Submit form
            const submitButton = _react.screen.getByRole('button', {
                name: /save|update/i
            });
            await user.click(submitButton);
            // Assert - Verify validation error is displayed
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/cannot be in the future/i)).toBeInTheDocument();
            });
        });
    });
    describe('Plant Deletion with Proper Cleanup', ()=>{
        it('should complete plant deletion workflow with confirmation', async ()=>{
            // Arrange
            const plantToDelete = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                userId: testUser.id
            });
            (0, _apihelpers.mockApiResponse)({
                'DELETE /api/plant-instances/1': {
                    status: 200,
                    data: {
                        success: true,
                        message: 'Plant instance deleted successfully'
                    }
                }
            });
            // Mock window.confirm
            const originalConfirm = window.confirm;
            window.confirm = jest.fn(()=>true);
            const mockOnDelete = jest.fn();
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    onClick: async ()=>{
                        const confirmed = window.confirm('Are you sure you want to delete this plant?');
                        if (confirmed) {
                            const response = await fetch(`/api/plant-instances/${plantToDelete.id}`, {
                                method: 'DELETE'
                            });
                            if (response.ok) {
                                mockOnDelete();
                            }
                        }
                    },
                    children: "Delete Plant"
                })
            }));
            // Act - Click delete button
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete plant/i
            });
            await user.click(deleteButton);
            // Assert - Verify confirmation was shown
            expect(window.confirm).toHaveBeenCalledWith('Are you sure you want to delete this plant?');
            // Assert - Verify API call was made
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances/1', expect.objectContaining({
                    method: 'DELETE'
                }));
            });
            // Assert - Verify deletion callback was called
            await (0, _react.waitFor)(()=>{
                expect(mockOnDelete).toHaveBeenCalled();
            });
            // Cleanup
            window.confirm = originalConfirm;
        });
        it('should handle plant deletion authorization errors', async ()=>{
            // Arrange
            (0, _apihelpers.mockApiResponse)({
                'DELETE /api/plant-instances/1': {
                    status: 403,
                    data: {
                        error: 'Forbidden'
                    }
                }
            });
            const originalConfirm = window.confirm;
            window.confirm = jest.fn(()=>true);
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    onClick: async ()=>{
                        const confirmed = window.confirm('Are you sure?');
                        if (confirmed) {
                            const response = await fetch('/api/plant-instances/1', {
                                method: 'DELETE'
                            });
                            const result = await response.json();
                            if (!response.ok) {
                                alert(result.error);
                            }
                        }
                    },
                    children: "Delete Plant"
                })
            }));
            // Mock window.alert
            const originalAlert = window.alert;
            window.alert = jest.fn();
            // Act - Try to delete plant
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete plant/i
            });
            await user.click(deleteButton);
            // Assert - Verify error was shown
            await (0, _react.waitFor)(()=>{
                expect(window.alert).toHaveBeenCalledWith('Forbidden');
            });
            // Cleanup
            window.confirm = originalConfirm;
            window.alert = originalAlert;
        });
        it('should cancel deletion when user declines confirmation', async ()=>{
            // Arrange
            const originalConfirm = window.confirm;
            window.confirm = jest.fn(()=>false); // User cancels
            const mockOnDelete = jest.fn();
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    onClick: async ()=>{
                        const confirmed = window.confirm('Are you sure?');
                        if (confirmed) {
                            mockOnDelete();
                        }
                    },
                    children: "Delete Plant"
                })
            }));
            // Act - Click delete button but cancel
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete plant/i
            });
            await user.click(deleteButton);
            // Assert - Verify confirmation was shown
            expect(window.confirm).toHaveBeenCalled();
            // Assert - Verify no API call was made
            expect(global.fetch).not.toHaveBeenCalled();
            // Assert - Verify deletion callback was not called
            expect(mockOnDelete).not.toHaveBeenCalled();
            // Cleanup
            window.confirm = originalConfirm;
        });
        it('should handle plant deletion server errors gracefully', async ()=>{
            // Arrange
            (0, _apihelpers.mockApiError)('/api/plant-instances/1', 500, {
                error: 'Database error'
            }, 'DELETE');
            const originalConfirm = window.confirm;
            window.confirm = jest.fn(()=>true);
            const { user } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    onClick: async ()=>{
                        const confirmed = window.confirm('Are you sure?');
                        if (confirmed) {
                            try {
                                const response = await fetch('/api/plant-instances/1', {
                                    method: 'DELETE'
                                });
                                const result = await response.json();
                                if (!response.ok) {
                                    throw new Error(result.error);
                                }
                            } catch (error) {
                                alert(`Failed to delete: ${error.message}`);
                            }
                        }
                    },
                    children: "Delete Plant"
                })
            }));
            const originalAlert = window.alert;
            window.alert = jest.fn();
            // Act - Try to delete plant
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete plant/i
            });
            await user.click(deleteButton);
            // Assert - Verify error handling
            await (0, _react.waitFor)(()=>{
                expect(window.alert).toHaveBeenCalledWith('Failed to delete: Database error');
            });
            // Cleanup
            window.confirm = originalConfirm;
            window.alert = originalAlert;
        });
    });
    describe('End-to-End Plant Management Flow', ()=>{
        it('should complete full plant lifecycle: create -> edit -> delete', async ()=>{
            // Step 1: Create plant
            const newPlant = (0, _plantfactory.createTestPlant)();
            const newInstance = (0, _plantfactory.createTestPlantInstance)({
                id: 1,
                plantId: newPlant.id,
                userId: testUser.id
            });
            (0, _apihelpers.mockApiResponse)({
                'POST /api/plant-instances': {
                    status: 201,
                    data: {
                        success: true,
                        data: newInstance
                    }
                }
            });
            const { user, rerender } = (0, _testutils.renderWithProviders)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Create plant
            await _testutils.userInteractions.fillForm({
                'Nickname': 'Test Plant',
                'Location': 'Test Location'
            }, user);
            let submitButton = _react.screen.getByRole('button', {
                name: /save|create/i
            });
            await user.click(submitButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances', expect.objectContaining({
                    method: 'POST'
                }));
            });
            // Reset mocks for edit step
            jest.clearAllMocks();
            // Step 2: Edit plant
            const updatedInstance = {
                ...newInstance,
                nickname: 'Updated Plant'
            };
            (0, _apihelpers.mockApiResponse)({
                'PUT /api/plant-instances/1': {
                    status: 200,
                    data: updatedInstance
                }
            });
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PlantInstanceForm.default, {
                plantInstance: newInstance,
                isOpen: true,
                onClose: jest.fn(),
                userId: testUser.id
            }));
            // Edit plant
            const nicknameField = _react.screen.getByDisplayValue('Test Plant');
            await user.clear(nicknameField);
            await user.type(nicknameField, 'Updated Plant');
            submitButton = _react.screen.getByRole('button', {
                name: /save|update/i
            });
            await user.click(submitButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances/1', expect.objectContaining({
                    method: 'PUT'
                }));
            });
            // Reset mocks for delete step
            jest.clearAllMocks();
            // Step 3: Delete plant
            (0, _apihelpers.mockApiResponse)({
                'DELETE /api/plant-instances/1': {
                    status: 200,
                    data: {
                        success: true,
                        message: 'Plant deleted successfully'
                    }
                }
            });
            const originalConfirm = window.confirm;
            window.confirm = jest.fn(()=>true);
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    onClick: async ()=>{
                        const confirmed = window.confirm('Delete plant?');
                        if (confirmed) {
                            await fetch('/api/plant-instances/1', {
                                method: 'DELETE'
                            });
                        }
                    },
                    children: "Delete Plant"
                })
            }));
            // Delete plant
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete plant/i
            });
            await user.click(deleteButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/plant-instances/1', expect.objectContaining({
                    method: 'DELETE'
                }));
            });
            // Cleanup
            window.confirm = originalConfirm;
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL19fdGVzdHNfXy9pbnRlZ3JhdGlvbi9wbGFudC1tYW5hZ2VtZW50LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gUGxhbnQgTWFuYWdlbWVudCBJbnRlZ3JhdGlvbiBUZXN0c1xuLy8gVGVzdHMgY29tcGxldGUgcGxhbnQgY3JlYXRpb24sIGVkaXRpbmcsIGFuZCBkZWxldGlvbiB3b3JrZmxvd3NcblxuaW1wb3J0IHsgc2NyZWVuLCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyByZW5kZXJXaXRoUHJvdmlkZXJzLCB1c2VySW50ZXJhY3Rpb25zIH0gZnJvbSAnQC90ZXN0LXV0aWxzJztcbmltcG9ydCB7IG1vY2tBcGlSZXNwb25zZSwgbW9ja0FwaUVycm9yLCByZXNldEFwaU1vY2tzIH0gZnJvbSAnQC90ZXN0LXV0aWxzL2hlbHBlcnMvYXBpLWhlbHBlcnMnO1xuaW1wb3J0IHsgY3JlYXRlVGVzdFVzZXIsIGNyZWF0ZUF1dGhlbnRpY2F0ZWRUZXN0VXNlciB9IGZyb20gJ0AvdGVzdC11dGlscy9mYWN0b3JpZXMvdXNlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RQbGFudCwgY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UgfSBmcm9tICdAL3Rlc3QtdXRpbHMvZmFjdG9yaWVzL3BsYW50LWZhY3RvcnknO1xuaW1wb3J0IFBsYW50SW5zdGFuY2VGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9wbGFudHMvUGxhbnRJbnN0YW5jZUZvcm0nO1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyXG5jb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tSZWZyZXNoID0gamVzdC5mbigpO1xuXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBtb2NrUHVzaCxcbiAgICByZWZyZXNoOiBtb2NrUmVmcmVzaCxcbiAgfSksXG4gIHVzZVNlYXJjaFBhcmFtczogKCkgPT4gKHtcbiAgICBnZXQ6IGplc3QuZm4oKCkgPT4gbnVsbCksXG4gIH0pLFxufSkpO1xuXG4vLyBNb2NrIFJlYWN0IFF1ZXJ5XG5jb25zdCBtb2NrSW52YWxpZGF0ZVF1ZXJpZXMgPSBqZXN0LmZuKCk7XG5jb25zdCBtb2NrUmVmZXRjaFF1ZXJpZXMgPSBqZXN0LmZuKCk7XG5jb25zdCBtb2NrUmVtb3ZlUXVlcmllcyA9IGplc3QuZm4oKTtcblxuamVzdC5tb2NrKCdAdGFuc3RhY2svcmVhY3QtcXVlcnknLCAoKSA9PiAoe1xuICB1c2VRdWVyeTogamVzdC5mbigoKSA9PiAoe1xuICAgIGRhdGE6IFtdLFxuICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgZXJyb3I6IG51bGwsXG4gIH0pKSxcbiAgdXNlTXV0YXRpb246IGplc3QuZm4oKCkgPT4gKHtcbiAgICBtdXRhdGU6IGplc3QuZm4oKSxcbiAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIGVycm9yOiBudWxsLFxuICB9KSksXG4gIHVzZVF1ZXJ5Q2xpZW50OiAoKSA9PiAoe1xuICAgIGludmFsaWRhdGVRdWVyaWVzOiBtb2NrSW52YWxpZGF0ZVF1ZXJpZXMsXG4gICAgcmVmZXRjaFF1ZXJpZXM6IG1vY2tSZWZldGNoUXVlcmllcyxcbiAgICByZW1vdmVRdWVyaWVzOiBtb2NrUmVtb3ZlUXVlcmllcyxcbiAgfSksXG59KSk7XG5cbmRlc2NyaWJlKCdQbGFudCBNYW5hZ2VtZW50IEludGVncmF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICBsZXQgdGVzdFVzZXI7XG4gIGxldCB0ZXN0U2Vzc2lvbjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICByZXNldEFwaU1vY2tzKCk7XG4gICAgbW9ja1B1c2gubW9ja0NsZWFyKCk7XG4gICAgbW9ja1JlZnJlc2gubW9ja0NsZWFyKCk7XG4gICAgbW9ja0ludmFsaWRhdGVRdWVyaWVzLm1vY2tDbGVhcigpO1xuICAgIG1vY2tSZWZldGNoUXVlcmllcy5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrUmVtb3ZlUXVlcmllcy5tb2NrQ2xlYXIoKTtcblxuICAgIC8vIENyZWF0ZSBhdXRoZW50aWNhdGVkIHRlc3QgdXNlclxuICAgIGNvbnN0IGF1dGhEYXRhID0gY3JlYXRlQXV0aGVudGljYXRlZFRlc3RVc2VyKCk7XG4gICAgdGVzdFVzZXIgPSBhdXRoRGF0YS51c2VyO1xuICAgIHRlc3RTZXNzaW9uID0gYXV0aERhdGEuc2Vzc2lvbjtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICByZXNldEFwaU1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQbGFudCBDcmVhdGlvbiBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIHBsYW50IGNyZWF0aW9uIHdvcmtmbG93IGZyb20gZm9ybSB0byBkYXRhYmFzZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHRlc3RQbGFudCA9IGNyZWF0ZVRlc3RQbGFudCh7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBjb21tb25OYW1lOiAnTW9uc3RlcmEgRGVsaWNpb3NhJyxcbiAgICAgICAgZmFtaWx5OiAnQXJhY2VhZScsXG4gICAgICAgIGdlbnVzOiAnTW9uc3RlcmEnLFxuICAgICAgICBzcGVjaWVzOiAnZGVsaWNpb3NhJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBuZXdQbGFudEluc3RhbmNlID0gY3JlYXRlVGVzdFBsYW50SW5zdGFuY2Uoe1xuICAgICAgICBpZDogMSxcbiAgICAgICAgcGxhbnRJZDogdGVzdFBsYW50LmlkLFxuICAgICAgICBuaWNrbmFtZTogJ015IE1vbnN0ZXJhJyxcbiAgICAgICAgbG9jYXRpb246ICdMaXZpbmcgUm9vbScsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBwbGFudCBzZWFyY2ggQVBJXG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnR0VUIC9hcGkvcGxhbnRzJzoge1xuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiBbdGVzdFBsYW50XSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgcGxhbnQgaW5zdGFuY2UgY3JlYXRpb24gQVBJXG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnUE9TVCAvYXBpL3BsYW50LWluc3RhbmNlcyc6IHtcbiAgICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogbmV3UGxhbnRJbnN0YW5jZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1vY2tPblN1Y2Nlc3MgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxQbGFudEluc3RhbmNlRm9ybVxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXtqZXN0LmZuKCl9XG4gICAgICAgICAgb25TdWNjZXNzPXttb2NrT25TdWNjZXNzfVxuICAgICAgICAgIHVzZXJJZD17dGVzdFVzZXIuaWR9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICAvLyBBY3QgLSBGaWxsIG91dCBwbGFudCBjcmVhdGlvbiBmb3JtXG4gICAgICBhd2FpdCB1c2VySW50ZXJhY3Rpb25zLmZpbGxGb3JtKHtcbiAgICAgICAgJ05pY2tuYW1lJzogJ015IE1vbnN0ZXJhJyxcbiAgICAgICAgJ0xvY2F0aW9uJzogJ0xpdmluZyBSb29tJyxcbiAgICAgIH0sIHVzZXIpO1xuXG4gICAgICAvLyBTZWxlY3QgZmVydGlsaXplciBzY2hlZHVsZVxuICAgICAgY29uc3QgZmVydGlsaXplclNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZmVydGlsaXplciBzY2hlZHVsZS9pKTtcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhmZXJ0aWxpemVyU2VsZWN0LCAnZXZlcnlfNF93ZWVrcycpO1xuXG4gICAgICAvLyBTdWJtaXQgZm9ybVxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZXxjcmVhdGUvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcblxuICAgICAgLy8gQXNzZXJ0IC0gVmVyaWZ5IEFQSSBjYWxsIHdhcyBtYWRlIHdpdGggY29ycmVjdCBkYXRhXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvcGxhbnQtaW5zdGFuY2VzJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBzdWNjZXNzIGNhbGxiYWNrIHdhcyBjYWxsZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja09uU3VjY2VzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgobmV3UGxhbnRJbnN0YW5jZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBsYW50IGNyZWF0aW9uIHZhbGlkYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja0FwaVJlc3BvbnNlKHtcbiAgICAgICAgJ1BPU1QgL2FwaS9wbGFudC1pbnN0YW5jZXMnOiB7XG4gICAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogJ1ZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgIGRldGFpbHM6IFtcbiAgICAgICAgICAgICAgeyBwYXRoOiBbJ25pY2tuYW1lJ10sIG1lc3NhZ2U6ICdOaWNrbmFtZSBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICAgICAgeyBwYXRoOiBbJ2xvY2F0aW9uJ10sIG1lc3NhZ2U6ICdMb2NhdGlvbiBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxQbGFudEluc3RhbmNlRm9ybVxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXtqZXN0LmZuKCl9XG4gICAgICAgICAgdXNlcklkPXt0ZXN0VXNlci5pZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAtIFN1Ym1pdCBmb3JtIHdpdGhvdXQgcmVxdWlyZWQgZmllbGRzXG4gICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlfGNyZWF0ZS9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzdWJtaXRCdXR0b24pO1xuXG4gICAgICAvLyBBc3NlcnQgLSBWZXJpZnkgdmFsaWRhdGlvbiBlcnJvcnMgYXJlIGRpc3BsYXllZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9uaWNrbmFtZSBpcyByZXF1aXJlZC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2xvY2F0aW9uIGlzIHJlcXVpcmVkL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwbGFudCBjcmVhdGlvbiBzZXJ2ZXIgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja0FwaUVycm9yKCcvYXBpL3BsYW50LWluc3RhbmNlcycsIDUwMCwgeyBlcnJvcjogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyB9LCAnUE9TVCcpO1xuXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxQbGFudEluc3RhbmNlRm9ybVxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXtqZXN0LmZuKCl9XG4gICAgICAgICAgdXNlcklkPXt0ZXN0VXNlci5pZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAtIEZpbGwgYW5kIHN1Ym1pdCB2YWxpZCBmb3JtXG4gICAgICBhd2FpdCB1c2VySW50ZXJhY3Rpb25zLmZpbGxGb3JtKHtcbiAgICAgICAgJ05pY2tuYW1lJzogJ1Rlc3QgUGxhbnQnLFxuICAgICAgICAnTG9jYXRpb24nOiAnVGVzdCBMb2NhdGlvbicsXG4gICAgICB9LCB1c2VyKTtcblxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZXxjcmVhdGUvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcblxuICAgICAgLy8gQXNzZXJ0IC0gVmVyaWZ5IGVycm9yIG1lc3NhZ2UgaXMgZGlzcGxheWVkXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBuZXcgcGxhbnQgdGF4b25vbXkgd2hlbiBwbGFudCB0eXBlIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG5ld1BsYW50ID0gY3JlYXRlVGVzdFBsYW50KHtcbiAgICAgICAgaWQ6IDIsXG4gICAgICAgIGNvbW1vbk5hbWU6ICdOZXcgUGxhbnQgU3BlY2llcycsXG4gICAgICAgIGZhbWlseTogJ1Rlc3RhY2VhZScsXG4gICAgICAgIGdlbnVzOiAnVGVzdHVzJyxcbiAgICAgICAgc3BlY2llczogJ25ld3VzJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGVtcHR5IHBsYW50IHNlYXJjaFxuICAgICAgbW9ja0FwaVJlc3BvbnNlKHtcbiAgICAgICAgJ0dFVCAvYXBpL3BsYW50cyc6IHtcbiAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIHBsYW50IGNyZWF0aW9uXG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnUE9TVCAvYXBpL3BsYW50cyc6IHtcbiAgICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogbmV3UGxhbnQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIHBsYW50IGluc3RhbmNlIGNyZWF0aW9uXG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnUE9TVCAvYXBpL3BsYW50LWluc3RhbmNlcyc6IHtcbiAgICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogY3JlYXRlVGVzdFBsYW50SW5zdGFuY2Uoe1xuICAgICAgICAgICAgICBwbGFudElkOiBuZXdQbGFudC5pZCxcbiAgICAgICAgICAgICAgdXNlcklkOiB0ZXN0VXNlci5pZCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8UGxhbnRJbnN0YW5jZUZvcm1cbiAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgb25DbG9zZT17amVzdC5mbigpfVxuICAgICAgICAgIHVzZXJJZD17dGVzdFVzZXIuaWR9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICAvLyBBY3QgLSBDcmVhdGUgbmV3IHBsYW50IHRheG9ub215XG4gICAgICBjb25zdCBhZGROZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3fGNyZWF0ZSBuZXcvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soYWRkTmV3QnV0dG9uKTtcblxuICAgICAgLy8gRmlsbCB0YXhvbm9teSBmb3JtXG4gICAgICBhd2FpdCB1c2VySW50ZXJhY3Rpb25zLmZpbGxGb3JtKHtcbiAgICAgICAgJ0NvbW1vbiBOYW1lJzogJ05ldyBQbGFudCBTcGVjaWVzJyxcbiAgICAgICAgJ0ZhbWlseSc6ICdUZXN0YWNlYWUnLFxuICAgICAgICAnR2VudXMnOiAnVGVzdHVzJyxcbiAgICAgICAgJ1NwZWNpZXMnOiAnbmV3dXMnLFxuICAgICAgfSwgdXNlcik7XG5cbiAgICAgIGNvbnN0IGNyZWF0ZVBsYW50QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY3JlYXRlIHBsYW50IHR5cGUvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY3JlYXRlUGxhbnRCdXR0b24pO1xuXG4gICAgICAvLyBBc3NlcnQgLSBWZXJpZnkgcGxhbnQgY3JlYXRpb24gQVBJIHdhcyBjYWxsZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9wbGFudHMnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ05ldyBQbGFudCBTcGVjaWVzJyksXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGxhbnQgRWRpdGluZyBhbmQgVXBkYXRpbmcgV29ya2Zsb3dzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGxldGUgcGxhbnQgZWRpdGluZyB3b3JrZmxvdyB3aXRoIGRhdGEgcGVyc2lzdGVuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBleGlzdGluZ1BsYW50ID0gY3JlYXRlVGVzdFBsYW50KCk7XG4gICAgICBjb25zdCBleGlzdGluZ0luc3RhbmNlID0gY3JlYXRlVGVzdFBsYW50SW5zdGFuY2Uoe1xuICAgICAgICBpZDogMSxcbiAgICAgICAgcGxhbnRJZDogZXhpc3RpbmdQbGFudC5pZCxcbiAgICAgICAgbmlja25hbWU6ICdPcmlnaW5hbCBOYW1lJyxcbiAgICAgICAgbG9jYXRpb246ICdPcmlnaW5hbCBMb2NhdGlvbicsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIHBsYW50OiBleGlzdGluZ1BsYW50LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRJbnN0YW5jZSA9IHtcbiAgICAgICAgLi4uZXhpc3RpbmdJbnN0YW5jZSxcbiAgICAgICAgbmlja25hbWU6ICdVcGRhdGVkIE5hbWUnLFxuICAgICAgICBsb2NhdGlvbjogJ1VwZGF0ZWQgTG9jYXRpb24nLFxuICAgICAgfTtcblxuICAgICAgLy8gTW9jayBwbGFudCBpbnN0YW5jZSB1cGRhdGUgQVBJXG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnUFVUIC9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnOiB7XG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgZGF0YTogdXBkYXRlZEluc3RhbmNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1vY2tPblN1Y2Nlc3MgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxQbGFudEluc3RhbmNlRm9ybVxuICAgICAgICAgIHBsYW50SW5zdGFuY2U9e2V4aXN0aW5nSW5zdGFuY2V9XG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e2plc3QuZm4oKX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgICAgdXNlcklkPXt0ZXN0VXNlci5pZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAtIFVwZGF0ZSBwbGFudCBpbmZvcm1hdGlvblxuICAgICAgY29uc3Qgbmlja25hbWVGaWVsZCA9IHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnT3JpZ2luYWwgTmFtZScpO1xuICAgICAgYXdhaXQgdXNlci5jbGVhcihuaWNrbmFtZUZpZWxkKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShuaWNrbmFtZUZpZWxkLCAnVXBkYXRlZCBOYW1lJyk7XG5cbiAgICAgIGNvbnN0IGxvY2F0aW9uRmllbGQgPSBzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ09yaWdpbmFsIExvY2F0aW9uJyk7XG4gICAgICBhd2FpdCB1c2VyLmNsZWFyKGxvY2F0aW9uRmllbGQpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGxvY2F0aW9uRmllbGQsICdVcGRhdGVkIExvY2F0aW9uJyk7XG5cbiAgICAgIC8vIFN1Ym1pdCBmb3JtXG4gICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlfHVwZGF0ZS9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzdWJtaXRCdXR0b24pO1xuXG4gICAgICAvLyBBc3NlcnQgLSBWZXJpZnkgQVBJIGNhbGwgd2FzIG1hZGUgd2l0aCB1cGRhdGVkIGRhdGFcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9wbGFudC1pbnN0YW5jZXMvMScsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBzdWNjZXNzIGNhbGxiYWNrIHdhcyBjYWxsZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja09uU3VjY2VzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgodXBkYXRlZEluc3RhbmNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGxhbnQgZWRpdGluZyBhdXRob3JpemF0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGV4aXN0aW5nSW5zdGFuY2UgPSBjcmVhdGVUZXN0UGxhbnRJbnN0YW5jZSh7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICB1c2VySWQ6IDk5OSwgLy8gRGlmZmVyZW50IHVzZXIgSURcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnUFVUIC9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnOiB7XG4gICAgICAgICAgc3RhdHVzOiA0MDMsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZXJyb3I6ICdGb3JiaWRkZW4nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8UGxhbnRJbnN0YW5jZUZvcm1cbiAgICAgICAgICBwbGFudEluc3RhbmNlPXtleGlzdGluZ0luc3RhbmNlfVxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXtqZXN0LmZuKCl9XG4gICAgICAgICAgdXNlcklkPXt0ZXN0VXNlci5pZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAtIFRyeSB0byB1cGRhdGUgcGxhbnRcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NhdmV8dXBkYXRlL2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBhdXRob3JpemF0aW9uIGVycm9yIGlzIGRpc3BsYXllZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9mb3JiaWRkZW4vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBsYW50IGVkaXRpbmcgd2l0aCBpbWFnZSB1cGxvYWRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlKHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIGltYWdlczogWydleGlzdGluZy1pbWFnZS5qcGcnXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB1cGRhdGVkSW5zdGFuY2UgPSB7XG4gICAgICAgIC4uLmV4aXN0aW5nSW5zdGFuY2UsXG4gICAgICAgIGltYWdlczogWydleGlzdGluZy1pbWFnZS5qcGcnLCAnbmV3LWltYWdlLmpwZyddLFxuICAgICAgfTtcblxuICAgICAgbW9ja0FwaVJlc3BvbnNlKHtcbiAgICAgICAgJ1BVVCAvYXBpL3BsYW50LWluc3RhbmNlcy8xJzoge1xuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIGRhdGE6IHVwZGF0ZWRJbnN0YW5jZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxQbGFudEluc3RhbmNlRm9ybVxuICAgICAgICAgIHBsYW50SW5zdGFuY2U9e2V4aXN0aW5nSW5zdGFuY2V9XG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e2plc3QuZm4oKX1cbiAgICAgICAgICB1c2VySWQ9e3Rlc3RVc2VyLmlkfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgLy8gQWN0IC0gVXBsb2FkIG5ldyBpbWFnZVxuICAgICAgY29uc3QgZmlsZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC91cGxvYWR8aW1hZ2UvaSk7XG4gICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoWyd0ZXN0J10sICduZXctaW1hZ2UuanBnJywgeyB0eXBlOiAnaW1hZ2UvanBlZycgfSk7XG4gICAgICBhd2FpdCB1c2VyLnVwbG9hZChmaWxlSW5wdXQsIGZpbGUpO1xuXG4gICAgICAvLyBTdWJtaXQgZm9ybVxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZXx1cGRhdGUvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcblxuICAgICAgLy8gQXNzZXJ0IC0gVmVyaWZ5IEZvcm1EYXRhIHdhcyBzZW50IHdpdGggaW1hZ2VzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBib2R5OiBleHBlY3QuYW55KEZvcm1EYXRhKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGRhdGUgZmllbGRzIGR1cmluZyBlZGl0aW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlKHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8UGxhbnRJbnN0YW5jZUZvcm1cbiAgICAgICAgICBwbGFudEluc3RhbmNlPXtleGlzdGluZ0luc3RhbmNlfVxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXtqZXN0LmZuKCl9XG4gICAgICAgICAgdXNlcklkPXt0ZXN0VXNlci5pZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAtIEVudGVyIGZ1dHVyZSBkYXRlIGZvciBsYXN0IGZlcnRpbGl6ZWRcbiAgICAgIGNvbnN0IGZ1dHVyZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgZnV0dXJlRGF0ZS5zZXREYXRlKGZ1dHVyZURhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICBjb25zdCBmdXR1cmVEYXRlU3RyaW5nID0gZnV0dXJlRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG5cbiAgICAgIGNvbnN0IGxhc3RGZXJ0aWxpemVkRmllbGQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2xhc3QgZmVydGlsaXplZC9pKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xlYXIobGFzdEZlcnRpbGl6ZWRGaWVsZCk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUobGFzdEZlcnRpbGl6ZWRGaWVsZCwgZnV0dXJlRGF0ZVN0cmluZyk7XG5cbiAgICAgIC8vIFN1Ym1pdCBmb3JtXG4gICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlfHVwZGF0ZS9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzdWJtaXRCdXR0b24pO1xuXG4gICAgICAvLyBBc3NlcnQgLSBWZXJpZnkgdmFsaWRhdGlvbiBlcnJvciBpcyBkaXNwbGF5ZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvY2Fubm90IGJlIGluIHRoZSBmdXR1cmUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BsYW50IERlbGV0aW9uIHdpdGggUHJvcGVyIENsZWFudXAnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBwbGFudCBkZWxldGlvbiB3b3JrZmxvdyB3aXRoIGNvbmZpcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHBsYW50VG9EZWxldGUgPSBjcmVhdGVUZXN0UGxhbnRJbnN0YW5jZSh7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tBcGlSZXNwb25zZSh7XG4gICAgICAgICdERUxFVEUgL2FwaS9wbGFudC1pbnN0YW5jZXMvMSc6IHtcbiAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1BsYW50IGluc3RhbmNlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgd2luZG93LmNvbmZpcm1cbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29uZmlybSA9IHdpbmRvdy5jb25maXJtO1xuICAgICAgd2luZG93LmNvbmZpcm0gPSBqZXN0LmZuKCgpID0+IHRydWUpO1xuXG4gICAgICBjb25zdCBtb2NrT25EZWxldGUgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSB3aW5kb3cuY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHBsYW50PycpO1xuICAgICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wbGFudC1pbnN0YW5jZXMvJHtwbGFudFRvRGVsZXRlLmlkfWAsIHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICBtb2NrT25EZWxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVsZXRlIFBsYW50XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcblxuICAgICAgLy8gQWN0IC0gQ2xpY2sgZGVsZXRlIGJ1dHRvblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZGVsZXRlIHBsYW50L2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBjb25maXJtYXRpb24gd2FzIHNob3duXG4gICAgICBleHBlY3Qod2luZG93LmNvbmZpcm0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcGxhbnQ/Jyk7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBBUEkgY2FsbCB3YXMgbWFkZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL3BsYW50LWluc3RhbmNlcy8xJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXNzZXJ0IC0gVmVyaWZ5IGRlbGV0aW9uIGNhbGxiYWNrIHdhcyBjYWxsZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja09uRGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2xlYW51cFxuICAgICAgd2luZG93LmNvbmZpcm0gPSBvcmlnaW5hbENvbmZpcm07XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwbGFudCBkZWxldGlvbiBhdXRob3JpemF0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIG1vY2tBcGlSZXNwb25zZSh7XG4gICAgICAgICdERUxFVEUgL2FwaS9wbGFudC1pbnN0YW5jZXMvMSc6IHtcbiAgICAgICAgICBzdGF0dXM6IDQwMyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBlcnJvcjogJ0ZvcmJpZGRlbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvcmlnaW5hbENvbmZpcm0gPSB3aW5kb3cuY29uZmlybTtcbiAgICAgIHdpbmRvdy5jb25maXJtID0gamVzdC5mbigoKSA9PiB0cnVlKTtcblxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKTtcbiAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLCB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBEZWxldGUgUGxhbnRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuXG4gICAgICAvLyBNb2NrIHdpbmRvdy5hbGVydFxuICAgICAgY29uc3Qgb3JpZ2luYWxBbGVydCA9IHdpbmRvdy5hbGVydDtcbiAgICAgIHdpbmRvdy5hbGVydCA9IGplc3QuZm4oKTtcblxuICAgICAgLy8gQWN0IC0gVHJ5IHRvIGRlbGV0ZSBwbGFudFxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZGVsZXRlIHBsYW50L2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBlcnJvciB3YXMgc2hvd25cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qod2luZG93LmFsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRm9yYmlkZGVuJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2xlYW51cFxuICAgICAgd2luZG93LmNvbmZpcm0gPSBvcmlnaW5hbENvbmZpcm07XG4gICAgICB3aW5kb3cuYWxlcnQgPSBvcmlnaW5hbEFsZXJ0O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYW5jZWwgZGVsZXRpb24gd2hlbiB1c2VyIGRlY2xpbmVzIGNvbmZpcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29uZmlybSA9IHdpbmRvdy5jb25maXJtO1xuICAgICAgd2luZG93LmNvbmZpcm0gPSBqZXN0LmZuKCgpID0+IGZhbHNlKTsgLy8gVXNlciBjYW5jZWxzXG5cbiAgICAgIGNvbnN0IG1vY2tPbkRlbGV0ZSA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyhcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IHdpbmRvdy5jb25maXJtKCdBcmUgeW91IHN1cmU/Jyk7XG4gICAgICAgICAgICAgIGlmIChjb25maXJtZWQpIHtcbiAgICAgICAgICAgICAgICBtb2NrT25EZWxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBEZWxldGUgUGxhbnRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuXG4gICAgICAvLyBBY3QgLSBDbGljayBkZWxldGUgYnV0dG9uIGJ1dCBjYW5jZWxcbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2RlbGV0ZSBwbGFudC9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhkZWxldGVCdXR0b24pO1xuXG4gICAgICAvLyBBc3NlcnQgLSBWZXJpZnkgY29uZmlybWF0aW9uIHdhcyBzaG93blxuICAgICAgZXhwZWN0KHdpbmRvdy5jb25maXJtKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSBubyBBUEkgY2FsbCB3YXMgbWFkZVxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgLy8gQXNzZXJ0IC0gVmVyaWZ5IGRlbGV0aW9uIGNhbGxiYWNrIHdhcyBub3QgY2FsbGVkXG4gICAgICBleHBlY3QobW9ja09uRGVsZXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgICAvLyBDbGVhbnVwXG4gICAgICB3aW5kb3cuY29uZmlybSA9IG9yaWdpbmFsQ29uZmlybTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBsYW50IGRlbGV0aW9uIHNlcnZlciBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIG1vY2tBcGlFcnJvcignL2FwaS9wbGFudC1pbnN0YW5jZXMvMScsIDUwMCwgeyBlcnJvcjogJ0RhdGFiYXNlIGVycm9yJyB9LCAnREVMRVRFJyk7XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29uZmlybSA9IHdpbmRvdy5jb25maXJtO1xuICAgICAgd2luZG93LmNvbmZpcm0gPSBqZXN0LmZuKCgpID0+IHRydWUpO1xuXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSB3aW5kb3cuY29uZmlybSgnQXJlIHlvdSBzdXJlPycpO1xuICAgICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gZGVsZXRlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIERlbGV0ZSBQbGFudFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsQWxlcnQgPSB3aW5kb3cuYWxlcnQ7XG4gICAgICB3aW5kb3cuYWxlcnQgPSBqZXN0LmZuKCk7XG5cbiAgICAgIC8vIEFjdCAtIFRyeSB0byBkZWxldGUgcGxhbnRcbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2RlbGV0ZSBwbGFudC9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhkZWxldGVCdXR0b24pO1xuXG4gICAgICAvLyBBc3NlcnQgLSBWZXJpZnkgZXJyb3IgaGFuZGxpbmdcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qod2luZG93LmFsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRmFpbGVkIHRvIGRlbGV0ZTogRGF0YWJhc2UgZXJyb3InKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhbnVwXG4gICAgICB3aW5kb3cuY29uZmlybSA9IG9yaWdpbmFsQ29uZmlybTtcbiAgICAgIHdpbmRvdy5hbGVydCA9IG9yaWdpbmFsQWxlcnQ7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFbmQtdG8tRW5kIFBsYW50IE1hbmFnZW1lbnQgRmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIGZ1bGwgcGxhbnQgbGlmZWN5Y2xlOiBjcmVhdGUgLT4gZWRpdCAtPiBkZWxldGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTdGVwIDE6IENyZWF0ZSBwbGFudFxuICAgICAgY29uc3QgbmV3UGxhbnQgPSBjcmVhdGVUZXN0UGxhbnQoKTtcbiAgICAgIGNvbnN0IG5ld0luc3RhbmNlID0gY3JlYXRlVGVzdFBsYW50SW5zdGFuY2Uoe1xuICAgICAgICBpZDogMSxcbiAgICAgICAgcGxhbnRJZDogbmV3UGxhbnQuaWQsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICB9KTtcblxuICAgICAgbW9ja0FwaVJlc3BvbnNlKHtcbiAgICAgICAgJ1BPU1QgL2FwaS9wbGFudC1pbnN0YW5jZXMnOiB7XG4gICAgICAgICAgc3RhdHVzOiAyMDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IG5ld0luc3RhbmNlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyB1c2VyLCByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyhcbiAgICAgICAgPFBsYW50SW5zdGFuY2VGb3JtXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e2plc3QuZm4oKX1cbiAgICAgICAgICB1c2VySWQ9e3Rlc3RVc2VyLmlkfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgLy8gQ3JlYXRlIHBsYW50XG4gICAgICBhd2FpdCB1c2VySW50ZXJhY3Rpb25zLmZpbGxGb3JtKHtcbiAgICAgICAgJ05pY2tuYW1lJzogJ1Rlc3QgUGxhbnQnLFxuICAgICAgICAnTG9jYXRpb24nOiAnVGVzdCBMb2NhdGlvbicsXG4gICAgICB9LCB1c2VyKTtcblxuICAgICAgbGV0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NhdmV8Y3JlYXRlL2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9wbGFudC1pbnN0YW5jZXMnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHsgbWV0aG9kOiAnUE9TVCcgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZXNldCBtb2NrcyBmb3IgZWRpdCBzdGVwXG4gICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgICAgLy8gU3RlcCAyOiBFZGl0IHBsYW50XG4gICAgICBjb25zdCB1cGRhdGVkSW5zdGFuY2UgPSB7XG4gICAgICAgIC4uLm5ld0luc3RhbmNlLFxuICAgICAgICBuaWNrbmFtZTogJ1VwZGF0ZWQgUGxhbnQnLFxuICAgICAgfTtcblxuICAgICAgbW9ja0FwaVJlc3BvbnNlKHtcbiAgICAgICAgJ1BVVCAvYXBpL3BsYW50LWluc3RhbmNlcy8xJzoge1xuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIGRhdGE6IHVwZGF0ZWRJbnN0YW5jZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPFBsYW50SW5zdGFuY2VGb3JtXG4gICAgICAgICAgcGxhbnRJbnN0YW5jZT17bmV3SW5zdGFuY2V9XG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e2plc3QuZm4oKX1cbiAgICAgICAgICB1c2VySWQ9e3Rlc3RVc2VyLmlkfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgLy8gRWRpdCBwbGFudFxuICAgICAgY29uc3Qgbmlja25hbWVGaWVsZCA9IHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnVGVzdCBQbGFudCcpO1xuICAgICAgYXdhaXQgdXNlci5jbGVhcihuaWNrbmFtZUZpZWxkKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShuaWNrbmFtZUZpZWxkLCAnVXBkYXRlZCBQbGFudCcpO1xuXG4gICAgICBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlfHVwZGF0ZS9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzdWJtaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHsgbWV0aG9kOiAnUFVUJyB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlc2V0IG1vY2tzIGZvciBkZWxldGUgc3RlcFxuICAgICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAgIC8vIFN0ZXAgMzogRGVsZXRlIHBsYW50XG4gICAgICBtb2NrQXBpUmVzcG9uc2Uoe1xuICAgICAgICAnREVMRVRFIC9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnOiB7XG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGFudCBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvcmlnaW5hbENvbmZpcm0gPSB3aW5kb3cuY29uZmlybTtcbiAgICAgIHdpbmRvdy5jb25maXJtID0gamVzdC5mbigoKSA9PiB0cnVlKTtcblxuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSB3aW5kb3cuY29uZmlybSgnRGVsZXRlIHBsYW50PycpO1xuICAgICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvcGxhbnQtaW5zdGFuY2VzLzEnLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVsZXRlIFBsYW50XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcblxuICAgICAgLy8gRGVsZXRlIHBsYW50XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9kZWxldGUgcGxhbnQvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZGVsZXRlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL3BsYW50LWluc3RhbmNlcy8xJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7IG1ldGhvZDogJ0RFTEVURScgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhbnVwXG4gICAgICB3aW5kb3cuY29uZmlybSA9IG9yaWdpbmFsQ29uZmlybTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJwdXNoIiwibW9ja1B1c2giLCJyZWZyZXNoIiwibW9ja1JlZnJlc2giLCJ1c2VTZWFyY2hQYXJhbXMiLCJnZXQiLCJmbiIsInVzZVF1ZXJ5IiwiZGF0YSIsImlzTG9hZGluZyIsImVycm9yIiwidXNlTXV0YXRpb24iLCJtdXRhdGUiLCJ1c2VRdWVyeUNsaWVudCIsImludmFsaWRhdGVRdWVyaWVzIiwibW9ja0ludmFsaWRhdGVRdWVyaWVzIiwicmVmZXRjaFF1ZXJpZXMiLCJtb2NrUmVmZXRjaFF1ZXJpZXMiLCJyZW1vdmVRdWVyaWVzIiwibW9ja1JlbW92ZVF1ZXJpZXMiLCJkZXNjcmliZSIsInRlc3RVc2VyIiwidGVzdFNlc3Npb24iLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInJlc2V0QXBpTW9ja3MiLCJtb2NrQ2xlYXIiLCJhdXRoRGF0YSIsImNyZWF0ZUF1dGhlbnRpY2F0ZWRUZXN0VXNlciIsInVzZXIiLCJzZXNzaW9uIiwiYWZ0ZXJFYWNoIiwiaXQiLCJ0ZXN0UGxhbnQiLCJjcmVhdGVUZXN0UGxhbnQiLCJpZCIsImNvbW1vbk5hbWUiLCJmYW1pbHkiLCJnZW51cyIsInNwZWNpZXMiLCJuZXdQbGFudEluc3RhbmNlIiwiY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UiLCJwbGFudElkIiwibmlja25hbWUiLCJsb2NhdGlvbiIsInVzZXJJZCIsIm1vY2tBcGlSZXNwb25zZSIsInN0YXR1cyIsInN1Y2Nlc3MiLCJtb2NrT25TdWNjZXNzIiwicmVuZGVyV2l0aFByb3ZpZGVycyIsIlBsYW50SW5zdGFuY2VGb3JtIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3VjY2VzcyIsInVzZXJJbnRlcmFjdGlvbnMiLCJmaWxsRm9ybSIsImZlcnRpbGl6ZXJTZWxlY3QiLCJzY3JlZW4iLCJnZXRCeUxhYmVsVGV4dCIsInNlbGVjdE9wdGlvbnMiLCJzdWJtaXRCdXR0b24iLCJnZXRCeVJvbGUiLCJuYW1lIiwiY2xpY2siLCJ3YWl0Rm9yIiwiZXhwZWN0IiwiZ2xvYmFsIiwiZmV0Y2giLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm9iamVjdENvbnRhaW5pbmciLCJtZXRob2QiLCJkZXRhaWxzIiwicGF0aCIsIm1lc3NhZ2UiLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIm1vY2tBcGlFcnJvciIsIm5ld1BsYW50IiwiYWRkTmV3QnV0dG9uIiwiY3JlYXRlUGxhbnRCdXR0b24iLCJib2R5Iiwic3RyaW5nQ29udGFpbmluZyIsImV4aXN0aW5nUGxhbnQiLCJleGlzdGluZ0luc3RhbmNlIiwicGxhbnQiLCJ1cGRhdGVkSW5zdGFuY2UiLCJwbGFudEluc3RhbmNlIiwibmlja25hbWVGaWVsZCIsImdldEJ5RGlzcGxheVZhbHVlIiwiY2xlYXIiLCJ0eXBlIiwibG9jYXRpb25GaWVsZCIsImltYWdlcyIsImZpbGVJbnB1dCIsImZpbGUiLCJGaWxlIiwidXBsb2FkIiwiYW55IiwiRm9ybURhdGEiLCJmdXR1cmVEYXRlIiwiRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiZnV0dXJlRGF0ZVN0cmluZyIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJsYXN0RmVydGlsaXplZEZpZWxkIiwicGxhbnRUb0RlbGV0ZSIsIm9yaWdpbmFsQ29uZmlybSIsIndpbmRvdyIsImNvbmZpcm0iLCJtb2NrT25EZWxldGUiLCJkaXYiLCJidXR0b24iLCJvbkNsaWNrIiwiY29uZmlybWVkIiwicmVzcG9uc2UiLCJvayIsImRlbGV0ZUJ1dHRvbiIsInRvSGF2ZUJlZW5DYWxsZWQiLCJyZXN1bHQiLCJqc29uIiwiYWxlcnQiLCJvcmlnaW5hbEFsZXJ0Iiwibm90IiwiRXJyb3IiLCJuZXdJbnN0YW5jZSIsInJlcmVuZGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxxQ0FBcUM7QUFDckMsaUVBQWlFOztBQWFqRUEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVcsSUFBTyxDQUFBO2dCQUNoQkMsTUFBTUM7Z0JBQ05DLFNBQVNDO1lBQ1gsQ0FBQTtRQUNBQyxpQkFBaUIsSUFBTyxDQUFBO2dCQUN0QkMsS0FBS1IsS0FBS1MsRUFBRSxDQUFDLElBQU07WUFDckIsQ0FBQTtJQUNGLENBQUE7QUFPQVQsS0FBS0MsSUFBSSxDQUFDLHlCQUF5QixJQUFPLENBQUE7UUFDeENTLFVBQVVWLEtBQUtTLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0JBQ3ZCRSxNQUFNLEVBQUU7Z0JBQ1JDLFdBQVc7Z0JBQ1hDLE9BQU87WUFDVCxDQUFBO1FBQ0FDLGFBQWFkLEtBQUtTLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0JBQzFCTSxRQUFRZixLQUFLUyxFQUFFO2dCQUNmRyxXQUFXO2dCQUNYQyxPQUFPO1lBQ1QsQ0FBQTtRQUNBRyxnQkFBZ0IsSUFBTyxDQUFBO2dCQUNyQkMsbUJBQW1CQztnQkFDbkJDLGdCQUFnQkM7Z0JBQ2hCQyxlQUFlQztZQUNqQixDQUFBO0lBQ0YsQ0FBQTs7Ozs7dUJBMUNnQzsyQkFDc0I7NEJBQ087NkJBQ0Q7OEJBQ0g7MEVBQzNCOzs7Ozs7QUFFOUIsc0JBQXNCO0FBQ3RCLE1BQU1sQixXQUFXSixLQUFLUyxFQUFFO0FBQ3hCLE1BQU1ILGNBQWNOLEtBQUtTLEVBQUU7QUFZM0IsbUJBQW1CO0FBQ25CLE1BQU1TLHdCQUF3QmxCLEtBQUtTLEVBQUU7QUFDckMsTUFBTVcscUJBQXFCcEIsS0FBS1MsRUFBRTtBQUNsQyxNQUFNYSxvQkFBb0J0QixLQUFLUyxFQUFFO0FBb0JqQ2MsU0FBUyxzQ0FBc0M7SUFDN0MsSUFBSUM7SUFDSixJQUFJQztJQUVKQyxXQUFXO1FBQ1QxQixLQUFLMkIsYUFBYTtRQUNsQkMsSUFBQUEseUJBQWE7UUFDYnhCLFNBQVN5QixTQUFTO1FBQ2xCdkIsWUFBWXVCLFNBQVM7UUFDckJYLHNCQUFzQlcsU0FBUztRQUMvQlQsbUJBQW1CUyxTQUFTO1FBQzVCUCxrQkFBa0JPLFNBQVM7UUFFM0IsaUNBQWlDO1FBQ2pDLE1BQU1DLFdBQVdDLElBQUFBLHdDQUEyQjtRQUM1Q1AsV0FBV00sU0FBU0UsSUFBSTtRQUN4QlAsY0FBY0ssU0FBU0csT0FBTztJQUNoQztJQUVBQyxVQUFVO1FBQ1JOLElBQUFBLHlCQUFhO0lBQ2Y7SUFFQUwsU0FBUywyQkFBMkI7UUFDbENZLEdBQUcsaUVBQWlFO1lBQ2xFLFVBQVU7WUFDVixNQUFNQyxZQUFZQyxJQUFBQSw2QkFBZSxFQUFDO2dCQUNoQ0MsSUFBSTtnQkFDSkMsWUFBWTtnQkFDWkMsUUFBUTtnQkFDUkMsT0FBTztnQkFDUEMsU0FBUztZQUNYO1lBRUEsTUFBTUMsbUJBQW1CQyxJQUFBQSxxQ0FBdUIsRUFBQztnQkFDL0NOLElBQUk7Z0JBQ0pPLFNBQVNULFVBQVVFLEVBQUU7Z0JBQ3JCUSxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxRQUFReEIsU0FBU2MsRUFBRTtZQUNyQjtZQUVBLHdCQUF3QjtZQUN4QlcsSUFBQUEsMkJBQWUsRUFBQztnQkFDZCxtQkFBbUI7b0JBQ2pCQyxRQUFRO29CQUNSdkMsTUFBTTt3QkFDSndDLFNBQVM7d0JBQ1R4QyxNQUFNOzRCQUFDeUI7eUJBQVU7b0JBQ25CO2dCQUNGO1lBQ0Y7WUFFQSxtQ0FBbUM7WUFDbkNhLElBQUFBLDJCQUFlLEVBQUM7Z0JBQ2QsNkJBQTZCO29CQUMzQkMsUUFBUTtvQkFDUnZDLE1BQU07d0JBQ0p3QyxTQUFTO3dCQUNUeEMsTUFBTWdDO29CQUNSO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNUyxnQkFBZ0JwRCxLQUFLUyxFQUFFO1lBQzdCLE1BQU0sRUFBRXVCLElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQ0MsMEJBQWlCO2dCQUNoQkMsUUFBUTtnQkFDUkMsU0FBU3hELEtBQUtTLEVBQUU7Z0JBQ2hCZ0QsV0FBV0w7Z0JBQ1hKLFFBQVF4QixTQUFTYyxFQUFFOztZQUl2QixxQ0FBcUM7WUFDckMsTUFBTW9CLDJCQUFnQixDQUFDQyxRQUFRLENBQUM7Z0JBQzlCLFlBQVk7Z0JBQ1osWUFBWTtZQUNkLEdBQUczQjtZQUVILDZCQUE2QjtZQUM3QixNQUFNNEIsbUJBQW1CQyxhQUFNLENBQUNDLGNBQWMsQ0FBQztZQUMvQyxNQUFNOUIsS0FBSytCLGFBQWEsQ0FBQ0gsa0JBQWtCO1lBRTNDLGNBQWM7WUFDZCxNQUFNSSxlQUFlSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWU7WUFDdkUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNIO1lBRWpCLHNEQUFzRDtZQUN0RCxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9DLE9BQU9DLEtBQUssRUFBRUMsb0JBQW9CLENBQ3ZDLHdCQUNBSCxPQUFPSSxnQkFBZ0IsQ0FBQztvQkFDdEJDLFFBQVE7Z0JBQ1Y7WUFFSjtZQUVBLDhDQUE4QztZQUM5QyxNQUFNTixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9qQixlQUFlb0Isb0JBQW9CLENBQUM3QjtZQUM3QztRQUNGO1FBRUFSLEdBQUcsa0RBQWtEO1lBQ25ELFVBQVU7WUFDVmMsSUFBQUEsMkJBQWUsRUFBQztnQkFDZCw2QkFBNkI7b0JBQzNCQyxRQUFRO29CQUNSdkMsTUFBTTt3QkFDSndDLFNBQVM7d0JBQ1R0QyxPQUFPO3dCQUNQOEQsU0FBUzs0QkFDUDtnQ0FBRUMsTUFBTTtvQ0FBQztpQ0FBVztnQ0FBRUMsU0FBUzs0QkFBdUI7NEJBQ3REO2dDQUFFRCxNQUFNO29DQUFDO2lDQUFXO2dDQUFFQyxTQUFTOzRCQUF1Qjt5QkFDdkQ7b0JBQ0g7Z0JBQ0Y7WUFDRjtZQUVBLE1BQU0sRUFBRTdDLElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQ0MsMEJBQWlCO2dCQUNoQkMsUUFBUTtnQkFDUkMsU0FBU3hELEtBQUtTLEVBQUU7Z0JBQ2hCdUMsUUFBUXhCLFNBQVNjLEVBQUU7O1lBSXZCLDRDQUE0QztZQUM1QyxNQUFNMEIsZUFBZUgsYUFBTSxDQUFDSSxTQUFTLENBQUMsVUFBVTtnQkFBRUMsTUFBTTtZQUFlO1lBQ3ZFLE1BQU1sQyxLQUFLbUMsS0FBSyxDQUFDSDtZQUVqQixrREFBa0Q7WUFDbEQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO2dCQUNaQyxPQUFPUixhQUFNLENBQUNpQixTQUFTLENBQUMsMEJBQTBCQyxpQkFBaUI7Z0JBQ25FVixPQUFPUixhQUFNLENBQUNpQixTQUFTLENBQUMsMEJBQTBCQyxpQkFBaUI7WUFDckU7UUFDRjtRQUVBNUMsR0FBRyw4Q0FBOEM7WUFDL0MsVUFBVTtZQUNWNkMsSUFBQUEsd0JBQVksRUFBQyx3QkFBd0IsS0FBSztnQkFBRW5FLE9BQU87WUFBNkIsR0FBRztZQUVuRixNQUFNLEVBQUVtQixJQUFJLEVBQUUsR0FBR3FCLElBQUFBLDhCQUFtQixnQkFDbEMscUJBQUNDLDBCQUFpQjtnQkFDaEJDLFFBQVE7Z0JBQ1JDLFNBQVN4RCxLQUFLUyxFQUFFO2dCQUNoQnVDLFFBQVF4QixTQUFTYyxFQUFFOztZQUl2QixtQ0FBbUM7WUFDbkMsTUFBTW9CLDJCQUFnQixDQUFDQyxRQUFRLENBQUM7Z0JBQzlCLFlBQVk7Z0JBQ1osWUFBWTtZQUNkLEdBQUczQjtZQUVILE1BQU1nQyxlQUFlSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWU7WUFDdkUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNIO1lBRWpCLDZDQUE2QztZQUM3QyxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9SLGFBQU0sQ0FBQ2lCLFNBQVMsQ0FBQyxnQ0FBZ0NDLGlCQUFpQjtZQUMzRTtRQUNGO1FBRUE1QyxHQUFHLDhEQUE4RDtZQUMvRCxVQUFVO1lBQ1YsTUFBTThDLFdBQVc1QyxJQUFBQSw2QkFBZSxFQUFDO2dCQUMvQkMsSUFBSTtnQkFDSkMsWUFBWTtnQkFDWkMsUUFBUTtnQkFDUkMsT0FBTztnQkFDUEMsU0FBUztZQUNYO1lBRUEsMEJBQTBCO1lBQzFCTyxJQUFBQSwyQkFBZSxFQUFDO2dCQUNkLG1CQUFtQjtvQkFDakJDLFFBQVE7b0JBQ1J2QyxNQUFNO3dCQUNKd0MsU0FBUzt3QkFDVHhDLE1BQU0sRUFBRTtvQkFDVjtnQkFDRjtZQUNGO1lBRUEsc0JBQXNCO1lBQ3RCc0MsSUFBQUEsMkJBQWUsRUFBQztnQkFDZCxvQkFBb0I7b0JBQ2xCQyxRQUFRO29CQUNSdkMsTUFBTTt3QkFDSndDLFNBQVM7d0JBQ1R4QyxNQUFNc0U7b0JBQ1I7Z0JBQ0Y7WUFDRjtZQUVBLCtCQUErQjtZQUMvQmhDLElBQUFBLDJCQUFlLEVBQUM7Z0JBQ2QsNkJBQTZCO29CQUMzQkMsUUFBUTtvQkFDUnZDLE1BQU07d0JBQ0p3QyxTQUFTO3dCQUNUeEMsTUFBTWlDLElBQUFBLHFDQUF1QixFQUFDOzRCQUM1QkMsU0FBU29DLFNBQVMzQyxFQUFFOzRCQUNwQlUsUUFBUXhCLFNBQVNjLEVBQUU7d0JBQ3JCO29CQUNGO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNLEVBQUVOLElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQ0MsMEJBQWlCO2dCQUNoQkMsUUFBUTtnQkFDUkMsU0FBU3hELEtBQUtTLEVBQUU7Z0JBQ2hCdUMsUUFBUXhCLFNBQVNjLEVBQUU7O1lBSXZCLGtDQUFrQztZQUNsQyxNQUFNNEMsZUFBZXJCLGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7Z0JBQUVDLE1BQU07WUFBc0I7WUFDOUUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNlO1lBRWpCLHFCQUFxQjtZQUNyQixNQUFNeEIsMkJBQWdCLENBQUNDLFFBQVEsQ0FBQztnQkFDOUIsZUFBZTtnQkFDZixVQUFVO2dCQUNWLFNBQVM7Z0JBQ1QsV0FBVztZQUNiLEdBQUczQjtZQUVILE1BQU1tRCxvQkFBb0J0QixhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQXFCO1lBQ2xGLE1BQU1sQyxLQUFLbUMsS0FBSyxDQUFDZ0I7WUFFakIsZ0RBQWdEO1lBQ2hELE1BQU1mLElBQUFBLGNBQU8sRUFBQztnQkFDWkMsT0FBT0MsT0FBT0MsS0FBSyxFQUFFQyxvQkFBb0IsQ0FDdkMsZUFDQUgsT0FBT0ksZ0JBQWdCLENBQUM7b0JBQ3RCQyxRQUFRO29CQUNSVSxNQUFNZixPQUFPZ0IsZ0JBQWdCLENBQUM7Z0JBQ2hDO1lBRUo7UUFDRjtJQUNGO0lBRUE5RCxTQUFTLHdDQUF3QztRQUMvQ1ksR0FBRyxnRUFBZ0U7WUFDakUsVUFBVTtZQUNWLE1BQU1tRCxnQkFBZ0JqRCxJQUFBQSw2QkFBZTtZQUNyQyxNQUFNa0QsbUJBQW1CM0MsSUFBQUEscUNBQXVCLEVBQUM7Z0JBQy9DTixJQUFJO2dCQUNKTyxTQUFTeUMsY0FBY2hELEVBQUU7Z0JBQ3pCUSxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxRQUFReEIsU0FBU2MsRUFBRTtnQkFDbkJrRCxPQUFPRjtZQUNUO1lBRUEsTUFBTUcsa0JBQWtCO2dCQUN0QixHQUFHRixnQkFBZ0I7Z0JBQ25CekMsVUFBVTtnQkFDVkMsVUFBVTtZQUNaO1lBRUEsaUNBQWlDO1lBQ2pDRSxJQUFBQSwyQkFBZSxFQUFDO2dCQUNkLDhCQUE4QjtvQkFDNUJDLFFBQVE7b0JBQ1J2QyxNQUFNOEU7Z0JBQ1I7WUFDRjtZQUVBLE1BQU1yQyxnQkFBZ0JwRCxLQUFLUyxFQUFFO1lBQzdCLE1BQU0sRUFBRXVCLElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQ0MsMEJBQWlCO2dCQUNoQm9DLGVBQWVIO2dCQUNmaEMsUUFBUTtnQkFDUkMsU0FBU3hELEtBQUtTLEVBQUU7Z0JBQ2hCZ0QsV0FBV0w7Z0JBQ1hKLFFBQVF4QixTQUFTYyxFQUFFOztZQUl2QixpQ0FBaUM7WUFDakMsTUFBTXFELGdCQUFnQjlCLGFBQU0sQ0FBQytCLGlCQUFpQixDQUFDO1lBQy9DLE1BQU01RCxLQUFLNkQsS0FBSyxDQUFDRjtZQUNqQixNQUFNM0QsS0FBSzhELElBQUksQ0FBQ0gsZUFBZTtZQUUvQixNQUFNSSxnQkFBZ0JsQyxhQUFNLENBQUMrQixpQkFBaUIsQ0FBQztZQUMvQyxNQUFNNUQsS0FBSzZELEtBQUssQ0FBQ0U7WUFDakIsTUFBTS9ELEtBQUs4RCxJQUFJLENBQUNDLGVBQWU7WUFFL0IsY0FBYztZQUNkLE1BQU0vQixlQUFlSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWU7WUFDdkUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNIO1lBRWpCLHNEQUFzRDtZQUN0RCxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9DLE9BQU9DLEtBQUssRUFBRUMsb0JBQW9CLENBQ3ZDLDBCQUNBSCxPQUFPSSxnQkFBZ0IsQ0FBQztvQkFDdEJDLFFBQVE7Z0JBQ1Y7WUFFSjtZQUVBLDhDQUE4QztZQUM5QyxNQUFNTixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9qQixlQUFlb0Isb0JBQW9CLENBQUNpQjtZQUM3QztRQUNGO1FBRUF0RCxHQUFHLG9EQUFvRDtZQUNyRCxVQUFVO1lBQ1YsTUFBTW9ELG1CQUFtQjNDLElBQUFBLHFDQUF1QixFQUFDO2dCQUMvQ04sSUFBSTtnQkFDSlUsUUFBUTtZQUNWO1lBRUFDLElBQUFBLDJCQUFlLEVBQUM7Z0JBQ2QsOEJBQThCO29CQUM1QkMsUUFBUTtvQkFDUnZDLE1BQU07d0JBQ0pFLE9BQU87b0JBQ1Q7Z0JBQ0Y7WUFDRjtZQUVBLE1BQU0sRUFBRW1CLElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQ0MsMEJBQWlCO2dCQUNoQm9DLGVBQWVIO2dCQUNmaEMsUUFBUTtnQkFDUkMsU0FBU3hELEtBQUtTLEVBQUU7Z0JBQ2hCdUMsUUFBUXhCLFNBQVNjLEVBQUU7O1lBSXZCLDRCQUE0QjtZQUM1QixNQUFNMEIsZUFBZUgsYUFBTSxDQUFDSSxTQUFTLENBQUMsVUFBVTtnQkFBRUMsTUFBTTtZQUFlO1lBQ3ZFLE1BQU1sQyxLQUFLbUMsS0FBSyxDQUFDSDtZQUVqQixtREFBbUQ7WUFDbkQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO2dCQUNaQyxPQUFPUixhQUFNLENBQUNpQixTQUFTLENBQUMsZUFBZUMsaUJBQWlCO1lBQzFEO1FBQ0Y7UUFFQTVDLEdBQUcsa0RBQWtEO1lBQ25ELFVBQVU7WUFDVixNQUFNb0QsbUJBQW1CM0MsSUFBQUEscUNBQXVCLEVBQUM7Z0JBQy9DTixJQUFJO2dCQUNKVSxRQUFReEIsU0FBU2MsRUFBRTtnQkFDbkIwRCxRQUFRO29CQUFDO2lCQUFxQjtZQUNoQztZQUVBLE1BQU1QLGtCQUFrQjtnQkFDdEIsR0FBR0YsZ0JBQWdCO2dCQUNuQlMsUUFBUTtvQkFBQztvQkFBc0I7aUJBQWdCO1lBQ2pEO1lBRUEvQyxJQUFBQSwyQkFBZSxFQUFDO2dCQUNkLDhCQUE4QjtvQkFDNUJDLFFBQVE7b0JBQ1J2QyxNQUFNOEU7Z0JBQ1I7WUFDRjtZQUVBLE1BQU0sRUFBRXpELElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQ0MsMEJBQWlCO2dCQUNoQm9DLGVBQWVIO2dCQUNmaEMsUUFBUTtnQkFDUkMsU0FBU3hELEtBQUtTLEVBQUU7Z0JBQ2hCdUMsUUFBUXhCLFNBQVNjLEVBQUU7O1lBSXZCLHlCQUF5QjtZQUN6QixNQUFNMkQsWUFBWXBDLGFBQU0sQ0FBQ0MsY0FBYyxDQUFDO1lBQ3hDLE1BQU1vQyxPQUFPLElBQUlDLEtBQUs7Z0JBQUM7YUFBTyxFQUFFLGlCQUFpQjtnQkFBRUwsTUFBTTtZQUFhO1lBQ3RFLE1BQU05RCxLQUFLb0UsTUFBTSxDQUFDSCxXQUFXQztZQUU3QixjQUFjO1lBQ2QsTUFBTWxDLGVBQWVILGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7Z0JBQUVDLE1BQU07WUFBZTtZQUN2RSxNQUFNbEMsS0FBS21DLEtBQUssQ0FBQ0g7WUFFakIsZ0RBQWdEO1lBQ2hELE1BQU1JLElBQUFBLGNBQU8sRUFBQztnQkFDWkMsT0FBT0MsT0FBT0MsS0FBSyxFQUFFQyxvQkFBb0IsQ0FDdkMsMEJBQ0FILE9BQU9JLGdCQUFnQixDQUFDO29CQUN0QkMsUUFBUTtvQkFDUlUsTUFBTWYsT0FBT2dDLEdBQUcsQ0FBQ0M7Z0JBQ25CO1lBRUo7UUFDRjtRQUVBbkUsR0FBRyw4Q0FBOEM7WUFDL0MsVUFBVTtZQUNWLE1BQU1vRCxtQkFBbUIzQyxJQUFBQSxxQ0FBdUIsRUFBQztnQkFDL0NOLElBQUk7Z0JBQ0pVLFFBQVF4QixTQUFTYyxFQUFFO1lBQ3JCO1lBRUEsTUFBTSxFQUFFTixJQUFJLEVBQUUsR0FBR3FCLElBQUFBLDhCQUFtQixnQkFDbEMscUJBQUNDLDBCQUFpQjtnQkFDaEJvQyxlQUFlSDtnQkFDZmhDLFFBQVE7Z0JBQ1JDLFNBQVN4RCxLQUFLUyxFQUFFO2dCQUNoQnVDLFFBQVF4QixTQUFTYyxFQUFFOztZQUl2Qiw4Q0FBOEM7WUFDOUMsTUFBTWlFLGFBQWEsSUFBSUM7WUFDdkJELFdBQVdFLE9BQU8sQ0FBQ0YsV0FBV0csT0FBTyxLQUFLO1lBQzFDLE1BQU1DLG1CQUFtQkosV0FBV0ssV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFFL0QsTUFBTUMsc0JBQXNCakQsYUFBTSxDQUFDQyxjQUFjLENBQUM7WUFDbEQsTUFBTTlCLEtBQUs2RCxLQUFLLENBQUNpQjtZQUNqQixNQUFNOUUsS0FBSzhELElBQUksQ0FBQ2dCLHFCQUFxQkg7WUFFckMsY0FBYztZQUNkLE1BQU0zQyxlQUFlSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWU7WUFDdkUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNIO1lBRWpCLGdEQUFnRDtZQUNoRCxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9SLGFBQU0sQ0FBQ2lCLFNBQVMsQ0FBQyw2QkFBNkJDLGlCQUFpQjtZQUN4RTtRQUNGO0lBQ0Y7SUFFQXhELFNBQVMsc0NBQXNDO1FBQzdDWSxHQUFHLDZEQUE2RDtZQUM5RCxVQUFVO1lBQ1YsTUFBTTRFLGdCQUFnQm5FLElBQUFBLHFDQUF1QixFQUFDO2dCQUM1Q04sSUFBSTtnQkFDSlUsUUFBUXhCLFNBQVNjLEVBQUU7WUFDckI7WUFFQVcsSUFBQUEsMkJBQWUsRUFBQztnQkFDZCxpQ0FBaUM7b0JBQy9CQyxRQUFRO29CQUNSdkMsTUFBTTt3QkFDSndDLFNBQVM7d0JBQ1QwQixTQUFTO29CQUNYO2dCQUNGO1lBQ0Y7WUFFQSxzQkFBc0I7WUFDdEIsTUFBTW1DLGtCQUFrQkMsT0FBT0MsT0FBTztZQUN0Q0QsT0FBT0MsT0FBTyxHQUFHbEgsS0FBS1MsRUFBRSxDQUFDLElBQU07WUFFL0IsTUFBTTBHLGVBQWVuSCxLQUFLUyxFQUFFO1lBQzVCLE1BQU0sRUFBRXVCLElBQUksRUFBRSxHQUFHcUIsSUFBQUEsOEJBQW1CLGdCQUNsQyxxQkFBQytEOzBCQUNDLGNBQUEscUJBQUNDO29CQUNDQyxTQUFTO3dCQUNQLE1BQU1DLFlBQVlOLE9BQU9DLE9BQU8sQ0FBQzt3QkFDakMsSUFBSUssV0FBVzs0QkFDYixNQUFNQyxXQUFXLE1BQU1qRCxNQUFNLENBQUMscUJBQXFCLEVBQUV3QyxjQUFjekUsRUFBRSxFQUFFLEVBQUU7Z0NBQ3ZFb0MsUUFBUTs0QkFDVjs0QkFDQSxJQUFJOEMsU0FBU0MsRUFBRSxFQUFFO2dDQUNmTjs0QkFDRjt3QkFDRjtvQkFDRjs4QkFDRDs7O1lBTUwsNEJBQTRCO1lBQzVCLE1BQU1PLGVBQWU3RCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWdCO1lBQ3hFLE1BQU1sQyxLQUFLbUMsS0FBSyxDQUFDdUQ7WUFFakIseUNBQXlDO1lBQ3pDckQsT0FBTzRDLE9BQU9DLE9BQU8sRUFBRTFDLG9CQUFvQixDQUFDO1lBRTVDLG9DQUFvQztZQUNwQyxNQUFNSixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9DLE9BQU9DLEtBQUssRUFBRUMsb0JBQW9CLENBQ3ZDLDBCQUNBSCxPQUFPSSxnQkFBZ0IsQ0FBQztvQkFDdEJDLFFBQVE7Z0JBQ1Y7WUFFSjtZQUVBLCtDQUErQztZQUMvQyxNQUFNTixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU84QyxjQUFjUSxnQkFBZ0I7WUFDdkM7WUFFQSxVQUFVO1lBQ1ZWLE9BQU9DLE9BQU8sR0FBR0Y7UUFDbkI7UUFFQTdFLEdBQUcscURBQXFEO1lBQ3RELFVBQVU7WUFDVmMsSUFBQUEsMkJBQWUsRUFBQztnQkFDZCxpQ0FBaUM7b0JBQy9CQyxRQUFRO29CQUNSdkMsTUFBTTt3QkFDSkUsT0FBTztvQkFDVDtnQkFDRjtZQUNGO1lBRUEsTUFBTW1HLGtCQUFrQkMsT0FBT0MsT0FBTztZQUN0Q0QsT0FBT0MsT0FBTyxHQUFHbEgsS0FBS1MsRUFBRSxDQUFDLElBQU07WUFFL0IsTUFBTSxFQUFFdUIsSUFBSSxFQUFFLEdBQUdxQixJQUFBQSw4QkFBbUIsZ0JBQ2xDLHFCQUFDK0Q7MEJBQ0MsY0FBQSxxQkFBQ0M7b0JBQ0NDLFNBQVM7d0JBQ1AsTUFBTUMsWUFBWU4sT0FBT0MsT0FBTyxDQUFDO3dCQUNqQyxJQUFJSyxXQUFXOzRCQUNiLE1BQU1DLFdBQVcsTUFBTWpELE1BQU0sMEJBQTBCO2dDQUNyREcsUUFBUTs0QkFDVjs0QkFDQSxNQUFNa0QsU0FBUyxNQUFNSixTQUFTSyxJQUFJOzRCQUNsQyxJQUFJLENBQUNMLFNBQVNDLEVBQUUsRUFBRTtnQ0FDaEJLLE1BQU1GLE9BQU8vRyxLQUFLOzRCQUNwQjt3QkFDRjtvQkFDRjs4QkFDRDs7O1lBTUwsb0JBQW9CO1lBQ3BCLE1BQU1rSCxnQkFBZ0JkLE9BQU9hLEtBQUs7WUFDbENiLE9BQU9hLEtBQUssR0FBRzlILEtBQUtTLEVBQUU7WUFFdEIsNEJBQTRCO1lBQzVCLE1BQU1pSCxlQUFlN0QsYUFBTSxDQUFDSSxTQUFTLENBQUMsVUFBVTtnQkFBRUMsTUFBTTtZQUFnQjtZQUN4RSxNQUFNbEMsS0FBS21DLEtBQUssQ0FBQ3VEO1lBRWpCLGtDQUFrQztZQUNsQyxNQUFNdEQsSUFBQUEsY0FBTyxFQUFDO2dCQUNaQyxPQUFPNEMsT0FBT2EsS0FBSyxFQUFFdEQsb0JBQW9CLENBQUM7WUFDNUM7WUFFQSxVQUFVO1lBQ1Z5QyxPQUFPQyxPQUFPLEdBQUdGO1lBQ2pCQyxPQUFPYSxLQUFLLEdBQUdDO1FBQ2pCO1FBRUE1RixHQUFHLDBEQUEwRDtZQUMzRCxVQUFVO1lBQ1YsTUFBTTZFLGtCQUFrQkMsT0FBT0MsT0FBTztZQUN0Q0QsT0FBT0MsT0FBTyxHQUFHbEgsS0FBS1MsRUFBRSxDQUFDLElBQU0sUUFBUSxlQUFlO1lBRXRELE1BQU0wRyxlQUFlbkgsS0FBS1MsRUFBRTtZQUM1QixNQUFNLEVBQUV1QixJQUFJLEVBQUUsR0FBR3FCLElBQUFBLDhCQUFtQixnQkFDbEMscUJBQUMrRDswQkFDQyxjQUFBLHFCQUFDQztvQkFDQ0MsU0FBUzt3QkFDUCxNQUFNQyxZQUFZTixPQUFPQyxPQUFPLENBQUM7d0JBQ2pDLElBQUlLLFdBQVc7NEJBQ2JKO3dCQUNGO29CQUNGOzhCQUNEOzs7WUFNTCx1Q0FBdUM7WUFDdkMsTUFBTU8sZUFBZTdELGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7Z0JBQUVDLE1BQU07WUFBZ0I7WUFDeEUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUN1RDtZQUVqQix5Q0FBeUM7WUFDekNyRCxPQUFPNEMsT0FBT0MsT0FBTyxFQUFFUyxnQkFBZ0I7WUFFdkMsdUNBQXVDO1lBQ3ZDdEQsT0FBT0MsT0FBT0MsS0FBSyxFQUFFeUQsR0FBRyxDQUFDTCxnQkFBZ0I7WUFFekMsbURBQW1EO1lBQ25EdEQsT0FBTzhDLGNBQWNhLEdBQUcsQ0FBQ0wsZ0JBQWdCO1lBRXpDLFVBQVU7WUFDVlYsT0FBT0MsT0FBTyxHQUFHRjtRQUNuQjtRQUVBN0UsR0FBRyx5REFBeUQ7WUFDMUQsVUFBVTtZQUNWNkMsSUFBQUEsd0JBQVksRUFBQywwQkFBMEIsS0FBSztnQkFBRW5FLE9BQU87WUFBaUIsR0FBRztZQUV6RSxNQUFNbUcsa0JBQWtCQyxPQUFPQyxPQUFPO1lBQ3RDRCxPQUFPQyxPQUFPLEdBQUdsSCxLQUFLUyxFQUFFLENBQUMsSUFBTTtZQUUvQixNQUFNLEVBQUV1QixJQUFJLEVBQUUsR0FBR3FCLElBQUFBLDhCQUFtQixnQkFDbEMscUJBQUMrRDswQkFDQyxjQUFBLHFCQUFDQztvQkFDQ0MsU0FBUzt3QkFDUCxNQUFNQyxZQUFZTixPQUFPQyxPQUFPLENBQUM7d0JBQ2pDLElBQUlLLFdBQVc7NEJBQ2IsSUFBSTtnQ0FDRixNQUFNQyxXQUFXLE1BQU1qRCxNQUFNLDBCQUEwQjtvQ0FDckRHLFFBQVE7Z0NBQ1Y7Z0NBQ0EsTUFBTWtELFNBQVMsTUFBTUosU0FBU0ssSUFBSTtnQ0FDbEMsSUFBSSxDQUFDTCxTQUFTQyxFQUFFLEVBQUU7b0NBQ2hCLE1BQU0sSUFBSVEsTUFBTUwsT0FBTy9HLEtBQUs7Z0NBQzlCOzRCQUNGLEVBQUUsT0FBT0EsT0FBTztnQ0FDZGlILE1BQU0sQ0FBQyxrQkFBa0IsRUFBRWpILE1BQU1nRSxPQUFPLEVBQUU7NEJBQzVDO3dCQUNGO29CQUNGOzhCQUNEOzs7WUFNTCxNQUFNa0QsZ0JBQWdCZCxPQUFPYSxLQUFLO1lBQ2xDYixPQUFPYSxLQUFLLEdBQUc5SCxLQUFLUyxFQUFFO1lBRXRCLDRCQUE0QjtZQUM1QixNQUFNaUgsZUFBZTdELGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7Z0JBQUVDLE1BQU07WUFBZ0I7WUFDeEUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUN1RDtZQUVqQixpQ0FBaUM7WUFDakMsTUFBTXRELElBQUFBLGNBQU8sRUFBQztnQkFDWkMsT0FBTzRDLE9BQU9hLEtBQUssRUFBRXRELG9CQUFvQixDQUFDO1lBQzVDO1lBRUEsVUFBVTtZQUNWeUMsT0FBT0MsT0FBTyxHQUFHRjtZQUNqQkMsT0FBT2EsS0FBSyxHQUFHQztRQUNqQjtJQUNGO0lBRUF4RyxTQUFTLG9DQUFvQztRQUMzQ1ksR0FBRyxrRUFBa0U7WUFDbkUsdUJBQXVCO1lBQ3ZCLE1BQU04QyxXQUFXNUMsSUFBQUEsNkJBQWU7WUFDaEMsTUFBTTZGLGNBQWN0RixJQUFBQSxxQ0FBdUIsRUFBQztnQkFDMUNOLElBQUk7Z0JBQ0pPLFNBQVNvQyxTQUFTM0MsRUFBRTtnQkFDcEJVLFFBQVF4QixTQUFTYyxFQUFFO1lBQ3JCO1lBRUFXLElBQUFBLDJCQUFlLEVBQUM7Z0JBQ2QsNkJBQTZCO29CQUMzQkMsUUFBUTtvQkFDUnZDLE1BQU07d0JBQ0p3QyxTQUFTO3dCQUNUeEMsTUFBTXVIO29CQUNSO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNLEVBQUVsRyxJQUFJLEVBQUVtRyxRQUFRLEVBQUUsR0FBRzlFLElBQUFBLDhCQUFtQixnQkFDNUMscUJBQUNDLDBCQUFpQjtnQkFDaEJDLFFBQVE7Z0JBQ1JDLFNBQVN4RCxLQUFLUyxFQUFFO2dCQUNoQnVDLFFBQVF4QixTQUFTYyxFQUFFOztZQUl2QixlQUFlO1lBQ2YsTUFBTW9CLDJCQUFnQixDQUFDQyxRQUFRLENBQUM7Z0JBQzlCLFlBQVk7Z0JBQ1osWUFBWTtZQUNkLEdBQUczQjtZQUVILElBQUlnQyxlQUFlSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWU7WUFDckUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNIO1lBRWpCLE1BQU1JLElBQUFBLGNBQU8sRUFBQztnQkFDWkMsT0FBT0MsT0FBT0MsS0FBSyxFQUFFQyxvQkFBb0IsQ0FDdkMsd0JBQ0FILE9BQU9JLGdCQUFnQixDQUFDO29CQUFFQyxRQUFRO2dCQUFPO1lBRTdDO1lBRUEsNEJBQTRCO1lBQzVCMUUsS0FBSzJCLGFBQWE7WUFFbEIscUJBQXFCO1lBQ3JCLE1BQU04RCxrQkFBa0I7Z0JBQ3RCLEdBQUd5QyxXQUFXO2dCQUNkcEYsVUFBVTtZQUNaO1lBRUFHLElBQUFBLDJCQUFlLEVBQUM7Z0JBQ2QsOEJBQThCO29CQUM1QkMsUUFBUTtvQkFDUnZDLE1BQU04RTtnQkFDUjtZQUNGO1lBRUEwQyx1QkFDRSxxQkFBQzdFLDBCQUFpQjtnQkFDaEJvQyxlQUFld0M7Z0JBQ2YzRSxRQUFRO2dCQUNSQyxTQUFTeEQsS0FBS1MsRUFBRTtnQkFDaEJ1QyxRQUFReEIsU0FBU2MsRUFBRTs7WUFJdkIsYUFBYTtZQUNiLE1BQU1xRCxnQkFBZ0I5QixhQUFNLENBQUMrQixpQkFBaUIsQ0FBQztZQUMvQyxNQUFNNUQsS0FBSzZELEtBQUssQ0FBQ0Y7WUFDakIsTUFBTTNELEtBQUs4RCxJQUFJLENBQUNILGVBQWU7WUFFL0IzQixlQUFlSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO2dCQUFFQyxNQUFNO1lBQWU7WUFDakUsTUFBTWxDLEtBQUttQyxLQUFLLENBQUNIO1lBRWpCLE1BQU1JLElBQUFBLGNBQU8sRUFBQztnQkFDWkMsT0FBT0MsT0FBT0MsS0FBSyxFQUFFQyxvQkFBb0IsQ0FDdkMsMEJBQ0FILE9BQU9JLGdCQUFnQixDQUFDO29CQUFFQyxRQUFRO2dCQUFNO1lBRTVDO1lBRUEsOEJBQThCO1lBQzlCMUUsS0FBSzJCLGFBQWE7WUFFbEIsdUJBQXVCO1lBQ3ZCc0IsSUFBQUEsMkJBQWUsRUFBQztnQkFDZCxpQ0FBaUM7b0JBQy9CQyxRQUFRO29CQUNSdkMsTUFBTTt3QkFDSndDLFNBQVM7d0JBQ1QwQixTQUFTO29CQUNYO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNbUMsa0JBQWtCQyxPQUFPQyxPQUFPO1lBQ3RDRCxPQUFPQyxPQUFPLEdBQUdsSCxLQUFLUyxFQUFFLENBQUMsSUFBTTtZQUUvQjBILHVCQUNFLHFCQUFDZjswQkFDQyxjQUFBLHFCQUFDQztvQkFDQ0MsU0FBUzt3QkFDUCxNQUFNQyxZQUFZTixPQUFPQyxPQUFPLENBQUM7d0JBQ2pDLElBQUlLLFdBQVc7NEJBQ2IsTUFBTWhELE1BQU0sMEJBQTBCO2dDQUFFRyxRQUFROzRCQUFTO3dCQUMzRDtvQkFDRjs4QkFDRDs7O1lBTUwsZUFBZTtZQUNmLE1BQU1nRCxlQUFlN0QsYUFBTSxDQUFDSSxTQUFTLENBQUMsVUFBVTtnQkFBRUMsTUFBTTtZQUFnQjtZQUN4RSxNQUFNbEMsS0FBS21DLEtBQUssQ0FBQ3VEO1lBRWpCLE1BQU10RCxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1pDLE9BQU9DLE9BQU9DLEtBQUssRUFBRUMsb0JBQW9CLENBQ3ZDLDBCQUNBSCxPQUFPSSxnQkFBZ0IsQ0FBQztvQkFBRUMsUUFBUTtnQkFBUztZQUUvQztZQUVBLFVBQVU7WUFDVnVDLE9BQU9DLE9BQU8sR0FBR0Y7UUFDbkI7SUFDRjtBQUNGIn0=