{"version":3,"sources":["/Users/stefanbekker/projects/fancy-planties/src/lib/utils/email-errors.ts"],"sourcesContent":["import { EmailServiceError } from '@/lib/services/email';\n\nexport function getEmailErrorMessage(error: unknown): string {\n  if (error instanceof EmailServiceError) {\n    switch (error.code) {\n      case 'QUOTA_EXCEEDED':\n        return 'Email service is temporarily unavailable. Please try again later or contact support.';\n      case 'INVALID_EMAIL':\n        return 'The email address appears to be invalid. Please check and try again.';\n      case 'NETWORK_ERROR':\n        return 'Network error occurred while sending email. Please check your connection and try again.';\n      case 'API_ERROR':\n      default:\n        return 'Unable to send verification email at this time. Please try again in a few minutes.';\n    }\n  }\n\n  if (error instanceof Error) {\n    // Log the actual error for debugging but return generic message\n    console.error('Unexpected email error:', error.message);\n    return 'Unable to send verification email. Please try again later.';\n  }\n\n  return 'An unexpected error occurred. Please try again.';\n}\n\nexport function shouldRetryEmailOperation(error: unknown): boolean {\n  if (error instanceof EmailServiceError) {\n    // Don't retry on these errors\n    return !['INVALID_EMAIL', 'QUOTA_EXCEEDED'].includes(error.code);\n  }\n  \n  // Retry on other errors\n  return true;\n}"],"names":["getEmailErrorMessage","shouldRetryEmailOperation","error","EmailServiceError","code","Error","console","message","includes"],"mappings":";;;;;;;;;;;QAEgBA;eAAAA;;QAwBAC;eAAAA;;;uBA1BkB;AAE3B,SAASD,qBAAqBE,KAAc;IACjD,IAAIA,iBAAiBC,wBAAiB,EAAE;QACtC,OAAQD,MAAME,IAAI;YAChB,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;YACL;gBACE,OAAO;QACX;IACF;IAEA,IAAIF,iBAAiBG,OAAO;QAC1B,gEAAgE;QAChEC,QAAQJ,KAAK,CAAC,2BAA2BA,MAAMK,OAAO;QACtD,OAAO;IACT;IAEA,OAAO;AACT;AAEO,SAASN,0BAA0BC,KAAc;IACtD,IAAIA,iBAAiBC,wBAAiB,EAAE;QACtC,8BAA8B;QAC9B,OAAO,CAAC;YAAC;YAAiB;SAAiB,CAACK,QAAQ,CAACN,MAAME,IAAI;IACjE;IAEA,wBAAwB;IACxB,OAAO;AACT"}