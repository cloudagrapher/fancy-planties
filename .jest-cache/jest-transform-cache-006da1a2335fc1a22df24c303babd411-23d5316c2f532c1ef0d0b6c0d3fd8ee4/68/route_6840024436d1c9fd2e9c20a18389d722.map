{"version":3,"names":["cov_elxrakphd","actualCoverage","s","POST","_request","f","session","_server1","validateRequest","b","_server","NextResponse","json","error","status","_auth","signOut","id","clearSessionCookie","success","message","console"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/app/api/auth/signout/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { validateRequest } from '@/lib/auth/server';\nimport { signOut } from '@/lib/auth';\nimport { clearSessionCookie } from '@/lib/auth/server';\n\nexport async function POST(_request: NextRequest) {\n  try {\n    const { session } = await validateRequest();\n    \n    if (!session) {\n      return NextResponse.json(\n        { error: 'No active session' },\n        { status: 401 }\n      );\n    }\n    \n    // Sign out and clear session\n    await signOut(session.id);\n    await clearSessionCookie();\n    \n    return NextResponse.json({\n      success: true,\n      message: 'Signed out successfully',\n    });\n    \n  } catch (error) {\n    console.error('Sign out error:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOI;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAFkB;;;;;;WAAAC,IAAA;;;;;iCALoB;;;iCACV;;;iCACR;AAGjB,eAAeA,KAAKC,QAAqB;EAAA;EAAAJ,aAAA,GAAAK,CAAA;EAAAL,aAAA,GAAAE,CAAA;EAC9C,IAAI;IACF,MAAM;MAAEI;IAAO,CAAE;IAAA;IAAA,CAAAN,aAAA,GAAAE,CAAA,OAAG,MAAM,IAAAK,QAAA,CAAAC,eAAe;IAAA;IAAAR,aAAA,GAAAE,CAAA;IAEzC,IAAI,CAACI,OAAA,EAAS;MAAA;MAAAN,aAAA,GAAAS,CAAA;MAAAT,aAAA,GAAAE,CAAA;MACZ,OAAOQ,OAAA,CAAAC,YAAY,CAACC,IAAI,CACtB;QAAEC,KAAA,EAAO;MAAoB,GAC7B;QAAEC,MAAA,EAAQ;MAAI;IAElB;IAAA;IAAA;MAAAd,aAAA,GAAAS,CAAA;IAAA;IAEA;IAAAT,aAAA,GAAAE,CAAA;IACA,MAAM,IAAAa,KAAA,CAAAC,OAAO,EAACV,OAAA,CAAQW,EAAE;IAAA;IAAAjB,aAAA,GAAAE,CAAA;IACxB,MAAM,IAAAK,QAAA,CAAAW,kBAAkB;IAAA;IAAAlB,aAAA,GAAAE,CAAA;IAExB,OAAOQ,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;MACvBO,OAAA,EAAS;MACTC,OAAA,EAAS;IACX;EAEF,EAAE,OAAOP,KAAA,EAAO;IAAA;IAAAb,aAAA,GAAAE,CAAA;IACdmB,OAAA,CAAQR,KAAK,CAAC,mBAAmBA,KAAA;IAAA;IAAAb,aAAA,GAAAE,CAAA;IACjC,OAAOQ,OAAA,CAAAC,YAAY,CAACC,IAAI,CACtB;MAAEC,KAAA,EAAO;IAAwB,GACjC;MAAEC,MAAA,EAAQ;IAAI;EAElB;AACF","ignoreList":[]}