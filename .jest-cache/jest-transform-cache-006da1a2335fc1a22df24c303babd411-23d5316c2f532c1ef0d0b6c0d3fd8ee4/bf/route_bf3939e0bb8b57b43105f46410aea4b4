ab9776be6026aa00d57030066ae7a1a1
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "GET", {
    enumerable: true,
    get: function() {
        return GET;
    }
});
const _server = require("next/server");
const _server1 = require("../../../../lib/auth/server");
const _careservice = require("../../../../lib/services/care-service");
async function GET(request) {
    try {
        const { user } = await (0, _server1.requireAuthSession)();
        const dashboardData = await _careservice.CareService.getCareDashboard(user.id);
        return _server.NextResponse.json(dashboardData);
    } catch (error) {
        console.error('Error fetching care dashboard:', error);
        return _server.NextResponse.json({
            error: 'Failed to fetch care dashboard'
        }, {
            status: 500
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2FwcC9hcGkvY2FyZS9kYXNoYm9hcmQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHJlcXVpcmVBdXRoU2Vzc2lvbiB9IGZyb20gJ0AvbGliL2F1dGgvc2VydmVyJztcbmltcG9ydCB7IENhcmVTZXJ2aWNlIH0gZnJvbSAnQC9saWIvc2VydmljZXMvY2FyZS1zZXJ2aWNlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgcmVxdWlyZUF1dGhTZXNzaW9uKCk7XG4gICAgXG4gICAgY29uc3QgZGFzaGJvYXJkRGF0YSA9IGF3YWl0IENhcmVTZXJ2aWNlLmdldENhcmVEYXNoYm9hcmQodXNlci5pZCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRhc2hib2FyZERhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhcmUgZGFzaGJvYXJkOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGNhcmUgZGFzaGJvYXJkJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJHRVQiLCJyZXF1ZXN0IiwidXNlciIsInJlcXVpcmVBdXRoU2Vzc2lvbiIsImRhc2hib2FyZERhdGEiLCJDYXJlU2VydmljZSIsImdldENhcmVEYXNoYm9hcmQiLCJpZCIsIk5leHRSZXNwb25zZSIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwibWFwcGluZ3MiOiI7Ozs7K0JBSXNCQTs7O2VBQUFBOzs7d0JBSm9CO3lCQUNQOzZCQUNQO0FBRXJCLGVBQWVBLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHLE1BQU1DLElBQUFBLDJCQUFrQjtRQUV6QyxNQUFNQyxnQkFBZ0IsTUFBTUMsd0JBQVcsQ0FBQ0MsZ0JBQWdCLENBQUNKLEtBQUtLLEVBQUU7UUFFaEUsT0FBT0Msb0JBQVksQ0FBQ0MsSUFBSSxDQUFDTDtJQUMzQixFQUFFLE9BQU9NLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7UUFDaEQsT0FBT0Ysb0JBQVksQ0FBQ0MsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQWlDLEdBQzFDO1lBQUVFLFFBQVE7UUFBSTtJQUVsQjtBQUNGIn0=