{"version":3,"sources":["/Users/stefanbekker/projects/fancy-planties/src/components/shared/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: ReactNode;\n  size?: 'default' | 'large';\n  showCloseButton?: boolean;\n  closeOnBackdropClick?: boolean;\n  closeOnEscape?: boolean;\n  footer?: ReactNode;\n}\n\nexport default function Modal({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'default',\n  showCloseButton = true,\n  closeOnBackdropClick = true,\n  closeOnEscape = true,\n  footer,\n}: ModalProps) {\n  // Handle escape key\n  useEffect(() => {\n    if (!isOpen || !closeOnEscape) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, closeOnEscape, onClose]);\n\n  // Prevent body scroll when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (closeOnBackdropClick && e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const modalContent = (\n    <div className=\"modal-overlay\" onClick={handleBackdropClick}>\n      <div \n        className={`modal-content ${size === 'large' ? 'modal-content--large' : ''}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        {(title || showCloseButton) && (\n          <div className=\"modal-header\">\n            {title && <h2 className=\"modal-title\">{title}</h2>}\n            {showCloseButton && (\n              <button\n                onClick={onClose}\n                className=\"modal-close\"\n                aria-label=\"Close modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Body */}\n        <div className=\"modal-body\">\n          {children}\n        </div>\n\n        {/* Footer */}\n        {footer && (\n          <div className=\"modal-footer\">\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  // Render modal in portal to avoid z-index issues\n  return createPortal(modalContent, document.body);\n}\n\n// Modal with tabs\nexport interface ModalWithTabsProps extends Omit<ModalProps, 'children'> {\n  tabs: Array<{\n    id: string;\n    label: string;\n    icon?: string;\n    content: ReactNode;\n  }>;\n  activeTab: string;\n  onTabChange: (tabId: string) => void;\n}\n\nexport function ModalWithTabs({\n  tabs,\n  activeTab,\n  onTabChange,\n  ...modalProps\n}: ModalWithTabsProps) {\n  const activeTabContent = tabs.find(tab => tab.id === activeTab)?.content;\n\n  return (\n    <Modal {...modalProps} showCloseButton={false}>\n      {/* Custom header with close button and tabs */}\n      <div className=\"modal-header\">\n        <h2 className=\"modal-title\">{modalProps.title}</h2>\n        <button\n          onClick={modalProps.onClose}\n          className=\"modal-close\"\n          aria-label=\"Close modal\"\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"modal-tabs\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => onTabChange(tab.id)}\n            className={`tab ${activeTab === tab.id ? 'tab--active' : ''}`}\n          >\n            {tab.icon && <span className=\"mr-2\">{tab.icon}</span>}\n            {tab.label}\n          </button>\n        ))}\n      </div>\n\n      {/* Tab content */}\n      <div className=\"modal-body modal-body--no-padding\">\n        <div className=\"p-6\">\n          {activeTabContent}\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n// Confirmation modal\nexport interface ConfirmationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  variant?: 'default' | 'danger';\n  isLoading?: boolean;\n}\n\nexport function ConfirmationModal({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = 'Confirm',\n  cancelText = 'Cancel',\n  variant = 'default',\n  isLoading = false,\n}: ConfirmationModalProps) {\n  const handleConfirm = () => {\n    onConfirm();\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={title}\n      closeOnBackdropClick={!isLoading}\n      closeOnEscape={!isLoading}\n      footer={\n        <div className=\"flex gap-3 justify-end w-full\">\n          <button\n            onClick={onClose}\n            disabled={isLoading}\n            className=\"btn btn--outline\"\n          >\n            {cancelText}\n          </button>\n          <button\n            onClick={handleConfirm}\n            disabled={isLoading}\n            className={`btn ${variant === 'danger' ? 'btn--danger' : 'btn--primary'} ${isLoading ? 'btn--loading' : ''}`}\n          >\n            {confirmText}\n          </button>\n        </div>\n      }\n    >\n      <p className=\"text-gray-700\">{message}</p>\n    </Modal>\n  );\n}"],"names":["ConfirmationModal","ModalWithTabs","Modal","isOpen","onClose","title","children","size","showCloseButton","closeOnBackdropClick","closeOnEscape","footer","useEffect","handleEscape","e","key","document","addEventListener","removeEventListener","body","style","overflow","handleBackdropClick","target","currentTarget","modalContent","div","className","onClick","stopPropagation","h2","button","aria-label","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","createPortal","tabs","activeTab","onTabChange","modalProps","activeTabContent","find","tab","id","content","map","icon","span","label","onConfirm","message","confirmText","cancelText","variant","isLoading","handleConfirm","disabled","p"],"mappings":"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"}