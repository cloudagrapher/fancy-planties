{"version":3,"sources":["/Users/stefanbekker/projects/fancy-planties/src/lib/auth/session.ts"],"sourcesContent":["// Re-export client-safe utilities\nexport * from './client';\n\n// In-memory session activity storage (for demonstration)\n// In production, this would be in a database\nconst sessionActivities: SessionActivity[] = [];\n\nexport function logSessionActivity(activity: Omit<SessionActivity, 'timestamp'>) {\n  sessionActivities.push({\n    ...activity,\n    timestamp: new Date(),\n  });\n  \n  // Keep only last 100 activities per session (in memory)\n  const sessionActivitiesForSession = sessionActivities.filter(\n    a => a.sessionId === activity.sessionId\n  );\n  \n  if (sessionActivitiesForSession.length > 100) {\n    const toRemove = sessionActivitiesForSession.slice(0, -100);\n    toRemove.forEach(activity => {\n      const index = sessionActivities.indexOf(activity);\n      if (index > -1) {\n        sessionActivities.splice(index, 1);\n      }\n    });\n  }\n}\n\nexport function getSessionActivities(sessionId: string): SessionActivity[] {\n  return sessionActivities.filter(a => a.sessionId === sessionId);\n}\n\n// Import SessionActivity type from client\nimport type { SessionActivity } from './client';"],"names":["getSessionActivities","logSessionActivity","sessionActivities","activity","push","timestamp","Date","sessionActivitiesForSession","filter","a","sessionId","length","toRemove","slice","forEach","index","indexOf","splice"],"mappings":"AAAA,kCAAkC;;;;;;;;;;;;QA6BlBA;eAAAA;;QAtBAC;eAAAA;;;qBANF;;;;;;;;;;;;;;AAEd,yDAAyD;AACzD,6CAA6C;AAC7C,MAAMC,oBAAuC,EAAE;AAExC,SAASD,mBAAmBE,QAA4C;IAC7ED,kBAAkBE,IAAI,CAAC;QACrB,GAAGD,QAAQ;QACXE,WAAW,IAAIC;IACjB;IAEA,wDAAwD;IACxD,MAAMC,8BAA8BL,kBAAkBM,MAAM,CAC1DC,CAAAA,IAAKA,EAAEC,SAAS,KAAKP,SAASO,SAAS;IAGzC,IAAIH,4BAA4BI,MAAM,GAAG,KAAK;QAC5C,MAAMC,WAAWL,4BAA4BM,KAAK,CAAC,GAAG,CAAC;QACvDD,SAASE,OAAO,CAACX,CAAAA;YACf,MAAMY,QAAQb,kBAAkBc,OAAO,CAACb;YACxC,IAAIY,QAAQ,CAAC,GAAG;gBACdb,kBAAkBe,MAAM,CAACF,OAAO;YAClC;QACF;IACF;AACF;AAEO,SAASf,qBAAqBU,SAAiB;IACpD,OAAOR,kBAAkBM,MAAM,CAACC,CAAAA,IAAKA,EAAEC,SAAS,KAAKA;AACvD"}