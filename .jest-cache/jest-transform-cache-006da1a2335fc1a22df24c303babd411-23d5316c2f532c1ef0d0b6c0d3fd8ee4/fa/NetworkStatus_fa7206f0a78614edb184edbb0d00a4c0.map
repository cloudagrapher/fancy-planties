{"version":3,"names":["cov_mlbidyje3","actualCoverage","s","NetworkStatus","f","OfflineBanner","isOnline","isSyncing","pendingEntries","lastSyncTime","syncPendingEntries","_useOffline","useOffline","showStatus","setShowStatus","_react","useState","justWentOnline","setJustWentOnline","useEffect","b","length","timer","setTimeout","clearTimeout","getStatusColor","getStatusText","getStatusIcon","_jsxruntime","jsx","_lucidereact","WifiOff","className","RefreshCw","AlertCircle","Wifi","jsxs","onClick","title","Date","toLocaleTimeString","hasCachedData","offlineData","lastSync","toLocaleString","plants"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/components/shared/NetworkStatus.tsx"],"sourcesContent":["'use client';\n\nimport { useOffline } from '@/hooks/useOffline';\nimport { Wifi, WifiOff, RefreshCw, AlertCircle } from 'lucide-react';\nimport { useEffect, useState } from 'react';\n\n/**\n * Network Status Indicator Component\n * Shows online/offline status and sync information\n */\nexport function NetworkStatus() {\n  const { \n    isOnline, \n    isSyncing, \n    pendingEntries, \n    lastSyncTime,\n    syncPendingEntries \n  } = useOffline();\n  \n  const [showStatus, setShowStatus] = useState(false);\n  const [justWentOnline, setJustWentOnline] = useState(false);\n\n  // Show status indicator only when offline, syncing, or when there are pending entries\n  // Hide when online and everything is synced to be less intrusive\n  useEffect(() => {\n    setShowStatus(!isOnline || pendingEntries.length > 0 || isSyncing);\n  }, [isOnline, pendingEntries.length, isSyncing]);\n\n  // Handle coming back online\n  useEffect(() => {\n    if (isOnline && !justWentOnline) {\n      setJustWentOnline(true);\n      const timer = setTimeout(() => setJustWentOnline(false), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [isOnline, justWentOnline]);\n\n  if (!showStatus && !justWentOnline) {\n    return null;\n  }\n\n  const getStatusColor = () => {\n    if (!isOnline) return 'bg-red-500';\n    if (isSyncing) return 'bg-yellow-500';\n    if (pendingEntries.length > 0) return 'bg-orange-500';\n    return 'bg-green-500';\n  };\n\n  const getStatusText = () => {\n    if (!isOnline) return 'Offline';\n    if (isSyncing) return 'Syncing...';\n    if (pendingEntries.length > 0) return `${pendingEntries.length} pending`;\n    return 'Online';\n  };\n\n  const getStatusIcon = () => {\n    if (!isOnline) return <WifiOff className=\"w-3 h-3\" />;\n    if (isSyncing) return <RefreshCw className=\"w-3 h-3 animate-spin\" />;\n    if (pendingEntries.length > 0) return <AlertCircle className=\"w-3 h-3\" />;\n    return <Wifi className=\"w-3 h-3\" />;\n  };\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50\">\n      <div \n        className={`\n          flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-white text-xs font-medium\n          ${getStatusColor()} shadow-md backdrop-blur-sm\n          transition-all duration-300 ease-in-out\n          ${showStatus || justWentOnline ? 'opacity-90 translate-y-0' : 'opacity-0 -translate-y-2'}\n        `}\n      >\n        {getStatusIcon()}\n        <span>{getStatusText()}</span>\n        \n        {/* Manual sync button when there are pending entries */}\n        {isOnline && pendingEntries.length > 0 && !isSyncing && (\n          <button\n            onClick={syncPendingEntries}\n            className=\"ml-1 p-1 hover:bg-white/20 rounded-full transition-colors\"\n            title=\"Sync now\"\n          >\n            <RefreshCw className=\"w-3 h-3\" />\n          </button>\n        )}\n      </div>\n      \n      {/* Last sync time */}\n      {lastSyncTime && (isOnline || justWentOnline) && (\n        <div className=\"mt-1 text-xs text-gray-600 text-right\">\n          Last sync: {new Date(lastSyncTime).toLocaleTimeString()}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Offline Banner Component\n * Shows a prominent banner when offline with cached data info\n */\nexport function OfflineBanner() {\n  const { isOnline, hasCachedData, offlineData } = useOffline();\n\n  if (isOnline) return null;\n\n  return (\n    <div className=\"bg-yellow-50 border-b border-yellow-200 px-4 py-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <WifiOff className=\"w-5 h-5 text-yellow-600\" />\n          <div>\n            <p className=\"text-sm font-medium text-yellow-800\">\n              You're currently offline\n            </p>\n            {hasCachedData ? (\n              <p className=\"text-xs text-yellow-700\">\n                Viewing cached data from {offlineData?.lastSync ? \n                  new Date(offlineData.lastSync).toLocaleString() : 'earlier'}\n              </p>\n            ) : (\n              <p className=\"text-xs text-yellow-700\">\n                No cached data available. Connect to internet to load your plants.\n              </p>\n            )}\n          </div>\n        </div>\n        \n        {hasCachedData && (\n          <div className=\"text-xs text-yellow-700\">\n            {offlineData?.plants?.length || 0} plants cached\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}