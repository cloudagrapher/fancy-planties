{"version":3,"names":["cov_3tqkxecs8","actualCoverage","s","CareHistoryTimeline","careHistory","plantInstance","limit","b","showPlantName","f","displayHistory","slice","length","_jsxruntime","jsxs","className","jsx","map","care","careTypeDisplay","_caretypes","careHelpers","getCareTypeDisplay","careType","color","includes","icon","label","nickname","plant","commonName","formattedDate","description","fertilizerType","potSize","soilType","notes","images","image","imgIndex","src","alt","daysSinceCare","id"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/components/care/CareHistoryTimeline.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport type { EnhancedCareHistory } from '@/lib/types/care-types';\nimport type { EnhancedPlantInstance } from '@/lib/types/plant-instance-types';\nimport { careHelpers } from '@/lib/types/care-types';\n\ninterface CareHistoryTimelineProps {\n  careHistory: EnhancedCareHistory[];\n  plantInstance: EnhancedPlantInstance;\n  limit?: number;\n  showPlantName?: boolean;\n}\n\nexport default function CareHistoryTimeline({ \n  careHistory,\n  plantInstance,\n  limit = 10, \n  showPlantName = false \n}: CareHistoryTimelineProps) {\n  // Display limited history if limit is specified\n  const displayHistory = limit ? careHistory.slice(0, limit) : careHistory;\n\n  if (displayHistory.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <div className=\"text-4xl mb-4\">üìù</div>\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Care History</h3>\n        <p className=\"text-gray-600 text-sm\">\n          Start logging care activities to see your plant&apos;s care timeline.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-4\">\n      <h3 className=\"text-lg font-semibold text-gray-900\">Care History</h3>\n      \n      <div className=\"relative\">\n        {/* Timeline line */}\n        <div className=\"absolute left-5 top-0 bottom-0 w-0.5 bg-gray-200\"></div>\n        \n        <div className=\"space-y-6\">\n          {displayHistory.map((care) => {\n            const careTypeDisplay = careHelpers.getCareTypeDisplay(care.careType as 'fertilizer' | 'water' | 'repot' | 'prune' | 'inspect' | 'other');\n\n            \n            return (\n              <div key={care.id} className=\"relative flex items-start space-x-4\">\n                {/* Timeline dot */}\n                <div className={`\n                  relative z-10 flex items-center justify-center w-10 h-10 rounded-full border-2 bg-white\n                  ${careTypeDisplay.color.includes('green') ? 'border-green-500' :\n                    careTypeDisplay.color.includes('blue') ? 'border-blue-500' :\n                    careTypeDisplay.color.includes('amber') ? 'border-amber-500' :\n                    careTypeDisplay.color.includes('purple') ? 'border-purple-500' :\n                    careTypeDisplay.color.includes('indigo') ? 'border-indigo-500' :\n                    'border-gray-500'\n                  }\n                `}>\n                  <span className=\"text-lg\">{careTypeDisplay.icon}</span>\n                </div>\n\n                {/* Care event content */}\n                <div className=\"flex-1 min-w-0 pb-6\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <h4 className=\"text-sm font-medium text-gray-900\">\n                      {careTypeDisplay.label}\n                      {showPlantName && care.plantInstance && (\n                        <span className=\"text-gray-500 ml-2\">\n                          ‚Ä¢ {care.plantInstance.nickname || care.plantInstance.plant?.commonName}\n                        </span>\n                      )}\n                    </h4>\n                    <time className=\"text-xs text-gray-500\">\n                      {care.formattedDate}\n                    </time>\n                  </div>\n\n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    {careTypeDisplay.description}\n                  </p>\n\n                  {/* Care details */}\n                  <div className=\"space-y-1\">\n                    {care.fertilizerType && (\n                      <p className=\"text-xs text-gray-500\">\n                        <span className=\"font-medium\">Fertilizer:</span> {care.fertilizerType}\n                      </p>\n                    )}\n                    {care.potSize && (\n                      <p className=\"text-xs text-gray-500\">\n                        <span className=\"font-medium\">Pot Size:</span> {care.potSize}\n                      </p>\n                    )}\n                    {care.soilType && (\n                      <p className=\"text-xs text-gray-500\">\n                        <span className=\"font-medium\">Soil Type:</span> {care.soilType}\n                      </p>\n                    )}\n                    {care.notes && (\n                      <p className=\"text-xs text-gray-700 bg-gray-50 rounded p-2 mt-2\">\n                        {care.notes}\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Images */}\n                  {care.images && care.images.length > 0 && (\n                    <div className=\"flex space-x-2 mt-3\">\n                      {care.images.slice(0, 3).map((image, imgIndex) => (\n                        <img\n                          key={imgIndex}\n                          src={image}\n                          alt={`Care photo ${imgIndex + 1}`}\n                          className=\"w-12 h-12 rounded-lg object-cover border border-gray-200\"\n                        />\n                      ))}\n                      {care.images.length > 3 && (\n                        <div className=\"w-12 h-12 rounded-lg bg-gray-100 border border-gray-200 flex items-center justify-center\">\n                          <span className=\"text-xs text-gray-500\">+{care.images.length - 3}</span>\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Care timing indicator */}\n                  <div className=\"flex items-center space-x-2 mt-2\">\n                    <div className={`\n                      w-2 h-2 rounded-full\n                      ${care.daysSinceCare <= 1 ? 'bg-green-400' :\n                        care.daysSinceCare <= 7 ? 'bg-yellow-400' :\n                        'bg-gray-400'\n                      }\n                    `}></div>\n                    <span className=\"text-xs text-gray-500\">\n                      {care.daysSinceCare === 0 ? 'Today' :\n                       care.daysSinceCare === 1 ? 'Yesterday' :\n                       `${care.daysSinceCare} days ago`}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {careHistory.length > limit && (\n        <div className=\"text-center pt-4 border-t border-gray-200\">\n          <p className=\"text-sm text-gray-500\">\n            Showing {displayHistory.length} of {careHistory.length} care events\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}