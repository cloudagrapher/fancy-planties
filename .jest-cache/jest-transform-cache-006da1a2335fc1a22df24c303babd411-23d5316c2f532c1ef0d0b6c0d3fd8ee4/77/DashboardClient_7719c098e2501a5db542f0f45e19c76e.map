{"version":3,"names":["DashboardClient","user","cov_1lxul4qwqs","f","data","stats","isLoading","s","_reactquery","useQuery","queryKey","queryFn","response","fetch","ok","b","Error","json","staleTime","displayStats","totalPlants","activePlants","careDueToday","totalPropagations","activePropagations","successfulPropagations","propagationSuccessRate","fertilizerEvents","_jsxruntime","jsx","className","jsxs","style","marginBottom","name","_link","default","href","_LogoutButton","fontSize","length","_FertilizerCalendar","events","marginRight"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/app/dashboard/DashboardClient.tsx"],"sourcesContent":["'use client';\n\nimport { useQuery } from '@tanstack/react-query';\nimport Link from 'next/link';\nimport FertilizerCalendar from '@/components/calendar/FertilizerCalendar';\nimport LogoutButton from '@/components/auth/LogoutButton';\nimport type { DashboardStats, FertilizerEvent } from '@/app/api/dashboard/route';\n\ninterface DashboardClientProps {\n  user: {\n    id: number;\n    name: string;\n    email: string;\n    createdAt: string;\n  };\n}\n\nexport default function DashboardClient({ user }: DashboardClientProps) {\n  // Fetch dashboard stats\n  const { data: stats, isLoading } = useQuery({\n    queryKey: ['dashboard-stats'],\n    queryFn: async () => {\n      const response = await fetch('/api/dashboard');\n      if (!response.ok) throw new Error('Failed to fetch dashboard stats');\n      return response.json() as Promise<DashboardStats>;\n    },\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n\n  const displayStats = stats || {\n    totalPlants: 0,\n    activePlants: 0,\n    careDueToday: 0,\n    totalPropagations: 0,\n    activePropagations: 0,\n    successfulPropagations: 0,\n    propagationSuccessRate: 0,\n    fertilizerEvents: []\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"container\">\n        <div className=\"page-content\">\n          {/* Header */}\n          <div className=\"flex-between\" style={{ marginBottom: '24px' }}>\n            <div>\n              <h1 className=\"text-2xl font-bold text-neutral-900\" style={{ marginBottom: '4px' }}>\n                Hey {user.name}! âœ¨\n              </h1>\n              <p className=\"text-neutral-600 text-sm\">\n                Your plants are looking great today\n              </p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Link \n                href=\"/dashboard/profile\"\n                className=\"btn btn--ghost btn--sm text-neutral-600 flex items-center gap-2\"\n              >\n                <span>ðŸ‘¤</span>\n                Profile\n              </Link>\n              <LogoutButton \n                className=\"btn btn--ghost btn--sm text-neutral-600\"\n              >\n                Sign Out\n              </LogoutButton>\n            </div>\n          </div>\n\n          {/* Main Dashboard */}\n          <div className=\"card card--dreamy\">\n            <div className=\"card-body\">\n\n              {/* Stats Grid */}\n              <div className=\"stats-grid\">\n                <div className=\"stat-card card--mint\">\n                  <div style={{ fontSize: '2rem', marginBottom: '8px' }}>ðŸŒ±</div>\n                  <h3 className=\"text-lg font-semibold text-mint-900\">Plants</h3>\n                  <p className=\"text-mint-700 text-sm\" style={{ marginBottom: '12px' }}>Manage your plant collection</p>\n                  <div className=\"stat-value text-mint-600\">\n                    {isLoading ? '--' : displayStats.activePlants}\n                  </div>\n                  <div className=\"stat-label text-mint-600\">\n                    {displayStats.activePlants === 1 ? 'active plant' : 'active plants'}\n                  </div>\n                </div>\n\n                <div className=\"stat-card card--salmon\">\n                  <div style={{ fontSize: '2rem', marginBottom: '8px' }}>ðŸ’§</div>\n                  <h3 className=\"text-lg font-semibold text-salmon-900\">Care Tasks</h3>\n                  <p className=\"text-salmon-700 text-sm\" style={{ marginBottom: '12px' }}>Track care schedules</p>\n                  <div className=\"stat-value text-salmon-600\">\n                    {isLoading ? '--' : displayStats.careDueToday}\n                  </div>\n                  <div className=\"stat-label text-salmon-600\">due today</div>\n                </div>\n\n                <div className=\"stat-card card--lavender\">\n                  <div style={{ fontSize: '2rem', marginBottom: '8px' }}>ðŸŒ¿</div>\n                  <h3 className=\"text-lg font-semibold text-lavender-900\">Propagations</h3>\n                  <p className=\"text-lavender-700 text-sm\" style={{ marginBottom: '12px' }}>Monitor propagation progress</p>\n                  <div className=\"stat-value text-lavender-600\">\n                    {isLoading ? '--' : displayStats.activePropagations}\n                  </div>\n                  <div className=\"stat-label text-lavender-600\">active</div>\n                </div>\n\n                <div className=\"stat-card card--neutral\">\n                  <div style={{ fontSize: '2rem', marginBottom: '8px' }}>ðŸ“Š</div>\n                  <h3 className=\"text-lg font-semibold text-neutral-900\">Success Rate</h3>\n                  <p className=\"text-neutral-700 text-sm\" style={{ marginBottom: '12px' }}>Propagation success</p>\n                  <div className=\"stat-value text-neutral-600\">\n                    {isLoading ? '--' : displayStats.propagationSuccessRate}\n                  </div>\n                  <div className=\"stat-label text-neutral-600\">%</div>\n                </div>\n              </div>\n\n              {/* Calendar or Getting Started Card */}\n              <div className=\"section--sm\">\n                {displayStats.fertilizerEvents.length > 0 ? (\n                  <FertilizerCalendar events={displayStats.fertilizerEvents} />\n                ) : (\n                  <div className=\"card card--flat\">\n                    <div className=\"card-header\">\n                      <div className=\"flex-center\" style={{ marginBottom: '8px' }}>\n                        <span style={{ fontSize: '1.5rem', marginRight: '8px' }}>ðŸŒŸ</span>\n                        <h2 className=\"text-xl font-semibold text-neutral-900\">Getting Started</h2>\n                      </div>\n                      <p className=\"text-neutral-600 text-sm text-center\">Let&apos;s help you create your dream plant collection</p>\n                    </div>\n                    <div className=\"card-body\">\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center text-neutral-700 step-mint\">\n                          <div className=\"step-number-mint\">\n                            <span className=\"text-mint-800 text-sm font-semibold\">1</span>\n                          </div>\n                          <div>\n                            <div className=\"font-medium text-neutral-900\">Add your first plant</div>\n                            <div className=\"text-sm text-neutral-600\">Start tracking your collection</div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center text-neutral-700 step-salmon\">\n                          <div className=\"step-number-salmon\">\n                            <span className=\"text-salmon-800 text-sm font-semibold\">2</span>\n                          </div>\n                          <div>\n                            <div className=\"font-medium text-neutral-900\">Set up care schedules</div>\n                            <div className=\"text-sm text-neutral-600\">Never forget watering or fertilizing</div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center text-neutral-700 step-lavender\">\n                          <div className=\"step-number-lavender\">\n                            <span className=\"text-lavender-800 text-sm font-semibold\">3</span>\n                          </div>\n                          <div>\n                            <div className=\"font-medium text-neutral-900\">Track propagations</div>\n                            <div className=\"text-sm text-neutral-600\">Monitor your propagation success</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}