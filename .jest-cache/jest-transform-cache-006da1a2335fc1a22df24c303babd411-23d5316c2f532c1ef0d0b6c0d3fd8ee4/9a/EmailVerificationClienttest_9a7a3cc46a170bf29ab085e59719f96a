dd388e2056659c5154bd632d6a379285
"use strict";
// Mock next/navigation
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _navigation = require("next/navigation");
const _EmailVerificationClient = /*#__PURE__*/ _interop_require_default(require("../EmailVerificationClient"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock fetch
global.fetch = jest.fn();
describe('EmailVerificationClient', ()=>{
    const mockPush = jest.fn();
    const mockRefresh = jest.fn();
    const mockFetch = global.fetch;
    beforeEach(()=>{
        _navigation.useRouter.mockReturnValue({
            push: mockPush,
            refresh: mockRefresh
        });
        mockFetch.mockClear();
        mockPush.mockClear();
        mockRefresh.mockClear();
        jest.clearAllTimers();
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.runOnlyPendingTimers();
        jest.useRealTimers();
    });
    it('renders the verification form correctly', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        expect(_react.screen.getByText('Enter verification code')).toBeInTheDocument();
        expect(_react.screen.getByText(/We've sent a 6-digit code to your email/)).toBeInTheDocument();
        expect(_react.screen.getByRole('button', {
            name: /verify email/i
        })).toBeInTheDocument();
        expect(_react.screen.getByText("Didn't receive the code? Resend it")).toBeInTheDocument();
    });
    it('auto-submits when 6-digit code is entered', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        // Enter 6 digits
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '1');
            await user.type(inputs[1], '2');
            await user.type(inputs[2], '3');
            await user.type(inputs[3], '4');
            await user.type(inputs[4], '5');
            await user.type(inputs[5], '6');
        });
        // Wait for auto-submit
        await (0, _react.waitFor)(()=>{
            expect(mockFetch).toHaveBeenCalledWith('/api/auth/verify-email', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email: 'test@example.com',
                    code: '123456'
                })
            });
        });
    });
    it('shows success state and redirects after successful verification', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        // Enter complete code
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        // Wait for success state
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Email verified successfully! ðŸŽ‰')).toBeInTheDocument();
            expect(_react.screen.getByText(/Welcome to Fancy Planties/)).toBeInTheDocument();
        });
        // Fast-forward timer for redirect
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1500);
        });
        expect(mockPush).toHaveBeenCalledWith('/dashboard');
        expect(mockRefresh).toHaveBeenCalled();
    });
    it('handles different error types correctly', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        const errorCases = [
            {
                error: 'CODE_EXPIRED',
                expectedMessage: 'This code has expired. Please request a new one.'
            },
            {
                error: 'CODE_INVALID',
                expectedMessage: 'Invalid code. Please check and try again.'
            },
            {
                error: 'TOO_MANY_ATTEMPTS',
                expectedMessage: 'Too many attempts. Please request a new code.'
            },
            {
                error: 'ALREADY_VERIFIED',
                expectedMessage: 'Your email is already verified.'
            }
        ];
        for (const { error, expectedMessage } of errorCases){
            mockFetch.mockResolvedValueOnce({
                ok: false,
                json: async ()=>({
                        error
                    })
            });
            const { rerender } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
                email: "test@example.com"
            }));
            const inputs = _react.screen.getAllByRole('textbox');
            await (0, _react.act)(async ()=>{
                await user.type(inputs[0], '123456');
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(expectedMessage)).toBeInTheDocument();
            });
            // Clean up for next iteration
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {}));
            mockFetch.mockClear();
        }
    });
    it('handles network errors gracefully', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockRejectedValueOnce(new Error('Network error'));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Network error. Please check your connection and try again.')).toBeInTheDocument();
        });
    });
    it('handles resend functionality correctly', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    cooldownSeconds: 60
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const resendButton = _react.screen.getByText("Didn't receive the code? Resend it");
        await (0, _react.act)(async ()=>{
            await user.click(resendButton);
        });
        expect(mockFetch).toHaveBeenCalledWith('/api/auth/resend-verification', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: 'test@example.com'
            })
        });
        // Should show cooldown
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Resend code in 60s/)).toBeInTheDocument();
        });
    });
    it('shows cooldown timer correctly', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    cooldownSeconds: 3
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const resendButton = _react.screen.getByText("Didn't receive the code? Resend it");
        await (0, _react.act)(async ()=>{
            await user.click(resendButton);
        });
        // Should show initial cooldown
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Resend code in 3s/)).toBeInTheDocument();
        });
        // Advance timer by 1 second
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_react.screen.getByText(/Resend code in 2s/)).toBeInTheDocument();
        // Advance timer by 2 more seconds
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(2000);
        });
        expect(_react.screen.getByText("Didn't receive the code? Resend it")).toBeInTheDocument();
    });
    it('disables inputs and buttons during loading', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        // Mock a slow response
        mockFetch.mockImplementationOnce(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                        ok: true,
                        json: async ()=>({
                                success: true
                            })
                    }), 1000)));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        const submitButton = _react.screen.getByRole('button', {
            name: /verify email/i
        });
        // Enter code to trigger loading
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        // Should show loading state
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Verifying...')).toBeInTheDocument();
        });
        // Inputs should be disabled
        inputs.forEach((input)=>{
            expect(input).toBeDisabled();
        });
        // Submit button should be disabled and show loading
        expect(submitButton).toBeDisabled();
    });
    it('clears error when user starts typing', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: false,
            json: async ()=>({
                    error: 'CODE_INVALID'
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        // Enter invalid code
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        // Should show error
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Invalid code. Please check and try again.')).toBeInTheDocument();
        });
        // Start typing new code
        await (0, _react.act)(async ()=>{
            await user.clear(inputs[0]);
            await user.type(inputs[0], '1');
        });
        // Error should be cleared
        expect(_react.screen.queryByText('Invalid code. Please check and try again.')).not.toBeInTheDocument();
    });
    it('handles manual form submission with incomplete code', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        const submitButton = _react.screen.getByRole('button', {
            name: /verify email/i
        });
        // Enter incomplete code (5 digits)
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '1');
            await user.type(inputs[1], '2');
            await user.type(inputs[2], '3');
            await user.type(inputs[3], '4');
            await user.type(inputs[4], '5');
        });
        // Manually click submit with incomplete code
        await (0, _react.act)(async ()=>{
            await user.click(submitButton);
        });
        // Should show error for incomplete code
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Please enter a 6-digit code')).toBeInTheDocument();
        });
    });
    it('has proper accessibility attributes', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        // Check for proper headings
        expect(_react.screen.getByRole('heading', {
            name: /enter verification code/i
        })).toBeInTheDocument();
        // Check for form
        expect(_react.screen.getByRole('form')).toBeInTheDocument();
        // Check for buttons
        expect(_react.screen.getByRole('button', {
            name: /verify email/i
        })).toBeInTheDocument();
        // Check for proper text content
        expect(_react.screen.getByText(/We've sent a 6-digit code to your email/)).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2FwcC9hdXRoL3ZlcmlmeS1lbWFpbC9fX3Rlc3RzX18vRW1haWxWZXJpZmljYXRpb25DbGllbnQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGZyb20gJy4uL0VtYWlsVmVyaWZpY2F0aW9uQ2xpZW50JztcblxuLy8gTW9jayBuZXh0L25hdmlnYXRpb25cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgZmV0Y2hcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuZGVzY3JpYmUoJ0VtYWlsVmVyaWZpY2F0aW9uQ2xpZW50JywgKCkgPT4ge1xuICBjb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja1JlZnJlc2ggPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tGZXRjaCA9IGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD47XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgKHVzZVJvdXRlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBwdXNoOiBtb2NrUHVzaCxcbiAgICAgIHJlZnJlc2g6IG1vY2tSZWZyZXNoLFxuICAgIH0pO1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrUHVzaC5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrUmVmcmVzaC5tb2NrQ2xlYXIoKTtcbiAgICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICB9KTtcblxuICBpdCgncmVuZGVycyB0aGUgdmVyaWZpY2F0aW9uIGZvcm0gY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFbnRlciB2ZXJpZmljYXRpb24gY29kZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9XZSd2ZSBzZW50IGEgNi1kaWdpdCBjb2RlIHRvIHlvdXIgZW1haWwvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdmVyaWZ5IGVtYWlsL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJEaWRuJ3QgcmVjZWl2ZSB0aGUgY29kZT8gUmVzZW5kIGl0XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnYXV0by1zdWJtaXRzIHdoZW4gNi1kaWdpdCBjb2RlIGlzIGVudGVyZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICBcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIG9rOiB0cnVlLFxuICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIGNvbnN0IGlucHV0cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ3RleHRib3gnKTtcbiAgICBcbiAgICAvLyBFbnRlciA2IGRpZ2l0c1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzBdLCAnMScpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0c1sxXSwgJzInKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMl0sICczJyk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzNdLCAnNCcpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0c1s0XSwgJzUnKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbNV0sICc2Jyk7XG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IGZvciBhdXRvLXN1Ym1pdFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYXV0aC92ZXJpZnktZW1haWwnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgY29kZTogJzEyMzQ1NicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG93cyBzdWNjZXNzIHN0YXRlIGFuZCByZWRpcmVjdHMgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICBcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIG9rOiB0cnVlLFxuICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIGNvbnN0IGlucHV0cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ3RleHRib3gnKTtcbiAgICBcbiAgICAvLyBFbnRlciBjb21wbGV0ZSBjb2RlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICB9KTtcblxuICAgIC8vIFdhaXQgZm9yIHN1Y2Nlc3Mgc3RhdGVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFbWFpbCB2ZXJpZmllZCBzdWNjZXNzZnVsbHkhIPCfjoknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9XZWxjb21lIHRvIEZhbmN5IFBsYW50aWVzLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBGYXN0LWZvcndhcmQgdGltZXIgZm9yIHJlZGlyZWN0XG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9kYXNoYm9hcmQnKTtcbiAgICBleHBlY3QobW9ja1JlZnJlc2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZGlmZmVyZW50IGVycm9yIHR5cGVzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIGNvbnN0IGVycm9yQ2FzZXMgPSBbXG4gICAgICB7IGVycm9yOiAnQ09ERV9FWFBJUkVEJywgZXhwZWN0ZWRNZXNzYWdlOiAnVGhpcyBjb2RlIGhhcyBleHBpcmVkLiBQbGVhc2UgcmVxdWVzdCBhIG5ldyBvbmUuJyB9LFxuICAgICAgeyBlcnJvcjogJ0NPREVfSU5WQUxJRCcsIGV4cGVjdGVkTWVzc2FnZTogJ0ludmFsaWQgY29kZS4gUGxlYXNlIGNoZWNrIGFuZCB0cnkgYWdhaW4uJyB9LFxuICAgICAgeyBlcnJvcjogJ1RPT19NQU5ZX0FUVEVNUFRTJywgZXhwZWN0ZWRNZXNzYWdlOiAnVG9vIG1hbnkgYXR0ZW1wdHMuIFBsZWFzZSByZXF1ZXN0IGEgbmV3IGNvZGUuJyB9LFxuICAgICAgeyBlcnJvcjogJ0FMUkVBRFlfVkVSSUZJRUQnLCBleHBlY3RlZE1lc3NhZ2U6ICdZb3VyIGVtYWlsIGlzIGFscmVhZHkgdmVyaWZpZWQuJyB9LFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHsgZXJyb3IsIGV4cGVjdGVkTWVzc2FnZSB9IG9mIGVycm9yQ2FzZXMpIHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogZmFsc2UsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IGVycm9yIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBpbnB1dHMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCd0ZXh0Ym94Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoZXhwZWN0ZWRNZXNzYWdlKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhbiB1cCBmb3IgbmV4dCBpdGVyYXRpb25cbiAgICAgIHJlcmVuZGVyKDxkaXYgLz4pO1xuICAgICAgbW9ja0ZldGNoLm1vY2tDbGVhcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbmV0d29yayBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzBdLCAnMTIzNDU2Jyk7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdOZXR3b3JrIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIHJlc2VuZCBmdW5jdGlvbmFsaXR5IGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBjb29sZG93blNlY29uZHM6IDYwIH0pLFxuICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgcmVzZW5kQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dChcIkRpZG4ndCByZWNlaXZlIHRoZSBjb2RlPyBSZXNlbmQgaXRcIik7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2socmVzZW5kQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2F1dGgvcmVzZW5kLXZlcmlmaWNhdGlvbicsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIHNob3cgY29vbGRvd25cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXNlbmQgY29kZSBpbiA2MHMvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIGNvb2xkb3duIHRpbWVyIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBjb29sZG93blNlY29uZHM6IDMgfSksXG4gICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICByZW5kZXIoPEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGVtYWlsPVwidGVzdEBleGFtcGxlLmNvbVwiIC8+KTtcbiAgICBcbiAgICBjb25zdCByZXNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KFwiRGlkbid0IHJlY2VpdmUgdGhlIGNvZGU/IFJlc2VuZCBpdFwiKTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdXNlci5jbGljayhyZXNlbmRCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIHNob3cgaW5pdGlhbCBjb29sZG93blxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1Jlc2VuZCBjb2RlIGluIDNzLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBBZHZhbmNlIHRpbWVyIGJ5IDEgc2Vjb25kXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXNlbmQgY29kZSBpbiAycy8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gQWR2YW5jZSB0aW1lciBieSAyIG1vcmUgc2Vjb25kc1xuICAgIGFjdCgoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkRpZG4ndCByZWNlaXZlIHRoZSBjb2RlPyBSZXNlbmQgaXRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNhYmxlcyBpbnB1dHMgYW5kIGJ1dHRvbnMgZHVyaW5nIGxvYWRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICBcbiAgICAvLyBNb2NrIGEgc2xvdyByZXNwb25zZVxuICAgIG1vY2tGZXRjaC5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+IFxuICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpLCAxMDAwKSlcbiAgICApO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZlcmlmeSBlbWFpbC9pIH0pO1xuICAgIFxuICAgIC8vIEVudGVyIGNvZGUgdG8gdHJpZ2dlciBsb2FkaW5nXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICB9KTtcblxuICAgIC8vIFNob3VsZCBzaG93IGxvYWRpbmcgc3RhdGVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWZXJpZnlpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIElucHV0cyBzaG91bGQgYmUgZGlzYWJsZWRcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU3VibWl0IGJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQgYW5kIHNob3cgbG9hZGluZ1xuICAgIGV4cGVjdChzdWJtaXRCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICB9KTtcblxuICBpdCgnY2xlYXJzIGVycm9yIHdoZW4gdXNlciBzdGFydHMgdHlwaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBlcnJvcjogJ0NPREVfSU5WQUxJRCcgfSksXG4gICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICByZW5kZXIoPEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGVtYWlsPVwidGVzdEBleGFtcGxlLmNvbVwiIC8+KTtcbiAgICBcbiAgICBjb25zdCBpbnB1dHMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCd0ZXh0Ym94Jyk7XG4gICAgXG4gICAgLy8gRW50ZXIgaW52YWxpZCBjb2RlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICB9KTtcblxuICAgIC8vIFNob3VsZCBzaG93IGVycm9yXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSW52YWxpZCBjb2RlLiBQbGVhc2UgY2hlY2sgYW5kIHRyeSBhZ2Fpbi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFN0YXJ0IHR5cGluZyBuZXcgY29kZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB1c2VyLmNsZWFyKGlucHV0c1swXSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzBdLCAnMScpO1xuICAgIH0pO1xuXG4gICAgLy8gRXJyb3Igc2hvdWxkIGJlIGNsZWFyZWRcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdJbnZhbGlkIGNvZGUuIFBsZWFzZSBjaGVjayBhbmQgdHJ5IGFnYWluLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbWFudWFsIGZvcm0gc3VibWlzc2lvbiB3aXRoIGluY29tcGxldGUgY29kZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZlcmlmeSBlbWFpbC9pIH0pO1xuICAgIFxuICAgIC8vIEVudGVyIGluY29tcGxldGUgY29kZSAoNSBkaWdpdHMpXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxJyk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzFdLCAnMicpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0c1syXSwgJzMnKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbM10sICc0Jyk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzRdLCAnNScpO1xuICAgIH0pO1xuXG4gICAgLy8gTWFudWFsbHkgY2xpY2sgc3VibWl0IHdpdGggaW5jb21wbGV0ZSBjb2RlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcbiAgICB9KTtcblxuICAgIC8vIFNob3VsZCBzaG93IGVycm9yIGZvciBpbmNvbXBsZXRlIGNvZGVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQbGVhc2UgZW50ZXIgYSA2LWRpZ2l0IGNvZGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2hhcyBwcm9wZXIgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzJywgKCkgPT4ge1xuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBwcm9wZXIgaGVhZGluZ3NcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnaGVhZGluZycsIHsgbmFtZTogL2VudGVyIHZlcmlmaWNhdGlvbiBjb2RlL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIGZvcm1cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnZm9ybScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBidXR0b25zXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZlcmlmeSBlbWFpbC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBwcm9wZXIgdGV4dCBjb250ZW50XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1dlJ3ZlIHNlbnQgYSA2LWRpZ2l0IGNvZGUgdG8geW91ciBlbWFpbC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVJvdXRlciIsImZuIiwiZ2xvYmFsIiwiZmV0Y2giLCJkZXNjcmliZSIsIm1vY2tQdXNoIiwibW9ja1JlZnJlc2giLCJtb2NrRmV0Y2giLCJiZWZvcmVFYWNoIiwibW9ja1JldHVyblZhbHVlIiwicHVzaCIsInJlZnJlc2giLCJtb2NrQ2xlYXIiLCJjbGVhckFsbFRpbWVycyIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJydW5Pbmx5UGVuZGluZ1RpbWVycyIsInVzZVJlYWxUaW1lcnMiLCJpdCIsInJlbmRlciIsIkVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IiwiZW1haWwiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5Um9sZSIsIm5hbWUiLCJ1c2VyIiwidXNlckV2ZW50Iiwic2V0dXAiLCJhZHZhbmNlVGltZXJzIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJpbnB1dHMiLCJnZXRBbGxCeVJvbGUiLCJhY3QiLCJ0eXBlIiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY29kZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJlcnJvckNhc2VzIiwiZXJyb3IiLCJleHBlY3RlZE1lc3NhZ2UiLCJyZXJlbmRlciIsImRpdiIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwiY29vbGRvd25TZWNvbmRzIiwicmVzZW5kQnV0dG9uIiwiY2xpY2siLCJtb2NrSW1wbGVtZW50YXRpb25PbmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwic3VibWl0QnV0dG9uIiwiZm9yRWFjaCIsImlucHV0IiwidG9CZURpc2FibGVkIiwiY2xlYXIiLCJxdWVyeUJ5VGV4dCIsIm5vdCJdLCJtYXBwaW5ncyI6IjtBQUtBLHVCQUF1QjtBQUN2QkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVdGLEtBQUtHLEVBQUU7SUFDcEIsQ0FBQTs7Ozs7dUJBUndEO2tFQUNsQzs0QkFDSTtnRkFDVTs7Ozs7O0FBT3BDLGFBQWE7QUFDYkMsT0FBT0MsS0FBSyxHQUFHTCxLQUFLRyxFQUFFO0FBRXRCRyxTQUFTLDJCQUEyQjtJQUNsQyxNQUFNQyxXQUFXUCxLQUFLRyxFQUFFO0lBQ3hCLE1BQU1LLGNBQWNSLEtBQUtHLEVBQUU7SUFDM0IsTUFBTU0sWUFBWUwsT0FBT0MsS0FBSztJQUU5QkssV0FBVztRQUNSUixxQkFBUyxDQUFlUyxlQUFlLENBQUM7WUFDdkNDLE1BQU1MO1lBQ05NLFNBQVNMO1FBQ1g7UUFDQUMsVUFBVUssU0FBUztRQUNuQlAsU0FBU08sU0FBUztRQUNsQk4sWUFBWU0sU0FBUztRQUNyQmQsS0FBS2UsY0FBYztRQUNuQmYsS0FBS2dCLGFBQWE7SUFDcEI7SUFFQUMsVUFBVTtRQUNSakIsS0FBS2tCLG9CQUFvQjtRQUN6QmxCLEtBQUttQixhQUFhO0lBQ3BCO0lBRUFDLEdBQUcsMkNBQTJDO1FBQzVDQyxJQUFBQSxhQUFN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