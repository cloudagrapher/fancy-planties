ce8a3b8779d1a3d6de326892bdc9ff29
// Care Tracking API Endpoint Tests
// Tests POST /api/care, GET /api/care/history, GET /api/dashboard endpoints
"use strict";
// Mock the auth functions
jest.mock('@/lib/auth/server', ()=>({
        requireAuthSession: jest.fn(),
        validateRequest: jest.fn()
    }));
// Mock the care service
jest.mock('@/lib/services/care-service', ()=>({
        CareService: {
            logCareEvent: jest.fn(),
            quickCareLog: jest.fn(),
            getCareDashboard: jest.fn()
        }
    }));
// Mock care history queries
jest.mock('@/lib/db/queries/care-history', ()=>({
        CareHistoryQueries: {
            getCareHistoryForPlant: jest.fn()
        }
    }));
// Mock database and schema
jest.mock('@/lib/db', ()=>({
        db: {
            select: jest.fn().mockReturnThis(),
            from: jest.fn().mockReturnThis(),
            where: jest.fn().mockReturnThis()
        }
    }));
jest.mock('@/lib/db/schema', ()=>({
        plantInstances: {
            id: 'id',
            userId: 'userId',
            isActive: 'isActive',
            fertilizerDue: 'fertilizerDue',
            nickname: 'nickname'
        },
        propagations: {
            userId: 'userId',
            status: 'status'
        }
    }));
// Mock care validation
jest.mock('@/lib/validation/care-schemas', ()=>({
        careValidation: {
            validateCareForm: jest.fn(),
            validateQuickCareLog: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../app/api/care/log/route");
const _route1 = require("../../app/api/care/quick-log/route");
const _route2 = require("../../app/api/care/history/[plantInstanceId]/route");
const _route3 = require("../../app/api/care/dashboard/route");
const _route4 = require("../../app/api/dashboard/route");
const _userfactory = require("../../test-utils/factories/user-factory.js");
const _plantfactory = require("../../test-utils/factories/plant-factory.js");
const _apihelpers = require("../../test-utils/helpers/api-helpers.js");
const _server1 = require("../../lib/auth/server");
const _careservice = require("../../lib/services/care-service");
const _carehistory = require("../../lib/db/queries/care-history");
const _careschemas = require("../../lib/validation/care-schemas");
const _db = require("../../lib/db");
describe('Care Tracking API Endpoints', ()=>{
    let testUser;
    let testSession;
    beforeEach(()=>{
        jest.clearAllMocks();
        (0, _apihelpers.resetApiMocks)();
        testUser = (0, _userfactory.createTestUser)();
        testSession = (0, _userfactory.createTestSession)(testUser);
        // Default auth mocks
        _server1.requireAuthSession.mockResolvedValue({
            user: testUser,
            session: testSession
        });
        _server1.validateRequest.mockResolvedValue({
            user: testUser,
            session: testSession
        });
    });
    afterEach(()=>{
        jest.restoreAllMocks();
    });
    describe('POST /api/care/log - Care record creation', ()=>{
        it('should create care record with valid data', async ()=>{
            // Arrange
            const testPlantInstance = (0, _plantfactory.createTestPlantInstance)({
                userId: testUser.id
            });
            const requestBody = {
                plantInstanceId: testPlantInstance.id,
                careType: 'watering',
                careDate: '2024-01-15T10:00:00.000Z',
                notes: 'Regular watering'
            };
            const validatedData = {
                ...requestBody,
                careDate: new Date(requestBody.careDate)
            };
            const createdCareRecord = (0, _plantfactory.createTestCareRecord)({
                ...validatedData,
                id: 1,
                userId: testUser.id
            });
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: true,
                data: validatedData
            });
            _careservice.CareService.logCareEvent.mockResolvedValue({
                success: true,
                careHistory: createdCareRecord
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(createdCareRecord);
            expect(_server1.requireAuthSession).toHaveBeenCalled();
            expect(_careschemas.careValidation.validateCareForm).toHaveBeenCalledWith(validatedData);
            expect(_careservice.CareService.logCareEvent).toHaveBeenCalledWith(testUser.id, validatedData);
        });
        it('should return validation error for invalid care data', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceId: 'invalid',
                careType: 'invalid_type',
                careDate: 'invalid_date'
            };
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: false,
                error: {
                    issues: [
                        {
                            message: 'Plant instance ID must be a number'
                        },
                        {
                            message: 'Invalid care type'
                        },
                        {
                            message: 'Invalid date format'
                        }
                    ]
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Plant instance ID must be a number'
            });
            expect(_careservice.CareService.logCareEvent).not.toHaveBeenCalled();
        });
        it('should return error when care service fails', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceId: 1,
                careType: 'watering',
                careDate: '2024-01-15T10:00:00.000Z'
            };
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: true,
                data: {
                    ...requestBody,
                    careDate: new Date(requestBody.careDate)
                }
            });
            _careservice.CareService.logCareEvent.mockResolvedValue({
                success: false,
                error: 'Plant instance not found'
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Plant instance not found'
            });
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.requireAuthSession.mockRejectedValue(new Error('Unauthorized'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to log care event'
            });
            expect(_careservice.CareService.logCareEvent).not.toHaveBeenCalled();
        });
        it('should handle malformed JSON request', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: 'invalid json',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to log care event'
            });
            expect(_careservice.CareService.logCareEvent).not.toHaveBeenCalled();
        });
    });
    describe('POST /api/care/quick-log - Quick care logging', ()=>{
        it('should create quick care log with valid data', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceIds: [
                    1,
                    2,
                    3
                ],
                careType: 'watering',
                notes: 'Quick watering session'
            };
            const validatedData = {
                ...requestBody,
                careDate: expect.any(Date)
            };
            const careRecords = [
                (0, _plantfactory.createTestCareRecord)({
                    id: 1,
                    plantInstanceId: 1
                }),
                (0, _plantfactory.createTestCareRecord)({
                    id: 2,
                    plantInstanceId: 2
                }),
                (0, _plantfactory.createTestCareRecord)({
                    id: 3,
                    plantInstanceId: 3
                })
            ];
            _careschemas.careValidation.validateQuickCareLog.mockReturnValue({
                success: true,
                data: validatedData
            });
            _careservice.CareService.quickCareLog.mockResolvedValue({
                success: true,
                careHistory: careRecords
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(careRecords);
            expect(_server1.requireAuthSession).toHaveBeenCalled();
            expect(_careschemas.careValidation.validateQuickCareLog).toHaveBeenCalledWith(validatedData);
            expect(_careservice.CareService.quickCareLog).toHaveBeenCalledWith(testUser.id, validatedData);
        });
        it('should return validation error with detailed issues', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceIds: [],
                careType: 'invalid'
            };
            _careschemas.careValidation.validateQuickCareLog.mockReturnValue({
                success: false,
                error: {
                    issues: [
                        {
                            message: 'At least one plant instance is required'
                        },
                        {
                            message: 'Invalid care type'
                        }
                    ]
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'At least one plant instance is required',
                details: [
                    {
                        message: 'At least one plant instance is required'
                    },
                    {
                        message: 'Invalid care type'
                    }
                ]
            });
            expect(_careservice.CareService.quickCareLog).not.toHaveBeenCalled();
        });
        it('should handle quick care service errors', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceIds: [
                    999
                ],
                careType: 'watering'
            };
            _careschemas.careValidation.validateQuickCareLog.mockReturnValue({
                success: true,
                data: {
                    ...requestBody,
                    careDate: new Date()
                }
            });
            _careservice.CareService.quickCareLog.mockResolvedValue({
                success: false,
                error: 'Some plant instances not found'
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Some plant instances not found'
            });
        });
    });
    describe('GET /api/care/history/[plantInstanceId] - Care history retrieval and filtering', ()=>{
        it('should return care history with default filters', async ()=>{
            // Arrange
            const plantInstanceId = 1;
            const careHistory = [
                (0, _plantfactory.createTestCareRecord)({
                    id: 1,
                    plantInstanceId,
                    careType: 'watering'
                }),
                (0, _plantfactory.createTestCareRecord)({
                    id: 2,
                    plantInstanceId,
                    careType: 'fertilizing'
                })
            ];
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockResolvedValue(careHistory);
            const request = new _server.NextRequest(`http://localhost:3000/api/care/history/${plantInstanceId}`);
            const params = Promise.resolve({
                plantInstanceId: plantInstanceId.toString()
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(careHistory);
            expect(_server1.validateRequest).toHaveBeenCalled();
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).toHaveBeenCalledWith(plantInstanceId, testUser.id, {
                careType: undefined,
                startDate: undefined,
                endDate: undefined,
                limit: 50,
                offset: 0,
                sortBy: 'care_date',
                sortOrder: 'desc'
            });
        });
        it('should return care history with custom filters', async ()=>{
            // Arrange
            const plantInstanceId = 1;
            const careHistory = [
                (0, _plantfactory.createTestCareRecord)({
                    id: 1,
                    plantInstanceId,
                    careType: 'watering'
                })
            ];
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockResolvedValue(careHistory);
            const queryParams = new URLSearchParams({
                careType: 'watering',
                startDate: '2024-01-01',
                endDate: '2024-01-31',
                limit: '10',
                offset: '5',
                sortBy: 'care_type',
                sortOrder: 'asc'
            });
            const request = new _server.NextRequest(`http://localhost:3000/api/care/history/${plantInstanceId}?${queryParams}`);
            const params = Promise.resolve({
                plantInstanceId: plantInstanceId.toString()
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(careHistory);
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).toHaveBeenCalledWith(plantInstanceId, testUser.id, {
                careType: 'watering',
                startDate: new Date('2024-01-01'),
                endDate: new Date('2024-01-31'),
                limit: 10,
                offset: 5,
                sortBy: 'care_type',
                sortOrder: 'asc'
            });
        });
        it('should return bad request error for invalid plant instance ID', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/care/history/invalid');
            const params = Promise.resolve({
                plantInstanceId: 'invalid'
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Invalid plant instance ID'
            });
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).not.toHaveBeenCalled();
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/history/1');
            const params = Promise.resolve({
                plantInstanceId: '1'
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                error: 'Unauthorized'
            });
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).not.toHaveBeenCalled();
        });
        it('should handle database errors gracefully', async ()=>{
            // Arrange
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockRejectedValue(new Error('Database connection failed'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/history/1');
            const params = Promise.resolve({
                plantInstanceId: '1'
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to get care history'
            });
        });
    });
    describe('GET /api/dashboard - Dashboard statistics calculation', ()=>{
        it('should return dashboard statistics with plant and propagation data', async ()=>{
            // Arrange
            const mockStats = {
                totalPlants: 15,
                activePlants: 12,
                careDueToday: 3,
                totalPropagations: 8,
                activePropagations: 5,
                successfulPropagations: 6,
                propagationSuccessRate: 75,
                fertilizerEvents: [
                    {
                        id: 'fertilizer-1',
                        plantName: 'Monstera Deliciosa',
                        plantId: '1',
                        date: '2024-01-15',
                        type: 'fertilize'
                    },
                    {
                        id: 'fertilizer-2',
                        plantName: 'Fiddle Leaf Fig',
                        plantId: '2',
                        date: '2024-01-16',
                        type: 'fertilize'
                    }
                ]
            };
            // Mock database queries
            _db.db.select.mockReturnValue({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            totalPlants: 15,
                            activePlants: 12,
                            careDueToday: 3
                        }
                    ])
                })
            });
            // Mock propagation stats query
            _db.db.select.mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            totalPlants: 15,
                            activePlants: 12,
                            careDueToday: 3
                        }
                    ])
                })
            }).mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            totalPropagations: 8,
                            activePropagations: 5,
                            successfulPropagations: 6
                        }
                    ])
                })
            }).mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            count: 8
                        }
                    ])
                })
            }).mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            id: 1,
                            nickname: 'Monstera Deliciosa',
                            fertilizerDue: new Date('2024-01-15')
                        },
                        {
                            id: 2,
                            nickname: 'Fiddle Leaf Fig',
                            fertilizerDue: new Date('2024-01-16')
                        }
                    ])
                })
            });
            const request = new _server.NextRequest('http://localhost:3000/api/dashboard');
            // Act
            const response = await (0, _route4.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toMatchObject({
                totalPlants: expect.any(Number),
                activePlants: expect.any(Number),
                careDueToday: expect.any(Number),
                totalPropagations: expect.any(Number),
                activePropagations: expect.any(Number),
                successfulPropagations: expect.any(Number),
                propagationSuccessRate: expect.any(Number),
                fertilizerEvents: expect.any(Array)
            });
            expect(_server1.validateRequest).toHaveBeenCalled();
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/dashboard');
            // Act
            const response = await (0, _route4.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                error: 'Unauthorized'
            });
        });
        it('should handle database errors gracefully', async ()=>{
            // Arrange
            _db.db.select.mockImplementation(()=>{
                throw new Error('Database connection failed');
            });
            const request = new _server.NextRequest('http://localhost:3000/api/dashboard');
            // Act
            const response = await (0, _route4.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to get dashboard stats'
            });
        });
    });
    describe('GET /api/care/dashboard - Care-specific dashboard', ()=>{
        it('should return care dashboard data', async ()=>{
            // Arrange
            const mockCareDashboard = {
                upcomingCare: [
                    {
                        plantInstanceId: 1,
                        plantName: 'Monstera',
                        careType: 'watering',
                        dueDate: '2024-01-15',
                        overdue: false
                    }
                ],
                recentCare: [
                    {
                        id: 1,
                        plantInstanceId: 1,
                        careType: 'watering',
                        careDate: '2024-01-10',
                        notes: 'Regular watering'
                    }
                ],
                careStats: {
                    totalCareEvents: 25,
                    thisWeekCare: 5,
                    overdueCare: 2
                }
            };
            _careservice.CareService.getCareDashboard.mockResolvedValue(mockCareDashboard);
            const request = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            // Act
            const response = await (0, _route3.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(mockCareDashboard);
            expect(_server1.requireAuthSession).toHaveBeenCalled();
            expect(_careservice.CareService.getCareDashboard).toHaveBeenCalledWith(testUser.id);
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.requireAuthSession.mockRejectedValue(new Error('Unauthorized'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            // Act
            const response = await (0, _route3.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to fetch care dashboard'
            });
            expect(_careservice.CareService.getCareDashboard).not.toHaveBeenCalled();
        });
        it('should handle care service errors', async ()=>{
            // Arrange
            _careservice.CareService.getCareDashboard.mockRejectedValue(new Error('Care service failed'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            // Act
            const response = await (0, _route3.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to fetch care dashboard'
            });
        });
    });
    describe('Care Tracking Integration Tests', ()=>{
        it('should handle complete care workflow: log -> history -> dashboard', async ()=>{
            const plantInstanceId = 1;
            // Step 1: Log care event
            const careData = {
                plantInstanceId,
                careType: 'watering',
                careDate: '2024-01-15T10:00:00.000Z',
                notes: 'Regular watering'
            };
            const careRecord = (0, _plantfactory.createTestCareRecord)({
                id: 1,
                ...careData,
                careDate: new Date(careData.careDate),
                userId: testUser.id
            });
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: true,
                data: {
                    ...careData,
                    careDate: new Date(careData.careDate)
                }
            });
            _careservice.CareService.logCareEvent.mockResolvedValue({
                success: true,
                careHistory: careRecord
            });
            const logRequest = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(careData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const logResponse = await (0, _route.POST)(logRequest);
            const logResponseData = await logResponse.json();
            expect(logResponse.status).toBe(200);
            expect(logResponseData).toEqual(careRecord);
            // Step 2: Get care history
            const careHistory = [
                careRecord
            ];
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockResolvedValue(careHistory);
            const historyRequest = new _server.NextRequest(`http://localhost:3000/api/care/history/${plantInstanceId}`);
            const historyParams = Promise.resolve({
                plantInstanceId: plantInstanceId.toString()
            });
            const historyResponse = await (0, _route2.GET)(historyRequest, {
                params: historyParams
            });
            const historyResponseData = await historyResponse.json();
            expect(historyResponse.status).toBe(200);
            expect(historyResponseData).toEqual(careHistory);
            // Step 3: Get care dashboard
            const careDashboard = {
                upcomingCare: [],
                recentCare: [
                    careRecord
                ],
                careStats: {
                    totalCareEvents: 1,
                    thisWeekCare: 1,
                    overdueCare: 0
                }
            };
            _careservice.CareService.getCareDashboard.mockResolvedValue(careDashboard);
            const dashboardRequest = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            const dashboardResponse = await (0, _route3.GET)(dashboardRequest);
            const dashboardResponseData = await dashboardResponse.json();
            expect(dashboardResponse.status).toBe(200);
            expect(dashboardResponseData).toEqual(careDashboard);
            // Verify all services were called correctly
            expect(_careservice.CareService.logCareEvent).toHaveBeenCalledWith(testUser.id, expect.any(Object));
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).toHaveBeenCalledWith(plantInstanceId, testUser.id, expect.any(Object));
            expect(_careservice.CareService.getCareDashboard).toHaveBeenCalledWith(testUser.id);
        });
        it('should handle authorization across all care endpoints', async ()=>{
            // Test unauthorized access to all care endpoints
            _server1.requireAuthSession.mockRejectedValue(new Error('Unauthorized'));
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            // POST /api/care/log
            const logRequest = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const logResponse = await (0, _route.POST)(logRequest);
            expect(logResponse.status).toBe(500); // Service error due to auth failure
            // POST /api/care/quick-log
            const quickLogRequest = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const quickLogResponse = await (0, _route1.POST)(quickLogRequest);
            expect(quickLogResponse.status).toBe(500); // Service error due to auth failure
            // GET /api/care/history/1
            const historyRequest = new _server.NextRequest('http://localhost:3000/api/care/history/1');
            const historyParams = Promise.resolve({
                plantInstanceId: '1'
            });
            const historyResponse = await (0, _route2.GET)(historyRequest, {
                params: historyParams
            });
            expect(historyResponse.status).toBe(401);
            // GET /api/care/dashboard
            const careDashboardRequest = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            const careDashboardResponse = await (0, _route3.GET)(careDashboardRequest);
            expect(careDashboardResponse.status).toBe(500); // Service error due to auth failure
            // GET /api/dashboard
            const dashboardRequest = new _server.NextRequest('http://localhost:3000/api/dashboard');
            const dashboardResponse = await (0, _route4.GET)(dashboardRequest);
            expect(dashboardResponse.status).toBe(401);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL19fdGVzdHNfXy9hcGkvY2FyZS10cmFja2luZy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENhcmUgVHJhY2tpbmcgQVBJIEVuZHBvaW50IFRlc3RzXG4vLyBUZXN0cyBQT1NUIC9hcGkvY2FyZSwgR0VUIC9hcGkvY2FyZS9oaXN0b3J5LCBHRVQgL2FwaS9kYXNoYm9hcmQgZW5kcG9pbnRzXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBQT1NUIGFzIGxvZ0NhcmVIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL2NhcmUvbG9nL3JvdXRlJztcbmltcG9ydCB7IFBPU1QgYXMgcXVpY2tMb2dDYXJlSGFuZGxlciB9IGZyb20gJ0AvYXBwL2FwaS9jYXJlL3F1aWNrLWxvZy9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL2NhcmUvaGlzdG9yeS9bcGxhbnRJbnN0YW5jZUlkXS9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIgfSBmcm9tICdAL2FwcC9hcGkvY2FyZS9kYXNoYm9hcmQvcm91dGUnO1xuaW1wb3J0IHsgR0VUIGFzIGdldERhc2hib2FyZEhhbmRsZXIgfSBmcm9tICdAL2FwcC9hcGkvZGFzaGJvYXJkL3JvdXRlJztcbmltcG9ydCB7IGNyZWF0ZVRlc3RVc2VyLCBjcmVhdGVUZXN0U2Vzc2lvbiB9IGZyb20gJ0AvdGVzdC11dGlscy9mYWN0b3JpZXMvdXNlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlLCBjcmVhdGVUZXN0Q2FyZVJlY29yZCB9IGZyb20gJ0AvdGVzdC11dGlscy9mYWN0b3JpZXMvcGxhbnQtZmFjdG9yeSc7XG5pbXBvcnQgeyByZXNldEFwaU1vY2tzIH0gZnJvbSAnQC90ZXN0LXV0aWxzL2hlbHBlcnMvYXBpLWhlbHBlcnMnO1xuXG4vLyBNb2NrIHRoZSBhdXRoIGZ1bmN0aW9uc1xuamVzdC5tb2NrKCdAL2xpYi9hdXRoL3NlcnZlcicsICgpID0+ICh7XG4gIHJlcXVpcmVBdXRoU2Vzc2lvbjogamVzdC5mbigpLFxuICB2YWxpZGF0ZVJlcXVlc3Q6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayB0aGUgY2FyZSBzZXJ2aWNlXG5qZXN0Lm1vY2soJ0AvbGliL3NlcnZpY2VzL2NhcmUtc2VydmljZScsICgpID0+ICh7XG4gIENhcmVTZXJ2aWNlOiB7XG4gICAgbG9nQ2FyZUV2ZW50OiBqZXN0LmZuKCksXG4gICAgcXVpY2tDYXJlTG9nOiBqZXN0LmZuKCksXG4gICAgZ2V0Q2FyZURhc2hib2FyZDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIGNhcmUgaGlzdG9yeSBxdWVyaWVzXG5qZXN0Lm1vY2soJ0AvbGliL2RiL3F1ZXJpZXMvY2FyZS1oaXN0b3J5JywgKCkgPT4gKHtcbiAgQ2FyZUhpc3RvcnlRdWVyaWVzOiB7XG4gICAgZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIGRhdGFiYXNlIGFuZCBzY2hlbWFcbmplc3QubW9jaygnQC9saWIvZGInLCAoKSA9PiAoe1xuICBkYjoge1xuICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICB9LFxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2RiL3NjaGVtYScsICgpID0+ICh7XG4gIHBsYW50SW5zdGFuY2VzOiB7XG4gICAgaWQ6ICdpZCcsXG4gICAgdXNlcklkOiAndXNlcklkJyxcbiAgICBpc0FjdGl2ZTogJ2lzQWN0aXZlJyxcbiAgICBmZXJ0aWxpemVyRHVlOiAnZmVydGlsaXplckR1ZScsXG4gICAgbmlja25hbWU6ICduaWNrbmFtZScsXG4gIH0sXG4gIHByb3BhZ2F0aW9uczoge1xuICAgIHVzZXJJZDogJ3VzZXJJZCcsXG4gICAgc3RhdHVzOiAnc3RhdHVzJyxcbiAgfSxcbn0pKTtcblxuLy8gTW9jayBjYXJlIHZhbGlkYXRpb25cbmplc3QubW9jaygnQC9saWIvdmFsaWRhdGlvbi9jYXJlLXNjaGVtYXMnLCAoKSA9PiAoe1xuICBjYXJlVmFsaWRhdGlvbjoge1xuICAgIHZhbGlkYXRlQ2FyZUZvcm06IGplc3QuZm4oKSxcbiAgICB2YWxpZGF0ZVF1aWNrQ2FyZUxvZzogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBJbXBvcnQgbW9ja2VkIGZ1bmN0aW9uc1xuaW1wb3J0IHsgcmVxdWlyZUF1dGhTZXNzaW9uLCB2YWxpZGF0ZVJlcXVlc3QgfSBmcm9tICdAL2xpYi9hdXRoL3NlcnZlcic7XG5pbXBvcnQgeyBDYXJlU2VydmljZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL2NhcmUtc2VydmljZSc7XG5pbXBvcnQgeyBDYXJlSGlzdG9yeVF1ZXJpZXMgfSBmcm9tICdAL2xpYi9kYi9xdWVyaWVzL2NhcmUtaGlzdG9yeSc7XG5pbXBvcnQgeyBjYXJlVmFsaWRhdGlvbiB9IGZyb20gJ0AvbGliL3ZhbGlkYXRpb24vY2FyZS1zY2hlbWFzJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZGInO1xuXG5kZXNjcmliZSgnQ2FyZSBUcmFja2luZyBBUEkgRW5kcG9pbnRzJywgKCkgPT4ge1xuICBsZXQgdGVzdFVzZXI7XG4gIGxldCB0ZXN0U2Vzc2lvbjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICByZXNldEFwaU1vY2tzKCk7XG4gICAgXG4gICAgdGVzdFVzZXIgPSBjcmVhdGVUZXN0VXNlcigpO1xuICAgIHRlc3RTZXNzaW9uID0gY3JlYXRlVGVzdFNlc3Npb24odGVzdFVzZXIpO1xuICAgIFxuICAgIC8vIERlZmF1bHQgYXV0aCBtb2Nrc1xuICAgIHJlcXVpcmVBdXRoU2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1c2VyOiB0ZXN0VXNlcixcbiAgICAgIHNlc3Npb246IHRlc3RTZXNzaW9uLFxuICAgIH0pO1xuICAgIFxuICAgIHZhbGlkYXRlUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1c2VyOiB0ZXN0VXNlcixcbiAgICAgIHNlc3Npb246IHRlc3RTZXNzaW9uLFxuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvY2FyZS9sb2cgLSBDYXJlIHJlY29yZCBjcmVhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBjYXJlIHJlY29yZCB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB0ZXN0UGxhbnRJbnN0YW5jZSA9IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlKHsgdXNlcklkOiB0ZXN0VXNlci5pZCB9KTtcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWQ6IHRlc3RQbGFudEluc3RhbmNlLmlkLFxuICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgY2FyZURhdGU6ICcyMDI0LTAxLTE1VDEwOjAwOjAwLjAwMFonLFxuICAgICAgICBub3RlczogJ1JlZ3VsYXIgd2F0ZXJpbmcnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHtcbiAgICAgICAgLi4ucmVxdWVzdEJvZHksXG4gICAgICAgIGNhcmVEYXRlOiBuZXcgRGF0ZShyZXF1ZXN0Qm9keS5jYXJlRGF0ZSksXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjcmVhdGVkQ2FyZVJlY29yZCA9IGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHtcbiAgICAgICAgLi4udmFsaWRhdGVkRGF0YSxcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICB9KTtcblxuICAgICAgY2FyZVZhbGlkYXRpb24udmFsaWRhdGVDYXJlRm9ybS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB2YWxpZGF0ZWREYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIENhcmVTZXJ2aWNlLmxvZ0NhcmVFdmVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNhcmVIaXN0b3J5OiBjcmVhdGVkQ2FyZVJlY29yZCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvbG9nJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9nQ2FyZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChjcmVhdGVkQ2FyZVJlY29yZCk7XG5cbiAgICAgIGV4cGVjdChyZXF1aXJlQXV0aFNlc3Npb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZUNhcmVGb3JtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh2YWxpZGF0ZWREYXRhKTtcbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5sb2dDYXJlRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RVc2VyLmlkLCB2YWxpZGF0ZWREYXRhKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkYXRpb24gZXJyb3IgZm9yIGludmFsaWQgY2FyZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgICAgIHBsYW50SW5zdGFuY2VJZDogJ2ludmFsaWQnLFxuICAgICAgICBjYXJlVHlwZTogJ2ludmFsaWRfdHlwZScsXG4gICAgICAgIGNhcmVEYXRlOiAnaW52YWxpZF9kYXRlJyxcbiAgICAgIH07XG5cbiAgICAgIGNhcmVWYWxpZGF0aW9uLnZhbGlkYXRlQ2FyZUZvcm0ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgaXNzdWVzOiBbXG4gICAgICAgICAgICB7IG1lc3NhZ2U6ICdQbGFudCBpbnN0YW5jZSBJRCBtdXN0IGJlIGEgbnVtYmVyJyB9LFxuICAgICAgICAgICAgeyBtZXNzYWdlOiAnSW52YWxpZCBjYXJlIHR5cGUnIH0sXG4gICAgICAgICAgICB7IG1lc3NhZ2U6ICdJbnZhbGlkIGRhdGUgZm9ybWF0JyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2xvZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvZ0NhcmVIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1BsYW50IGluc3RhbmNlIElEIG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5sb2dDYXJlRXZlbnQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciB3aGVuIGNhcmUgc2VydmljZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWQ6IDEsXG4gICAgICAgIGNhcmVUeXBlOiAnd2F0ZXJpbmcnLFxuICAgICAgICBjYXJlRGF0ZTogJzIwMjQtMDEtMTVUMTA6MDA6MDAuMDAwWicsXG4gICAgICB9O1xuXG4gICAgICBjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZUNhcmVGb3JtLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5yZXF1ZXN0Qm9keSxcbiAgICAgICAgICBjYXJlRGF0ZTogbmV3IERhdGUocmVxdWVzdEJvZHkuY2FyZURhdGUpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIENhcmVTZXJ2aWNlLmxvZ0NhcmVFdmVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1BsYW50IGluc3RhbmNlIG5vdCBmb3VuZCcsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2xvZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvZ0NhcmVIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1BsYW50IGluc3RhbmNlIG5vdCBmb3VuZCcsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuYXV0aG9yaXplZCBlcnJvciB3aGVuIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICByZXF1aXJlQXV0aFNlc3Npb24ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2dDYXJlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gbG9nIGNhcmUgZXZlbnQnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5sb2dDYXJlRXZlbnQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgSlNPTiByZXF1ZXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2xvZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9nQ2FyZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvZyBjYXJlIGV2ZW50JyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUE9TVCAvYXBpL2NhcmUvcXVpY2stbG9nIC0gUXVpY2sgY2FyZSBsb2dnaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIHF1aWNrIGNhcmUgbG9nIHdpdGggdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWRzOiBbMSwgMiwgM10sXG4gICAgICAgIGNhcmVUeXBlOiAnd2F0ZXJpbmcnLFxuICAgICAgICBub3RlczogJ1F1aWNrIHdhdGVyaW5nIHNlc3Npb24nLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHtcbiAgICAgICAgLi4ucmVxdWVzdEJvZHksXG4gICAgICAgIGNhcmVEYXRlOiBleHBlY3QuYW55KERhdGUpLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2FyZVJlY29yZHMgPSBbXG4gICAgICAgIGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHsgaWQ6IDEsIHBsYW50SW5zdGFuY2VJZDogMSB9KSxcbiAgICAgICAgY3JlYXRlVGVzdENhcmVSZWNvcmQoeyBpZDogMiwgcGxhbnRJbnN0YW5jZUlkOiAyIH0pLFxuICAgICAgICBjcmVhdGVUZXN0Q2FyZVJlY29yZCh7IGlkOiAzLCBwbGFudEluc3RhbmNlSWQ6IDMgfSksXG4gICAgICBdO1xuXG4gICAgICBjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZVF1aWNrQ2FyZUxvZy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB2YWxpZGF0ZWREYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIENhcmVTZXJ2aWNlLnF1aWNrQ2FyZUxvZy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNhcmVIaXN0b3J5OiBjYXJlUmVjb3JkcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvcXVpY2stbG9nJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcXVpY2tMb2dDYXJlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKGNhcmVSZWNvcmRzKTtcblxuICAgICAgZXhwZWN0KHJlcXVpcmVBdXRoU2Vzc2lvbikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KGNhcmVWYWxpZGF0aW9uLnZhbGlkYXRlUXVpY2tDYXJlTG9nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh2YWxpZGF0ZWREYXRhKTtcbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5xdWlja0NhcmVMb2cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RVc2VyLmlkLCB2YWxpZGF0ZWREYXRhKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkYXRpb24gZXJyb3Igd2l0aCBkZXRhaWxlZCBpc3N1ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgcGxhbnRJbnN0YW5jZUlkczogW10sXG4gICAgICAgIGNhcmVUeXBlOiAnaW52YWxpZCcsXG4gICAgICB9O1xuXG4gICAgICBjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZVF1aWNrQ2FyZUxvZy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBpc3N1ZXM6IFtcbiAgICAgICAgICAgIHsgbWVzc2FnZTogJ0F0IGxlYXN0IG9uZSBwbGFudCBpbnN0YW5jZSBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgY2FyZSB0eXBlJyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL3F1aWNrLWxvZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHF1aWNrTG9nQ2FyZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnQXQgbGVhc3Qgb25lIHBsYW50IGluc3RhbmNlIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgZGV0YWlsczogW1xuICAgICAgICAgIHsgbWVzc2FnZTogJ0F0IGxlYXN0IG9uZSBwbGFudCBpbnN0YW5jZSBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgICB7IG1lc3NhZ2U6ICdJbnZhbGlkIGNhcmUgdHlwZScgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UucXVpY2tDYXJlTG9nKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcXVpY2sgY2FyZSBzZXJ2aWNlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWRzOiBbOTk5XSxcbiAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICB9O1xuXG4gICAgICBjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZVF1aWNrQ2FyZUxvZy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4ucmVxdWVzdEJvZHksXG4gICAgICAgICAgY2FyZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgQ2FyZVNlcnZpY2UucXVpY2tDYXJlTG9nLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnU29tZSBwbGFudCBpbnN0YW5jZXMgbm90IGZvdW5kJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvcXVpY2stbG9nJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcXVpY2tMb2dDYXJlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdTb21lIHBsYW50IGluc3RhbmNlcyBub3QgZm91bmQnLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9jYXJlL2hpc3RvcnkvW3BsYW50SW5zdGFuY2VJZF0gLSBDYXJlIGhpc3RvcnkgcmV0cmlldmFsIGFuZCBmaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2FyZSBoaXN0b3J5IHdpdGggZGVmYXVsdCBmaWx0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcGxhbnRJbnN0YW5jZUlkID0gMTtcbiAgICAgIGNvbnN0IGNhcmVIaXN0b3J5ID0gW1xuICAgICAgICBjcmVhdGVUZXN0Q2FyZVJlY29yZCh7IGlkOiAxLCBwbGFudEluc3RhbmNlSWQsIGNhcmVUeXBlOiAnd2F0ZXJpbmcnIH0pLFxuICAgICAgICBjcmVhdGVUZXN0Q2FyZVJlY29yZCh7IGlkOiAyLCBwbGFudEluc3RhbmNlSWQsIGNhcmVUeXBlOiAnZmVydGlsaXppbmcnIH0pLFxuICAgICAgXTtcblxuICAgICAgQ2FyZUhpc3RvcnlRdWVyaWVzLmdldENhcmVIaXN0b3J5Rm9yUGxhbnQubW9ja1Jlc29sdmVkVmFsdWUoY2FyZUhpc3RvcnkpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvaGlzdG9yeS8ke3BsYW50SW5zdGFuY2VJZH1gKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogcGxhbnRJbnN0YW5jZUlkLnRvU3RyaW5nKCkgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRDYXJlSGlzdG9yeUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChjYXJlSGlzdG9yeSk7XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0ZVJlcXVlc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHBsYW50SW5zdGFuY2VJZCxcbiAgICAgICAgdGVzdFVzZXIuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICBjYXJlVHlwZTogdW5kZWZpbmVkLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGVuZERhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBsaW1pdDogNTAsXG4gICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgIHNvcnRCeTogJ2NhcmVfZGF0ZScsXG4gICAgICAgICAgc29ydE9yZGVyOiAnZGVzYycsXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYXJlIGhpc3Rvcnkgd2l0aCBjdXN0b20gZmlsdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHBsYW50SW5zdGFuY2VJZCA9IDE7XG4gICAgICBjb25zdCBjYXJlSGlzdG9yeSA9IFtcbiAgICAgICAgY3JlYXRlVGVzdENhcmVSZWNvcmQoeyBpZDogMSwgcGxhbnRJbnN0YW5jZUlkLCBjYXJlVHlwZTogJ3dhdGVyaW5nJyB9KSxcbiAgICAgIF07XG5cbiAgICAgIENhcmVIaXN0b3J5UXVlcmllcy5nZXRDYXJlSGlzdG9yeUZvclBsYW50Lm1vY2tSZXNvbHZlZFZhbHVlKGNhcmVIaXN0b3J5KTtcblxuICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICAgIHN0YXJ0RGF0ZTogJzIwMjQtMDEtMDEnLFxuICAgICAgICBlbmREYXRlOiAnMjAyNC0wMS0zMScsXG4gICAgICAgIGxpbWl0OiAnMTAnLFxuICAgICAgICBvZmZzZXQ6ICc1JyxcbiAgICAgICAgc29ydEJ5OiAnY2FyZV90eXBlJyxcbiAgICAgICAgc29ydE9yZGVyOiAnYXNjJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvaGlzdG9yeS8ke3BsYW50SW5zdGFuY2VJZH0/JHtxdWVyeVBhcmFtc31gKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogcGxhbnRJbnN0YW5jZUlkLnRvU3RyaW5nKCkgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRDYXJlSGlzdG9yeUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChjYXJlSGlzdG9yeSk7XG5cbiAgICAgIGV4cGVjdChDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHBsYW50SW5zdGFuY2VJZCxcbiAgICAgICAgdGVzdFVzZXIuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCcyMDI0LTAxLTAxJyksXG4gICAgICAgICAgZW5kRGF0ZTogbmV3IERhdGUoJzIwMjQtMDEtMzEnKSxcbiAgICAgICAgICBsaW1pdDogMTAsXG4gICAgICAgICAgb2Zmc2V0OiA1LFxuICAgICAgICAgIHNvcnRCeTogJ2NhcmVfdHlwZScsXG4gICAgICAgICAgc29ydE9yZGVyOiAnYXNjJyxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJhZCByZXF1ZXN0IGVycm9yIGZvciBpbnZhbGlkIHBsYW50IGluc3RhbmNlIElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2hpc3RvcnkvaW52YWxpZCcpO1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgcGxhbnRJbnN0YW5jZUlkOiAnaW52YWxpZCcgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRDYXJlSGlzdG9yeUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBwbGFudCBpbnN0YW5jZSBJRCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KENhcmVIaXN0b3J5UXVlcmllcy5nZXRDYXJlSGlzdG9yeUZvclBsYW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdW5hdXRob3JpemVkIGVycm9yIHdoZW4gdXNlciBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIHZhbGlkYXRlUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgIHNlc3Npb246IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2hpc3RvcnkvMScpO1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgcGxhbnRJbnN0YW5jZUlkOiAnMScgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRDYXJlSGlzdG9yeUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQ2FyZUhpc3RvcnlRdWVyaWVzLmdldENhcmVIaXN0b3J5Rm9yUGxhbnQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIENhcmVIaXN0b3J5UXVlcmllcy5nZXRDYXJlSGlzdG9yeUZvclBsYW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5LzEnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogJzEnIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyKHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgY2FyZSBoaXN0b3J5JyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvZGFzaGJvYXJkIC0gRGFzaGJvYXJkIHN0YXRpc3RpY3MgY2FsY3VsYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZGFzaGJvYXJkIHN0YXRpc3RpY3Mgd2l0aCBwbGFudCBhbmQgcHJvcGFnYXRpb24gZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tTdGF0cyA9IHtcbiAgICAgICAgdG90YWxQbGFudHM6IDE1LFxuICAgICAgICBhY3RpdmVQbGFudHM6IDEyLFxuICAgICAgICBjYXJlRHVlVG9kYXk6IDMsXG4gICAgICAgIHRvdGFsUHJvcGFnYXRpb25zOiA4LFxuICAgICAgICBhY3RpdmVQcm9wYWdhdGlvbnM6IDUsXG4gICAgICAgIHN1Y2Nlc3NmdWxQcm9wYWdhdGlvbnM6IDYsXG4gICAgICAgIHByb3BhZ2F0aW9uU3VjY2Vzc1JhdGU6IDc1LFxuICAgICAgICBmZXJ0aWxpemVyRXZlbnRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdmZXJ0aWxpemVyLTEnLFxuICAgICAgICAgICAgcGxhbnROYW1lOiAnTW9uc3RlcmEgRGVsaWNpb3NhJyxcbiAgICAgICAgICAgIHBsYW50SWQ6ICcxJyxcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTE1JyxcbiAgICAgICAgICAgIHR5cGU6ICdmZXJ0aWxpemUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdmZXJ0aWxpemVyLTInLFxuICAgICAgICAgICAgcGxhbnROYW1lOiAnRmlkZGxlIExlYWYgRmlnJyxcbiAgICAgICAgICAgIHBsYW50SWQ6ICcyJyxcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTE2JyxcbiAgICAgICAgICAgIHR5cGU6ICdmZXJ0aWxpemUnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIGRhdGFiYXNlIHF1ZXJpZXNcbiAgICAgIGRiLnNlbGVjdC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICB3aGVyZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG90YWxQbGFudHM6IDE1LFxuICAgICAgICAgICAgICBhY3RpdmVQbGFudHM6IDEyLFxuICAgICAgICAgICAgICBjYXJlRHVlVG9kYXk6IDMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIHByb3BhZ2F0aW9uIHN0YXRzIHF1ZXJ5XG4gICAgICBkYi5zZWxlY3RcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICAgIGZyb206IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3RhbFBsYW50czogMTUsXG4gICAgICAgICAgICAgICAgYWN0aXZlUGxhbnRzOiAxMixcbiAgICAgICAgICAgICAgICBjYXJlRHVlVG9kYXk6IDMsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICAgIGZyb206IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3RhbFByb3BhZ2F0aW9uczogOCxcbiAgICAgICAgICAgICAgICBhY3RpdmVQcm9wYWdhdGlvbnM6IDUsXG4gICAgICAgICAgICAgICAgc3VjY2Vzc2Z1bFByb3BhZ2F0aW9uczogNixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICB3aGVyZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvdW50OiA4LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIHdoZXJlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgICAgbmlja25hbWU6ICdNb25zdGVyYSBEZWxpY2lvc2EnLFxuICAgICAgICAgICAgICAgIGZlcnRpbGl6ZXJEdWU6IG5ldyBEYXRlKCcyMDI0LTAxLTE1JyksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogMixcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogJ0ZpZGRsZSBMZWFmIEZpZycsXG4gICAgICAgICAgICAgICAgZmVydGlsaXplckR1ZTogbmV3IERhdGUoJzIwMjQtMDEtMTYnKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9kYXNoYm9hcmQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldERhc2hib2FyZEhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9NYXRjaE9iamVjdCh7XG4gICAgICAgIHRvdGFsUGxhbnRzOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIGFjdGl2ZVBsYW50czogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBjYXJlRHVlVG9kYXk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgdG90YWxQcm9wYWdhdGlvbnM6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgYWN0aXZlUHJvcGFnYXRpb25zOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIHN1Y2Nlc3NmdWxQcm9wYWdhdGlvbnM6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgcHJvcGFnYXRpb25TdWNjZXNzUmF0ZTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBmZXJ0aWxpemVyRXZlbnRzOiBleHBlY3QuYW55KEFycmF5KSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QodmFsaWRhdGVSZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB1bmF1dGhvcml6ZWQgZXJyb3Igd2hlbiB1c2VyIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgdmFsaWRhdGVSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgc2Vzc2lvbjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2Rhc2hib2FyZCcpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RGFzaGJvYXJkSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdVbmF1dGhvcml6ZWQnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGRiLnNlbGVjdC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9kYXNoYm9hcmQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldERhc2hib2FyZEhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGdldCBkYXNoYm9hcmQgc3RhdHMnLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9jYXJlL2Rhc2hib2FyZCAtIENhcmUtc3BlY2lmaWMgZGFzaGJvYXJkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNhcmUgZGFzaGJvYXJkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrQ2FyZURhc2hib2FyZCA9IHtcbiAgICAgICAgdXBjb21pbmdDYXJlOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcGxhbnRJbnN0YW5jZUlkOiAxLFxuICAgICAgICAgICAgcGxhbnROYW1lOiAnTW9uc3RlcmEnLFxuICAgICAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICAgICAgICBkdWVEYXRlOiAnMjAyNC0wMS0xNScsXG4gICAgICAgICAgICBvdmVyZHVlOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICByZWNlbnRDYXJlOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICBwbGFudEluc3RhbmNlSWQ6IDEsXG4gICAgICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgICAgIGNhcmVEYXRlOiAnMjAyNC0wMS0xMCcsXG4gICAgICAgICAgICBub3RlczogJ1JlZ3VsYXIgd2F0ZXJpbmcnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNhcmVTdGF0czoge1xuICAgICAgICAgIHRvdGFsQ2FyZUV2ZW50czogMjUsXG4gICAgICAgICAgdGhpc1dlZWtDYXJlOiA1LFxuICAgICAgICAgIG92ZXJkdWVDYXJlOiAyLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgQ2FyZVNlcnZpY2UuZ2V0Q2FyZURhc2hib2FyZC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ2FyZURhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldENhcmVEYXNoYm9hcmRIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwobW9ja0NhcmVEYXNoYm9hcmQpO1xuXG4gICAgICBleHBlY3QocmVxdWlyZUF1dGhTZXNzaW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UuZ2V0Q2FyZURhc2hib2FyZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgodGVzdFVzZXIuaWQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdW5hdXRob3JpemVkIGVycm9yIHdoZW4gdXNlciBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIHJlcXVpcmVBdXRoU2Vzc2lvbi5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCcpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2Rhc2hib2FyZCcpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGNhcmUgZGFzaGJvYXJkJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UuZ2V0Q2FyZURhc2hib2FyZCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhcmUgc2VydmljZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBDYXJlU2VydmljZS5nZXRDYXJlRGFzaGJvYXJkLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ2FyZSBzZXJ2aWNlIGZhaWxlZCcpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2Rhc2hib2FyZCcpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGNhcmUgZGFzaGJvYXJkJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FyZSBUcmFja2luZyBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSBjYXJlIHdvcmtmbG93OiBsb2cgLT4gaGlzdG9yeSAtPiBkYXNoYm9hcmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwbGFudEluc3RhbmNlSWQgPSAxO1xuICAgICAgXG4gICAgICAvLyBTdGVwIDE6IExvZyBjYXJlIGV2ZW50XG4gICAgICBjb25zdCBjYXJlRGF0YSA9IHtcbiAgICAgICAgcGxhbnRJbnN0YW5jZUlkLFxuICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgY2FyZURhdGU6ICcyMDI0LTAxLTE1VDEwOjAwOjAwLjAwMFonLFxuICAgICAgICBub3RlczogJ1JlZ3VsYXIgd2F0ZXJpbmcnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2FyZVJlY29yZCA9IGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIC4uLmNhcmVEYXRhLFxuICAgICAgICBjYXJlRGF0ZTogbmV3IERhdGUoY2FyZURhdGEuY2FyZURhdGUpLFxuICAgICAgICB1c2VySWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgfSk7XG5cbiAgICAgIGNhcmVWYWxpZGF0aW9uLnZhbGlkYXRlQ2FyZUZvcm0ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmNhcmVEYXRhLFxuICAgICAgICAgIGNhcmVEYXRlOiBuZXcgRGF0ZShjYXJlRGF0YS5jYXJlRGF0ZSksXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY2FyZUhpc3Rvcnk6IGNhcmVSZWNvcmQsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9nUmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2xvZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmVEYXRhKSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9nUmVzcG9uc2UgPSBhd2FpdCBsb2dDYXJlSGFuZGxlcihsb2dSZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGxvZ1Jlc3BvbnNlRGF0YSA9IGF3YWl0IGxvZ1Jlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KGxvZ1Jlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGxvZ1Jlc3BvbnNlRGF0YSkudG9FcXVhbChjYXJlUmVjb3JkKTtcblxuICAgICAgLy8gU3RlcCAyOiBHZXQgY2FyZSBoaXN0b3J5XG4gICAgICBjb25zdCBjYXJlSGlzdG9yeSA9IFtjYXJlUmVjb3JkXTtcbiAgICAgIENhcmVIaXN0b3J5UXVlcmllcy5nZXRDYXJlSGlzdG9yeUZvclBsYW50Lm1vY2tSZXNvbHZlZFZhbHVlKGNhcmVIaXN0b3J5KTtcblxuICAgICAgY29uc3QgaGlzdG9yeVJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5LyR7cGxhbnRJbnN0YW5jZUlkfWApO1xuICAgICAgY29uc3QgaGlzdG9yeVBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogcGxhbnRJbnN0YW5jZUlkLnRvU3RyaW5nKCkgfSk7XG5cbiAgICAgIGNvbnN0IGhpc3RvcnlSZXNwb25zZSA9IGF3YWl0IGdldENhcmVIaXN0b3J5SGFuZGxlcihoaXN0b3J5UmVxdWVzdCwgeyBwYXJhbXM6IGhpc3RvcnlQYXJhbXMgfSk7XG4gICAgICBjb25zdCBoaXN0b3J5UmVzcG9uc2VEYXRhID0gYXdhaXQgaGlzdG9yeVJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KGhpc3RvcnlSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5UmVzcG9uc2VEYXRhKS50b0VxdWFsKGNhcmVIaXN0b3J5KTtcblxuICAgICAgLy8gU3RlcCAzOiBHZXQgY2FyZSBkYXNoYm9hcmRcbiAgICAgIGNvbnN0IGNhcmVEYXNoYm9hcmQgPSB7XG4gICAgICAgIHVwY29taW5nQ2FyZTogW10sXG4gICAgICAgIHJlY2VudENhcmU6IFtjYXJlUmVjb3JkXSxcbiAgICAgICAgY2FyZVN0YXRzOiB7XG4gICAgICAgICAgdG90YWxDYXJlRXZlbnRzOiAxLFxuICAgICAgICAgIHRoaXNXZWVrQ2FyZTogMSxcbiAgICAgICAgICBvdmVyZHVlQ2FyZTogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIENhcmVTZXJ2aWNlLmdldENhcmVEYXNoYm9hcmQubW9ja1Jlc29sdmVkVmFsdWUoY2FyZURhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIoZGFzaGJvYXJkUmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXNoYm9hcmRSZXNwb25zZURhdGEgPSBhd2FpdCBkYXNoYm9hcmRSZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChkYXNoYm9hcmRSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRSZXNwb25zZURhdGEpLnRvRXF1YWwoY2FyZURhc2hib2FyZCk7XG5cbiAgICAgIC8vIFZlcmlmeSBhbGwgc2VydmljZXMgd2VyZSBjYWxsZWQgY29ycmVjdGx5XG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlci5pZCwgZXhwZWN0LmFueShPYmplY3QpKTtcbiAgICAgIGV4cGVjdChDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGxhbnRJbnN0YW5jZUlkLCB0ZXN0VXNlci5pZCwgZXhwZWN0LmFueShPYmplY3QpKTtcbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5nZXRDYXJlRGFzaGJvYXJkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlci5pZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhdXRob3JpemF0aW9uIGFjcm9zcyBhbGwgY2FyZSBlbmRwb2ludHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUZXN0IHVuYXV0aG9yaXplZCBhY2Nlc3MgdG8gYWxsIGNhcmUgZW5kcG9pbnRzXG4gICAgICByZXF1aXJlQXV0aFNlc3Npb24ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKSk7XG4gICAgICB2YWxpZGF0ZVJlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0pO1xuXG4gICAgICAvLyBQT1NUIC9hcGkvY2FyZS9sb2dcbiAgICAgIGNvbnN0IGxvZ1JlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBsb2dSZXNwb25zZSA9IGF3YWl0IGxvZ0NhcmVIYW5kbGVyKGxvZ1JlcXVlc3QpO1xuICAgICAgZXhwZWN0KGxvZ1Jlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApOyAvLyBTZXJ2aWNlIGVycm9yIGR1ZSB0byBhdXRoIGZhaWx1cmVcblxuICAgICAgLy8gUE9TVCAvYXBpL2NhcmUvcXVpY2stbG9nXG4gICAgICBjb25zdCBxdWlja0xvZ1JlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9xdWljay1sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBxdWlja0xvZ1Jlc3BvbnNlID0gYXdhaXQgcXVpY2tMb2dDYXJlSGFuZGxlcihxdWlja0xvZ1JlcXVlc3QpO1xuICAgICAgZXhwZWN0KHF1aWNrTG9nUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7IC8vIFNlcnZpY2UgZXJyb3IgZHVlIHRvIGF1dGggZmFpbHVyZVxuXG4gICAgICAvLyBHRVQgL2FwaS9jYXJlL2hpc3RvcnkvMVxuICAgICAgY29uc3QgaGlzdG9yeVJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5LzEnKTtcbiAgICAgIGNvbnN0IGhpc3RvcnlQYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBwbGFudEluc3RhbmNlSWQ6ICcxJyB9KTtcbiAgICAgIGNvbnN0IGhpc3RvcnlSZXNwb25zZSA9IGF3YWl0IGdldENhcmVIaXN0b3J5SGFuZGxlcihoaXN0b3J5UmVxdWVzdCwgeyBwYXJhbXM6IGhpc3RvcnlQYXJhbXMgfSk7XG4gICAgICBleHBlY3QoaGlzdG9yeVJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuXG4gICAgICAvLyBHRVQgL2FwaS9jYXJlL2Rhc2hib2FyZFxuICAgICAgY29uc3QgY2FyZURhc2hib2FyZFJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcbiAgICAgIGNvbnN0IGNhcmVEYXNoYm9hcmRSZXNwb25zZSA9IGF3YWl0IGdldENhcmVEYXNoYm9hcmRIYW5kbGVyKGNhcmVEYXNoYm9hcmRSZXF1ZXN0KTtcbiAgICAgIGV4cGVjdChjYXJlRGFzaGJvYXJkUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7IC8vIFNlcnZpY2UgZXJyb3IgZHVlIHRvIGF1dGggZmFpbHVyZVxuXG4gICAgICAvLyBHRVQgL2FwaS9kYXNoYm9hcmRcbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGFzaGJvYXJkJyk7XG4gICAgICBjb25zdCBkYXNoYm9hcmRSZXNwb25zZSA9IGF3YWl0IGdldERhc2hib2FyZEhhbmRsZXIoZGFzaGJvYXJkUmVxdWVzdCk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwicmVxdWlyZUF1dGhTZXNzaW9uIiwiZm4iLCJ2YWxpZGF0ZVJlcXVlc3QiLCJDYXJlU2VydmljZSIsImxvZ0NhcmVFdmVudCIsInF1aWNrQ2FyZUxvZyIsImdldENhcmVEYXNoYm9hcmQiLCJDYXJlSGlzdG9yeVF1ZXJpZXMiLCJnZXRDYXJlSGlzdG9yeUZvclBsYW50IiwiZGIiLCJzZWxlY3QiLCJtb2NrUmV0dXJuVGhpcyIsImZyb20iLCJ3aGVyZSIsInBsYW50SW5zdGFuY2VzIiwiaWQiLCJ1c2VySWQiLCJpc0FjdGl2ZSIsImZlcnRpbGl6ZXJEdWUiLCJuaWNrbmFtZSIsInByb3BhZ2F0aW9ucyIsInN0YXR1cyIsImNhcmVWYWxpZGF0aW9uIiwidmFsaWRhdGVDYXJlRm9ybSIsInZhbGlkYXRlUXVpY2tDYXJlTG9nIiwiZGVzY3JpYmUiLCJ0ZXN0VXNlciIsInRlc3RTZXNzaW9uIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJyZXNldEFwaU1vY2tzIiwiY3JlYXRlVGVzdFVzZXIiLCJjcmVhdGVUZXN0U2Vzc2lvbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidXNlciIsInNlc3Npb24iLCJhZnRlckVhY2giLCJyZXN0b3JlQWxsTW9ja3MiLCJpdCIsInRlc3RQbGFudEluc3RhbmNlIiwiY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UiLCJyZXF1ZXN0Qm9keSIsInBsYW50SW5zdGFuY2VJZCIsImNhcmVUeXBlIiwiY2FyZURhdGUiLCJub3RlcyIsInZhbGlkYXRlZERhdGEiLCJEYXRlIiwiY3JlYXRlZENhcmVSZWNvcmQiLCJjcmVhdGVUZXN0Q2FyZVJlY29yZCIsIm1vY2tSZXR1cm5WYWx1ZSIsInN1Y2Nlc3MiLCJkYXRhIiwiY2FyZUhpc3RvcnkiLCJyZXF1ZXN0IiwiTmV4dFJlcXVlc3QiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJyZXNwb25zZSIsImxvZ0NhcmVIYW5kbGVyIiwicmVzcG9uc2VEYXRhIiwianNvbiIsImV4cGVjdCIsInRvQmUiLCJ0b0VxdWFsIiwidG9IYXZlQmVlbkNhbGxlZCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiZXJyb3IiLCJpc3N1ZXMiLCJtZXNzYWdlIiwibm90IiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsInBsYW50SW5zdGFuY2VJZHMiLCJhbnkiLCJjYXJlUmVjb3JkcyIsInF1aWNrTG9nQ2FyZUhhbmRsZXIiLCJkZXRhaWxzIiwicGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0b1N0cmluZyIsImdldENhcmVIaXN0b3J5SGFuZGxlciIsInVuZGVmaW5lZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJsaW1pdCIsIm9mZnNldCIsInNvcnRCeSIsInNvcnRPcmRlciIsInF1ZXJ5UGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibW9ja1N0YXRzIiwidG90YWxQbGFudHMiLCJhY3RpdmVQbGFudHMiLCJjYXJlRHVlVG9kYXkiLCJ0b3RhbFByb3BhZ2F0aW9ucyIsImFjdGl2ZVByb3BhZ2F0aW9ucyIsInN1Y2Nlc3NmdWxQcm9wYWdhdGlvbnMiLCJwcm9wYWdhdGlvblN1Y2Nlc3NSYXRlIiwiZmVydGlsaXplckV2ZW50cyIsInBsYW50TmFtZSIsInBsYW50SWQiLCJkYXRlIiwidHlwZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJjb3VudCIsImdldERhc2hib2FyZEhhbmRsZXIiLCJ0b01hdGNoT2JqZWN0IiwiTnVtYmVyIiwiQXJyYXkiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtb2NrQ2FyZURhc2hib2FyZCIsInVwY29taW5nQ2FyZSIsImR1ZURhdGUiLCJvdmVyZHVlIiwicmVjZW50Q2FyZSIsImNhcmVTdGF0cyIsInRvdGFsQ2FyZUV2ZW50cyIsInRoaXNXZWVrQ2FyZSIsIm92ZXJkdWVDYXJlIiwiZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIiLCJjYXJlRGF0YSIsImNhcmVSZWNvcmQiLCJsb2dSZXF1ZXN0IiwibG9nUmVzcG9uc2UiLCJsb2dSZXNwb25zZURhdGEiLCJoaXN0b3J5UmVxdWVzdCIsImhpc3RvcnlQYXJhbXMiLCJoaXN0b3J5UmVzcG9uc2UiLCJoaXN0b3J5UmVzcG9uc2VEYXRhIiwiY2FyZURhc2hib2FyZCIsImRhc2hib2FyZFJlcXVlc3QiLCJkYXNoYm9hcmRSZXNwb25zZSIsImRhc2hib2FyZFJlc3BvbnNlRGF0YSIsIk9iamVjdCIsInF1aWNrTG9nUmVxdWVzdCIsInF1aWNrTG9nUmVzcG9uc2UiLCJjYXJlRGFzaGJvYXJkUmVxdWVzdCIsImNhcmVEYXNoYm9hcmRSZXNwb25zZSJdLCJtYXBwaW5ncyI6IkFBQUEsbUNBQW1DO0FBQ25DLDRFQUE0RTs7QUFZNUUsMEJBQTBCO0FBQzFCQSxLQUFLQyxJQUFJLENBQUMscUJBQXFCLElBQU8sQ0FBQTtRQUNwQ0Msb0JBQW9CRixLQUFLRyxFQUFFO1FBQzNCQyxpQkFBaUJKLEtBQUtHLEVBQUU7SUFDMUIs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