b9ba27db70196f6377ad4242d049de16
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ResendEmailService () {
        return ResendEmailService;
    },
    get createEmailService () {
        return createEmailService;
    }
});
require("server-only");
const _resend = require("resend");
const _emailservice = require("./email-service");
const _emailservicemonitor = require("./email-service-monitor");
class ResendEmailService {
    constructor(config){
        this.resend = new _resend.Resend(config.apiKey);
        this.config = config;
    }
    async sendPasswordResetEmail(email, resetToken, name) {
        const startTime = Date.now();
        try {
            const resetUrl = `${process.env.NEXT_PUBLIC_APP_URL}/auth/reset-password?token=${resetToken}`;
            const { data, error } = await this.resend.emails.send({
                from: `${this.config.fromName} <${this.config.fromEmail}>`,
                to: [
                    email
                ],
                subject: 'Reset your password',
                html: this.generatePasswordResetEmailTemplate(resetUrl, name),
                text: this.generatePasswordResetEmailText(resetUrl, name)
            });
            const responseTime = Date.now() - startTime;
            if (error) {
                console.error('Resend API error:', error);
                // Map Resend errors to our error types
                let emailError;
                if (error.message?.includes('quota') || error.message?.includes('limit')) {
                    emailError = new _emailservice.EmailServiceError('Email quota exceeded', 'QUOTA_EXCEEDED');
                } else if (error.message?.includes('invalid') && error.message?.includes('email')) {
                    emailError = new _emailservice.EmailServiceError('Invalid email address', 'INVALID_EMAIL');
                } else {
                    emailError = new _emailservice.EmailServiceError(`Resend API error: ${error.message}`, 'API_ERROR');
                }
                // Record failure in monitor
                _emailservicemonitor.emailServiceMonitor.recordFailure({
                    message: emailError.message,
                    code: emailError.code
                }, responseTime);
                throw emailError;
            }
            // Record success in monitor
            _emailservicemonitor.emailServiceMonitor.recordSuccess(responseTime);
            console.log('Password reset email sent successfully:', data?.id);
            return true;
        } catch (error) {
            const responseTime = Date.now() - startTime;
            if (error instanceof _emailservice.EmailServiceError) {
                // Already recorded in monitor above
                throw error;
            }
            console.error('Network error sending password reset email:', error);
            const networkError = new _emailservice.EmailServiceError(`Network error: ${error instanceof Error ? error.message : 'Unknown error'}`, 'NETWORK_ERROR');
            // Record network error in monitor
            _emailservicemonitor.emailServiceMonitor.recordFailure({
                message: networkError.message,
                code: networkError.code
            }, responseTime);
            throw networkError;
        }
    }
    async sendVerificationEmail(email, code, name) {
        const startTime = Date.now();
        try {
            const { data, error } = await this.resend.emails.send({
                from: `${this.config.fromName} <${this.config.fromEmail}>`,
                to: [
                    email
                ],
                subject: 'Verify your email address',
                html: this.generateVerificationEmailTemplate(code, name),
                text: this.generateVerificationEmailText(code, name)
            });
            const responseTime = Date.now() - startTime;
            if (error) {
                console.error('Resend API error:', error);
                // Map Resend errors to our error types
                let emailError;
                if (error.message?.includes('quota') || error.message?.includes('limit')) {
                    emailError = new _emailservice.EmailServiceError('Email quota exceeded', 'QUOTA_EXCEEDED');
                } else if (error.message?.includes('invalid') && error.message?.includes('email')) {
                    emailError = new _emailservice.EmailServiceError('Invalid email address', 'INVALID_EMAIL');
                } else {
                    emailError = new _emailservice.EmailServiceError(`Resend API error: ${error.message}`, 'API_ERROR');
                }
                // Record failure in monitor
                _emailservicemonitor.emailServiceMonitor.recordFailure({
                    message: emailError.message,
                    code: emailError.code
                }, responseTime);
                throw emailError;
            }
            // Record success in monitor
            _emailservicemonitor.emailServiceMonitor.recordSuccess(responseTime);
            console.log('Verification email sent successfully:', data?.id);
            return true;
        } catch (error) {
            const responseTime = Date.now() - startTime;
            if (error instanceof _emailservice.EmailServiceError) {
                // Already recorded in monitor above
                throw error;
            }
            console.error('Network error sending email:', error);
            const networkError = new _emailservice.EmailServiceError(`Network error: ${error instanceof Error ? error.message : 'Unknown error'}`, 'NETWORK_ERROR');
            // Record network error in monitor
            _emailservicemonitor.emailServiceMonitor.recordFailure({
                message: networkError.message,
                code: networkError.code
            }, responseTime);
            throw networkError;
        }
    }
    generateVerificationEmailTemplate(code, name) {
        return `
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Verify Your Email</title>
        <style>
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
          }
          .logo {
            font-size: 24px;
            font-weight: bold;
            color: #22c55e;
            margin-bottom: 10px;
          }
          .verification-code {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 30px 0;
          }
          .code {
            font-size: 32px;
            font-weight: bold;
            letter-spacing: 4px;
            color: #22c55e;
            font-family: 'Courier New', monospace;
          }
          .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            font-size: 14px;
            color: #6c757d;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">ðŸŒ± Fancy Planties</div>
          <h1>Verify Your Email Address</h1>
        </div>
        
        <p>Hi ${name},</p>
        
        <p>Welcome to Fancy Planties! To complete your account setup, please verify your email address by entering the verification code below:</p>
        
        <div class="verification-code">
          <div class="code">${code}</div>
          <p style="margin: 10px 0 0 0; font-size: 14px; color: #6c757d;">
            This code expires in 10 minutes
          </p>
        </div>
        
        <p>If you didn't create an account with Fancy Planties, you can safely ignore this email.</p>
        
        <div class="footer">
          <p>This is an automated message from Fancy Planties. Please do not reply to this email.</p>
          <p>Need help? Contact us at support@fancy-planties.cloudagrapher.com</p>
        </div>
      </body>
      </html>
    `;
    }
    generateVerificationEmailText(code, name) {
        return `
Hi ${name},

Welcome to Fancy Planties! To complete your account setup, please verify your email address by entering the verification code below:

Verification Code: ${code}

This code expires in 10 minutes.

If you didn't create an account with Fancy Planties, you can safely ignore this email.

---
This is an automated message from Fancy Planties. Please do not reply to this email.
Need help? Contact us at support@fancy-planties.cloudagrapher.com
    `.trim();
    }
    generatePasswordResetEmailTemplate(resetUrl, name) {
        return `
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Reset Your Password</title>
        <style>
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
          }
          .logo {
            font-size: 24px;
            font-weight: bold;
            color: #22c55e;
            margin-bottom: 10px;
          }
          .reset-button {
            display: inline-block;
            background: #22c55e;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
          }
          .reset-link {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 30px 0;
            word-break: break-all;
          }
          .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            font-size: 14px;
            color: #6c757d;
          }
          .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
            color: #856404;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">ðŸŒ± Fancy Planties</div>
          <h1>Password Reset Request</h1>
        </div>
        
        <p>Hi ${name},</p>
        
        <p>We received a request to reset your password for your Fancy Planties account. If you made this request, click the button below to reset your password:</p>
        
        <div style="text-align: center;">
          <a href="${resetUrl}" class="reset-button">Reset Your Password</a>
        </div>
        
        <p>If the button doesn't work, you can copy and paste this link into your browser:</p>
        
        <div class="reset-link">
          <a href="${resetUrl}">${resetUrl}</a>
        </div>
        
        <div class="warning">
          <strong>Security Notice:</strong> This password reset link will expire in 1 hour for your security. If you didn't request this password reset, you can safely ignore this email.
        </div>
        
        <p>If you're having trouble or didn't request this reset, please contact our support team.</p>
        
        <div class="footer">
          <p>This is an automated message from Fancy Planties. Please do not reply to this email.</p>
          <p>Need help? Contact us at support@fancy-planties.cloudagrapher.com</p>
        </div>
      </body>
      </html>
    `;
    }
    generatePasswordResetEmailText(resetUrl, name) {
        return `
Hi ${name},

We received a request to reset your password for your Fancy Planties account.

To reset your password, click this link or copy it into your browser:
${resetUrl}

This link will expire in 1 hour for your security.

If you didn't request this password reset, you can safely ignore this email.

---
This is an automated message from Fancy Planties. Please do not reply to this email.
Need help? Contact us at support@fancy-planties.cloudagrapher.com
    `.trim();
    }
}
function createEmailService() {
    const config = {
        apiKey: process.env.RESEND_API_KEY,
        fromEmail: process.env.FROM_EMAIL || 'send.mail.fancy-planties.cloudagrapher.com',
        fromName: process.env.FROM_NAME || 'Fancy Planties'
    };
    if (!config.apiKey) {
        throw new Error('RESEND_API_KEY environment variable is required');
    }
    return new ResendEmailService(config);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2xpYi9zZXJ2aWNlcy9yZXNlbmQtZW1haWwtc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ3NlcnZlci1vbmx5JztcbmltcG9ydCB7IFJlc2VuZCB9IGZyb20gJ3Jlc2VuZCc7XG5pbXBvcnQgeyBFbWFpbFNlcnZpY2UsIEVtYWlsQ29uZmlnLCBFbWFpbFNlcnZpY2VFcnJvciB9IGZyb20gJy4vZW1haWwtc2VydmljZSc7XG5pbXBvcnQgeyBlbWFpbFNlcnZpY2VNb25pdG9yIH0gZnJvbSAnLi9lbWFpbC1zZXJ2aWNlLW1vbml0b3InO1xuXG5leHBvcnQgY2xhc3MgUmVzZW5kRW1haWxTZXJ2aWNlIGltcGxlbWVudHMgRW1haWxTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZXNlbmQ6IFJlc2VuZDtcbiAgcHJpdmF0ZSBjb25maWc6IEVtYWlsQ29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogRW1haWxDb25maWcpIHtcbiAgICB0aGlzLnJlc2VuZCA9IG5ldyBSZXNlbmQoY29uZmlnLmFwaUtleSk7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cblxuICBhc3luYyBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKGVtYWlsOiBzdHJpbmcsIHJlc2V0VG9rZW46IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzZXRVcmwgPSBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMfS9hdXRoL3Jlc2V0LXBhc3N3b3JkP3Rva2VuPSR7cmVzZXRUb2tlbn1gO1xuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLnJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICAgIGZyb206IGAke3RoaXMuY29uZmlnLmZyb21OYW1lfSA8JHt0aGlzLmNvbmZpZy5mcm9tRW1haWx9PmAsXG4gICAgICAgIHRvOiBbZW1haWxdLFxuICAgICAgICBzdWJqZWN0OiAnUmVzZXQgeW91ciBwYXNzd29yZCcsXG4gICAgICAgIGh0bWw6IHRoaXMuZ2VuZXJhdGVQYXNzd29yZFJlc2V0RW1haWxUZW1wbGF0ZShyZXNldFVybCwgbmFtZSksXG4gICAgICAgIHRleHQ6IHRoaXMuZ2VuZXJhdGVQYXNzd29yZFJlc2V0RW1haWxUZXh0KHJlc2V0VXJsLCBuYW1lKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUmVzZW5kIEFQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBNYXAgUmVzZW5kIGVycm9ycyB0byBvdXIgZXJyb3IgdHlwZXNcbiAgICAgICAgbGV0IGVtYWlsRXJyb3I6IEVtYWlsU2VydmljZUVycm9yO1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3F1b3RhJykgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2xpbWl0JykpIHtcbiAgICAgICAgICBlbWFpbEVycm9yID0gbmV3IEVtYWlsU2VydmljZUVycm9yKCdFbWFpbCBxdW90YSBleGNlZWRlZCcsICdRVU9UQV9FWENFRURFRCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdpbnZhbGlkJykgJiYgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2VtYWlsJykpIHtcbiAgICAgICAgICBlbWFpbEVycm9yID0gbmV3IEVtYWlsU2VydmljZUVycm9yKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnLCAnSU5WQUxJRF9FTUFJTCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVtYWlsRXJyb3IgPSBuZXcgRW1haWxTZXJ2aWNlRXJyb3IoYFJlc2VuZCBBUEkgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCAnQVBJX0VSUk9SJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlY29yZCBmYWlsdXJlIGluIG1vbml0b3JcbiAgICAgICAgZW1haWxTZXJ2aWNlTW9uaXRvci5yZWNvcmRGYWlsdXJlKFxuICAgICAgICAgIHsgbWVzc2FnZTogZW1haWxFcnJvci5tZXNzYWdlLCBjb2RlOiBlbWFpbEVycm9yLmNvZGUgfSxcbiAgICAgICAgICByZXNwb25zZVRpbWVcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHRocm93IGVtYWlsRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlY29yZCBzdWNjZXNzIGluIG1vbml0b3JcbiAgICAgIGVtYWlsU2VydmljZU1vbml0b3IucmVjb3JkU3VjY2VzcyhyZXNwb25zZVRpbWUpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUGFzc3dvcmQgcmVzZXQgZW1haWwgc2VudCBzdWNjZXNzZnVsbHk6JywgZGF0YT8uaWQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRW1haWxTZXJ2aWNlRXJyb3IpIHtcbiAgICAgICAgLy8gQWxyZWFkeSByZWNvcmRlZCBpbiBtb25pdG9yIGFib3ZlXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmVycm9yKCdOZXR3b3JrIGVycm9yIHNlbmRpbmcgcGFzc3dvcmQgcmVzZXQgZW1haWw6JywgZXJyb3IpO1xuICAgICAgY29uc3QgbmV0d29ya0Vycm9yID0gbmV3IEVtYWlsU2VydmljZUVycm9yKFxuICAgICAgICBgTmV0d29yayBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuICAgICAgICAnTkVUV09SS19FUlJPUidcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIFJlY29yZCBuZXR3b3JrIGVycm9yIGluIG1vbml0b3JcbiAgICAgIGVtYWlsU2VydmljZU1vbml0b3IucmVjb3JkRmFpbHVyZShcbiAgICAgICAgeyBtZXNzYWdlOiBuZXR3b3JrRXJyb3IubWVzc2FnZSwgY29kZTogbmV0d29ya0Vycm9yLmNvZGUgfSxcbiAgICAgICAgcmVzcG9uc2VUaW1lXG4gICAgICApO1xuICAgICAgXG4gICAgICB0aHJvdyBuZXR3b3JrRXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2VuZFZlcmlmaWNhdGlvbkVtYWlsKGVtYWlsOiBzdHJpbmcsIGNvZGU6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5yZXNlbmQuZW1haWxzLnNlbmQoe1xuICAgICAgICBmcm9tOiBgJHt0aGlzLmNvbmZpZy5mcm9tTmFtZX0gPCR7dGhpcy5jb25maWcuZnJvbUVtYWlsfT5gLFxuICAgICAgICB0bzogW2VtYWlsXSxcbiAgICAgICAgc3ViamVjdDogJ1ZlcmlmeSB5b3VyIGVtYWlsIGFkZHJlc3MnLFxuICAgICAgICBodG1sOiB0aGlzLmdlbmVyYXRlVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZShjb2RlLCBuYW1lKSxcbiAgICAgICAgdGV4dDogdGhpcy5nZW5lcmF0ZVZlcmlmaWNhdGlvbkVtYWlsVGV4dChjb2RlLCBuYW1lKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUmVzZW5kIEFQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBNYXAgUmVzZW5kIGVycm9ycyB0byBvdXIgZXJyb3IgdHlwZXNcbiAgICAgICAgbGV0IGVtYWlsRXJyb3I6IEVtYWlsU2VydmljZUVycm9yO1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3F1b3RhJykgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2xpbWl0JykpIHtcbiAgICAgICAgICBlbWFpbEVycm9yID0gbmV3IEVtYWlsU2VydmljZUVycm9yKCdFbWFpbCBxdW90YSBleGNlZWRlZCcsICdRVU9UQV9FWENFRURFRCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdpbnZhbGlkJykgJiYgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2VtYWlsJykpIHtcbiAgICAgICAgICBlbWFpbEVycm9yID0gbmV3IEVtYWlsU2VydmljZUVycm9yKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnLCAnSU5WQUxJRF9FTUFJTCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVtYWlsRXJyb3IgPSBuZXcgRW1haWxTZXJ2aWNlRXJyb3IoYFJlc2VuZCBBUEkgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCAnQVBJX0VSUk9SJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlY29yZCBmYWlsdXJlIGluIG1vbml0b3JcbiAgICAgICAgZW1haWxTZXJ2aWNlTW9uaXRvci5yZWNvcmRGYWlsdXJlKFxuICAgICAgICAgIHsgbWVzc2FnZTogZW1haWxFcnJvci5tZXNzYWdlLCBjb2RlOiBlbWFpbEVycm9yLmNvZGUgfSxcbiAgICAgICAgICByZXNwb25zZVRpbWVcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHRocm93IGVtYWlsRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlY29yZCBzdWNjZXNzIGluIG1vbml0b3JcbiAgICAgIGVtYWlsU2VydmljZU1vbml0b3IucmVjb3JkU3VjY2VzcyhyZXNwb25zZVRpbWUpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnVmVyaWZpY2F0aW9uIGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5OicsIGRhdGE/LmlkKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVtYWlsU2VydmljZUVycm9yKSB7XG4gICAgICAgIC8vIEFscmVhZHkgcmVjb3JkZWQgaW4gbW9uaXRvciBhYm92ZVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5lcnJvcignTmV0d29yayBlcnJvciBzZW5kaW5nIGVtYWlsOicsIGVycm9yKTtcbiAgICAgIGNvbnN0IG5ldHdvcmtFcnJvciA9IG5ldyBFbWFpbFNlcnZpY2VFcnJvcihcbiAgICAgICAgYE5ldHdvcmsgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCxcbiAgICAgICAgJ05FVFdPUktfRVJST1InXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBSZWNvcmQgbmV0d29yayBlcnJvciBpbiBtb25pdG9yXG4gICAgICBlbWFpbFNlcnZpY2VNb25pdG9yLnJlY29yZEZhaWx1cmUoXG4gICAgICAgIHsgbWVzc2FnZTogbmV0d29ya0Vycm9yLm1lc3NhZ2UsIGNvZGU6IG5ldHdvcmtFcnJvci5jb2RlIH0sXG4gICAgICAgIHJlc3BvbnNlVGltZVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgdGhyb3cgbmV0d29ya0Vycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVWZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlKGNvZGU6IHN0cmluZywgbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFxuICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICA8aHRtbCBsYW5nPVwiZW5cIj5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj5cbiAgICAgICAgPHRpdGxlPlZlcmlmeSBZb3VyIEVtYWlsPC90aXRsZT5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICAgICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAubG9nbyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIGNvbG9yOiAjMjJjNTVlO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnZlcmlmaWNhdGlvbi1jb2RlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogMzBweCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY29kZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDMycHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiA0cHg7XG4gICAgICAgICAgICBjb2xvcjogIzIyYzU1ZTtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5mb290ZXIge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlOWVjZWY7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBjb2xvcjogIzZjNzU3ZDtcbiAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCI+8J+MsSBGYW5jeSBQbGFudGllczwvZGl2PlxuICAgICAgICAgIDxoMT5WZXJpZnkgWW91ciBFbWFpbCBBZGRyZXNzPC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cD5IaSAke25hbWV9LDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPldlbGNvbWUgdG8gRmFuY3kgUGxhbnRpZXMhIFRvIGNvbXBsZXRlIHlvdXIgYWNjb3VudCBzZXR1cCwgcGxlYXNlIHZlcmlmeSB5b3VyIGVtYWlsIGFkZHJlc3MgYnkgZW50ZXJpbmcgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGJlbG93OjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2ZXJpZmljYXRpb24tY29kZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2RlXCI+JHtjb2RlfTwvZGl2PlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAxMHB4IDAgMCAwOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNmM3NTdkO1wiPlxuICAgICAgICAgICAgVGhpcyBjb2RlIGV4cGlyZXMgaW4gMTAgbWludXRlc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cD5JZiB5b3UgZGlkbid0IGNyZWF0ZSBhbiBhY2NvdW50IHdpdGggRmFuY3kgUGxhbnRpZXMsIHlvdSBjYW4gc2FmZWx5IGlnbm9yZSB0aGlzIGVtYWlsLjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICA8cD5UaGlzIGlzIGFuIGF1dG9tYXRlZCBtZXNzYWdlIGZyb20gRmFuY3kgUGxhbnRpZXMuIFBsZWFzZSBkbyBub3QgcmVwbHkgdG8gdGhpcyBlbWFpbC48L3A+XG4gICAgICAgICAgPHA+TmVlZCBoZWxwPyBDb250YWN0IHVzIGF0IHN1cHBvcnRAZmFuY3ktcGxhbnRpZXMuY2xvdWRhZ3JhcGhlci5jb208L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9ib2R5PlxuICAgICAgPC9odG1sPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlVmVyaWZpY2F0aW9uRW1haWxUZXh0KGNvZGU6IHN0cmluZywgbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFxuSGkgJHtuYW1lfSxcblxuV2VsY29tZSB0byBGYW5jeSBQbGFudGllcyEgVG8gY29tcGxldGUgeW91ciBhY2NvdW50IHNldHVwLCBwbGVhc2UgdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyBieSBlbnRlcmluZyB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgYmVsb3c6XG5cblZlcmlmaWNhdGlvbiBDb2RlOiAke2NvZGV9XG5cblRoaXMgY29kZSBleHBpcmVzIGluIDEwIG1pbnV0ZXMuXG5cbklmIHlvdSBkaWRuJ3QgY3JlYXRlIGFuIGFjY291bnQgd2l0aCBGYW5jeSBQbGFudGllcywgeW91IGNhbiBzYWZlbHkgaWdub3JlIHRoaXMgZW1haWwuXG5cbi0tLVxuVGhpcyBpcyBhbiBhdXRvbWF0ZWQgbWVzc2FnZSBmcm9tIEZhbmN5IFBsYW50aWVzLiBQbGVhc2UgZG8gbm90IHJlcGx5IHRvIHRoaXMgZW1haWwuXG5OZWVkIGhlbHA/IENvbnRhY3QgdXMgYXQgc3VwcG9ydEBmYW5jeS1wbGFudGllcy5jbG91ZGFncmFwaGVyLmNvbVxuICAgIGAudHJpbSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBhc3N3b3JkUmVzZXRFbWFpbFRlbXBsYXRlKHJlc2V0VXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8aGVhZD5cbiAgICAgICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XG4gICAgICAgIDx0aXRsZT5SZXNldCBZb3VyIFBhc3N3b3JkPC90aXRsZT5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICAgICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAubG9nbyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIGNvbG9yOiAjMjJjNTVlO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnJlc2V0LWJ1dHRvbiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMjJjNTVlO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAyNHB4O1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnJlc2V0LWxpbmsge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZjlmYTtcbiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbWFyZ2luOiAzMHB4IDA7XG4gICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5mb290ZXIge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlOWVjZWY7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBjb2xvcjogIzZjNzU3ZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLndhcm5pbmcge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjNjZDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmVhYTc7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgICAgICBjb2xvcjogIzg1NjQwNDtcbiAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCI+8J+MsSBGYW5jeSBQbGFudGllczwvZGl2PlxuICAgICAgICAgIDxoMT5QYXNzd29yZCBSZXNldCBSZXF1ZXN0PC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cD5IaSAke25hbWV9LDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPldlIHJlY2VpdmVkIGEgcmVxdWVzdCB0byByZXNldCB5b3VyIHBhc3N3b3JkIGZvciB5b3VyIEZhbmN5IFBsYW50aWVzIGFjY291bnQuIElmIHlvdSBtYWRlIHRoaXMgcmVxdWVzdCwgY2xpY2sgdGhlIGJ1dHRvbiBiZWxvdyB0byByZXNldCB5b3VyIHBhc3N3b3JkOjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgPGEgaHJlZj1cIiR7cmVzZXRVcmx9XCIgY2xhc3M9XCJyZXNldC1idXR0b25cIj5SZXNldCBZb3VyIFBhc3N3b3JkPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxwPklmIHRoZSBidXR0b24gZG9lc24ndCB3b3JrLCB5b3UgY2FuIGNvcHkgYW5kIHBhc3RlIHRoaXMgbGluayBpbnRvIHlvdXIgYnJvd3Nlcjo8L3A+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVzZXQtbGlua1wiPlxuICAgICAgICAgIDxhIGhyZWY9XCIke3Jlc2V0VXJsfVwiPiR7cmVzZXRVcmx9PC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgPHN0cm9uZz5TZWN1cml0eSBOb3RpY2U6PC9zdHJvbmc+IFRoaXMgcGFzc3dvcmQgcmVzZXQgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIgZm9yIHlvdXIgc2VjdXJpdHkuIElmIHlvdSBkaWRuJ3QgcmVxdWVzdCB0aGlzIHBhc3N3b3JkIHJlc2V0LCB5b3UgY2FuIHNhZmVseSBpZ25vcmUgdGhpcyBlbWFpbC5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cD5JZiB5b3UncmUgaGF2aW5nIHRyb3VibGUgb3IgZGlkbid0IHJlcXVlc3QgdGhpcyByZXNldCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbS48L3A+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgPHA+VGhpcyBpcyBhbiBhdXRvbWF0ZWQgbWVzc2FnZSBmcm9tIEZhbmN5IFBsYW50aWVzLiBQbGVhc2UgZG8gbm90IHJlcGx5IHRvIHRoaXMgZW1haWwuPC9wPlxuICAgICAgICAgIDxwPk5lZWQgaGVscD8gQ29udGFjdCB1cyBhdCBzdXBwb3J0QGZhbmN5LXBsYW50aWVzLmNsb3VkYWdyYXBoZXIuY29tPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYm9keT5cbiAgICAgIDwvaHRtbD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBhc3N3b3JkUmVzZXRFbWFpbFRleHQocmVzZXRVcmw6IHN0cmluZywgbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFxuSGkgJHtuYW1lfSxcblxuV2UgcmVjZWl2ZWQgYSByZXF1ZXN0IHRvIHJlc2V0IHlvdXIgcGFzc3dvcmQgZm9yIHlvdXIgRmFuY3kgUGxhbnRpZXMgYWNjb3VudC5cblxuVG8gcmVzZXQgeW91ciBwYXNzd29yZCwgY2xpY2sgdGhpcyBsaW5rIG9yIGNvcHkgaXQgaW50byB5b3VyIGJyb3dzZXI6XG4ke3Jlc2V0VXJsfVxuXG5UaGlzIGxpbmsgd2lsbCBleHBpcmUgaW4gMSBob3VyIGZvciB5b3VyIHNlY3VyaXR5LlxuXG5JZiB5b3UgZGlkbid0IHJlcXVlc3QgdGhpcyBwYXNzd29yZCByZXNldCwgeW91IGNhbiBzYWZlbHkgaWdub3JlIHRoaXMgZW1haWwuXG5cbi0tLVxuVGhpcyBpcyBhbiBhdXRvbWF0ZWQgbWVzc2FnZSBmcm9tIEZhbmN5IFBsYW50aWVzLiBQbGVhc2UgZG8gbm90IHJlcGx5IHRvIHRoaXMgZW1haWwuXG5OZWVkIGhlbHA/IENvbnRhY3QgdXMgYXQgc3VwcG9ydEBmYW5jeS1wbGFudGllcy5jbG91ZGFncmFwaGVyLmNvbVxuICAgIGAudHJpbSgpO1xuICB9XG59XG5cbi8vIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGVtYWlsIHNlcnZpY2UgaW5zdGFuY2VcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbWFpbFNlcnZpY2UoKTogRW1haWxTZXJ2aWNlIHtcbiAgY29uc3QgY29uZmlnOiBFbWFpbENvbmZpZyA9IHtcbiAgICBhcGlLZXk6IHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZISxcbiAgICBmcm9tRW1haWw6IHByb2Nlc3MuZW52LkZST01fRU1BSUwgfHwgJ3NlbmQubWFpbC5mYW5jeS1wbGFudGllcy5jbG91ZGFncmFwaGVyLmNvbScsXG4gICAgZnJvbU5hbWU6IHByb2Nlc3MuZW52LkZST01fTkFNRSB8fCAnRmFuY3kgUGxhbnRpZXMnLFxuICB9O1xuXG4gIGlmICghY29uZmlnLmFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUkVTRU5EX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzZW5kRW1haWxTZXJ2aWNlKGNvbmZpZyk7XG59Il0sIm5hbWVzIjpbIlJlc2VuZEVtYWlsU2VydmljZSIsImNyZWF0ZUVtYWlsU2VydmljZSIsImNvbmZpZyIsInJlc2VuZCIsIlJlc2VuZCIsImFwaUtleSIsInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCJlbWFpbCIsInJlc2V0VG9rZW4iLCJuYW1lIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsInJlc2V0VXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJkYXRhIiwiZXJyb3IiLCJlbWFpbHMiLCJzZW5kIiwiZnJvbSIsImZyb21OYW1lIiwiZnJvbUVtYWlsIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsImdlbmVyYXRlUGFzc3dvcmRSZXNldEVtYWlsVGVtcGxhdGUiLCJ0ZXh0IiwiZ2VuZXJhdGVQYXNzd29yZFJlc2V0RW1haWxUZXh0IiwicmVzcG9uc2VUaW1lIiwiY29uc29sZSIsImVtYWlsRXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJFbWFpbFNlcnZpY2VFcnJvciIsImVtYWlsU2VydmljZU1vbml0b3IiLCJyZWNvcmRGYWlsdXJlIiwiY29kZSIsInJlY29yZFN1Y2Nlc3MiLCJsb2ciLCJpZCIsIm5ldHdvcmtFcnJvciIsIkVycm9yIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsIiwiZ2VuZXJhdGVWZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlIiwiZ2VuZXJhdGVWZXJpZmljYXRpb25FbWFpbFRleHQiLCJ0cmltIiwiUkVTRU5EX0FQSV9LRVkiLCJGUk9NX0VNQUlMIiwiRlJPTV9OQU1FIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztRQUthQTtlQUFBQTs7UUF3V0dDO2VBQUFBOzs7UUE3V1Q7d0JBQ2dCOzhCQUNzQztxQ0FDekI7QUFFN0IsTUFBTUQ7SUFJWCxZQUFZRSxNQUFtQixDQUFFO1FBQy9CLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUlDLGNBQU0sQ0FBQ0YsT0FBT0csTUFBTTtRQUN0QyxJQUFJLENBQUNILE1BQU0sR0FBR0E7SUFDaEI7SUFFQSxNQUFNSSx1QkFBdUJDLEtBQWEsRUFBRUMsVUFBa0IsRUFBRUMsSUFBWSxFQUFvQjtRQUM5RixNQUFNQyxZQUFZQyxLQUFLQyxHQUFHO1FBRTFCLElBQUk7WUFDRixNQUFNQyxXQUFXLEdBQUdDLFFBQVFDLEdBQUcsQ0FBQ0MsbUJBQW1CLENBQUMsMkJBQTJCLEVBQUVSLFlBQVk7WUFFN0YsTUFBTSxFQUFFUyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDZixNQUFNLENBQUNnQixNQUFNLENBQUNDLElBQUksQ0FBQztnQkFDcERDLE1BQU0sR0FBRyxJQUFJLENBQUNuQixNQUFNLENBQUNvQixRQUFRLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQ3BCLE1BQU0sQ0FBQ3FCLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFEQyxJQUFJO29CQUFDakI7aUJBQU07Z0JBQ1hrQixTQUFTO2dCQUNUQyxNQUFNLElBQUksQ0FBQ0Msa0NBQWtDLENBQUNkLFVBQVVKO2dCQUN4RG1CLE1BQU0sSUFBSSxDQUFDQyw4QkFBOEIsQ0FBQ2hCLFVBQVVKO1lBQ3REO1lBRUEsTUFBTXFCLGVBQWVuQixLQUFLQyxHQUFHLEtBQUtGO1lBRWxDLElBQUlRLE9BQU87Z0JBQ1RhLFFB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