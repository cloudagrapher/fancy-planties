{"version":3,"sources":["/Users/stefanbekker/projects/fancy-planties/jest.setup.js"],"sourcesContent":["// Global test setup - only essential browser API mocks and Next.js integration\nimport '@testing-library/jest-dom';\n\n// Essential Node.js polyfills for Jest environment\nglobal.setImmediate = global.setImmediate || ((fn, ...args) => setTimeout(fn, 0, ...args));\nglobal.clearImmediate = global.clearImmediate || ((id) => clearTimeout(id));\n\n// Process environment setup\nif (typeof global.process === 'undefined') {\n  global.process = {\n    env: { NODE_ENV: 'test' },\n    nextTick: (fn) => setTimeout(fn, 0),\n  };\n}\n\n// Set database URL for tests to use localhost instead of postgres hostname\nprocess.env.DATABASE_URL = 'postgresql://postgres:postgres@localhost:5433/fancy_planties';\n\n// Essential Next.js mocks - moved to test-utils for better organization\njest.mock('next/navigation', () => require('./src/test-utils/mocks/nextjs-mocks').navigationMock);\njest.mock('next/image', () => require('./src/test-utils/mocks/nextjs-mocks').imageMock);\njest.mock('next/server', () => require('./src/test-utils/mocks/nextjs-mocks').serverMock);\njest.mock('next/headers', () => require('./src/test-utils/mocks/nextjs-mocks').headersMock);\n\n// Essential browser API mocks\nrequire('./src/test-utils/setup/browser-mocks');\n\n// Component mocks are now handled per-test basis, not globally\n\n// Global test cleanup - minimal and focused\nbeforeEach(() => {\n  // Clear all mocks before each test\n  jest.clearAllMocks();\n  \n  // Reset DOM\n  if (typeof document !== 'undefined') {\n    document.body.innerHTML = '';\n  }\n});\n\nafterEach(() => {\n  // Clean up timers\n  jest.clearAllTimers();\n});"],"names":["jest","mock","require","navigationMock","imageMock","serverMock","headersMock","global","setImmediate","fn","args","setTimeout","clearImmediate","id","clearTimeout","process","env","NODE_ENV","nextTick","DATABASE_URL","beforeEach","clearAllMocks","document","body","innerHTML","afterEach","clearAllTimers"],"mappings":"AAAA,+EAA+E;;AAkB/E,wEAAwE;AACxEA,KAAKC,IAAI,CAAC,mBAAmB,IAAMC,QAAQ,uCAAuCC,cAAc;AAChGH,KAAKC,IAAI,CAAC,cAAc,IAAMC,QAAQ,uCAAuCE,SAAS;AACtFJ,KAAKC,IAAI,CAAC,eAAe,IAAMC,QAAQ,uCAAuCG,UAAU;AACxFL,KAAKC,IAAI,CAAC,gBAAgB,IAAMC,QAAQ,uCAAuCI,WAAW;;;;QArBnF;AAEP,mDAAmD;AACnDC,OAAOC,YAAY,GAAGD,OAAOC,YAAY,IAAK,CAAA,CAACC,IAAI,GAAGC,OAASC,WAAWF,IAAI,MAAMC,KAAI;AACxFH,OAAOK,cAAc,GAAGL,OAAOK,cAAc,IAAK,CAAA,CAACC,KAAOC,aAAaD,GAAE;AAEzE,4BAA4B;AAC5B,IAAI,OAAON,OAAOQ,OAAO,KAAK,aAAa;IACzCR,OAAOQ,OAAO,GAAG;QACfC,KAAK;YAAEC,UAAU;QAAO;QACxBC,UAAU,CAACT,KAAOE,WAAWF,IAAI;IACnC;AACF;AAEA,2EAA2E;AAC3EM,QAAQC,GAAG,CAACG,YAAY,GAAG;AAQ3B,8BAA8B;AAC9BjB,QAAQ;AAER,+DAA+D;AAE/D,4CAA4C;AAC5CkB,WAAW;IACT,mCAAmC;IACnCpB,KAAKqB,aAAa;IAElB,YAAY;IACZ,IAAI,OAAOC,aAAa,aAAa;QACnCA,SAASC,IAAI,CAACC,SAAS,GAAG;IAC5B;AACF;AAEAC,UAAU;IACR,kBAAkB;IAClBzB,KAAK0B,cAAc;AACrB"}