b7edfb404cc89be7499e3b24dabee0fa
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _emailverificationcodeservice = require("../email-verification-code-service");
(0, _globals.describe)('EmailVerificationCodeService - Unit Tests', ()=>{
    (0, _globals.describe)('VerificationCodeError', ()=>{
        (0, _globals.it)('should create error with correct message and code', ()=>{
            const error = new _emailverificationcodeservice.VerificationCodeError('Test message', _emailverificationcodeservice.VerificationError.CODE_EXPIRED);
            (0, _globals.expect)(error.message).toBe('Test message');
            (0, _globals.expect)(error.code).toBe(_emailverificationcodeservice.VerificationError.CODE_EXPIRED);
            (0, _globals.expect)(error.name).toBe('VerificationCodeError');
        });
    });
    (0, _globals.describe)('VerificationError enum', ()=>{
        (0, _globals.it)('should have all required error codes', ()=>{
            (0, _globals.expect)(_emailverificationcodeservice.VerificationError.CODE_EXPIRED).toBe('CODE_EXPIRED');
            (0, _globals.expect)(_emailverificationcodeservice.VerificationError.CODE_INVALID).toBe('CODE_INVALID');
            (0, _globals.expect)(_emailverificationcodeservice.VerificationError.TOO_MANY_ATTEMPTS).toBe('TOO_MANY_ATTEMPTS');
            (0, _globals.expect)(_emailverificationcodeservice.VerificationError.USER_NOT_FOUND).toBe('USER_NOT_FOUND');
            (0, _globals.expect)(_emailverificationcodeservice.VerificationError.ALREADY_VERIFIED).toBe('ALREADY_VERIFIED');
        });
    });
    (0, _globals.describe)('Code generation security', ()=>{
        (0, _globals.it)('should generate cryptographically secure codes', ()=>{
            // Test the crypto.randomBytes functionality directly
            const crypto = require('crypto');
            const originalRandomBytes = crypto.randomBytes;
            // Mock to return predictable values for testing
            const mockBuffer = Buffer.from([
                0,
                0,
                0,
                1
            ]); // Small number
            crypto.randomBytes = _globals.jest.fn().mockReturnValue(mockBuffer);
            // Test the logic that would be in generateSecureCode
            const buffer = crypto.randomBytes(4);
            const randomNumber = buffer.readUInt32BE(0);
            const code = (randomNumber % 1000000).toString().padStart(6, '0');
            (0, _globals.expect)(code).toMatch(/^\d{6}$/);
            (0, _globals.expect)(code.length).toBe(6);
            (0, _globals.expect)(code).toBe('000001'); // Should pad with leading zeros
            // Restore original function
            crypto.randomBytes = originalRandomBytes;
        });
        (0, _globals.it)('should generate different codes with different random inputs', ()=>{
            const crypto = require('crypto');
            const originalRandomBytes = crypto.randomBytes;
            // Test with different mock values
            const testCases = [
                {
                    buffer: Buffer.from([
                        0,
                        0,
                        0,
                        1
                    ]),
                    expected: '000001'
                },
                {
                    buffer: Buffer.from([
                        0,
                        0,
                        39,
                        16
                    ]),
                    expected: '010000'
                },
                {
                    buffer: Buffer.from([
                        0,
                        15,
                        66,
                        64
                    ]),
                    expected: '999999'
                }
            ];
            testCases.forEach(({ buffer, expected })=>{
                crypto.randomBytes = _globals.jest.fn().mockReturnValue(buffer);
                const randomNumber = buffer.readUInt32BE(0);
                const code = (randomNumber % 1000000).toString().padStart(6, '0');
                (0, _globals.expect)(code).toBe(expected);
                (0, _globals.expect)(code.length).toBe(6);
            });
            // Restore original function
            crypto.randomBytes = originalRandomBytes;
        });
        (0, _globals.it)('should handle large random numbers correctly', ()=>{
            const crypto = require('crypto');
            const originalRandomBytes = crypto.randomBytes;
            // Test with maximum 32-bit value
            const maxBuffer = Buffer.from([
                255,
                255,
                255,
                255
            ]);
            crypto.randomBytes = _globals.jest.fn().mockReturnValue(maxBuffer);
            const randomNumber = maxBuffer.readUInt32BE(0);
            const code = (randomNumber % 1000000).toString().padStart(6, '0');
            (0, _globals.expect)(code).toMatch(/^\d{6}$/);
            (0, _globals.expect)(code.length).toBe(6);
            (0, _globals.expect)(parseInt(code)).toBeLessThan(1000000);
            // Restore original function
            crypto.randomBytes = originalRandomBytes;
        });
    });
    (0, _globals.describe)('Constants and configuration', ()=>{
        (0, _globals.it)('should have correct service constants', ()=>{
            // These would be the constants from the service
            const CODE_LENGTH = 6;
            const EXPIRY_MINUTES = 10;
            const MAX_ATTEMPTS = 5;
            (0, _globals.expect)(CODE_LENGTH).toBe(6);
            (0, _globals.expect)(EXPIRY_MINUTES).toBe(10);
            (0, _globals.expect)(MAX_ATTEMPTS).toBe(5);
        });
        (0, _globals.it)('should calculate correct expiration time', ()=>{
            const EXPIRY_MINUTES = 10;
            const beforeTime = Date.now();
            const expiresAt = new Date(Date.now() + EXPIRY_MINUTES * 60 * 1000);
            const afterTime = Date.now();
            const expectedMin = beforeTime + 9.5 * 60 * 1000; // 9.5 minutes
            const expectedMax = afterTime + 10.5 * 60 * 1000; // 10.5 minutes
            (0, _globals.expect)(expiresAt.getTime()).toBeGreaterThan(expectedMin);
            (0, _globals.expect)(expiresAt.getTime()).toBeLessThan(expectedMax);
        });
    });
    (0, _globals.describe)('Validation logic', ()=>{
        (0, _globals.it)('should correctly identify expired codes', ()=>{
            const now = new Date();
            const expiredCode = new Date(now.getTime() - 5 * 60 * 1000); // 5 minutes ago
            const validCode = new Date(now.getTime() + 5 * 60 * 1000); // 5 minutes from now
            (0, _globals.expect)(now > expiredCode).toBe(true);
            (0, _globals.expect)(now > validCode).toBe(false);
        });
        (0, _globals.it)('should correctly identify max attempts exceeded', ()=>{
            const MAX_ATTEMPTS = 5;
            (0, _globals.expect)(5 >= MAX_ATTEMPTS).toBe(true); // At max attempts
            (0, _globals.expect)(6 >= MAX_ATTEMPTS).toBe(true); // Over max attempts
            (0, _globals.expect)(4 >= MAX_ATTEMPTS).toBe(false); // Under max attempts
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2xpYi9zZXJ2aWNlcy9fX3Rlc3RzX18vZW1haWwtdmVyaWZpY2F0aW9uLWNvZGUtc2VydmljZS11bml0LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFZlcmlmaWNhdGlvbkVycm9yLCBWZXJpZmljYXRpb25Db2RlRXJyb3IgfSBmcm9tICcuLi9lbWFpbC12ZXJpZmljYXRpb24tY29kZS1zZXJ2aWNlJztcblxuZGVzY3JpYmUoJ0VtYWlsVmVyaWZpY2F0aW9uQ29kZVNlcnZpY2UgLSBVbml0IFRlc3RzJywgKCkgPT4ge1xuICBkZXNjcmliZSgnVmVyaWZpY2F0aW9uQ29kZUVycm9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGVycm9yIHdpdGggY29ycmVjdCBtZXNzYWdlIGFuZCBjb2RlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgVmVyaWZpY2F0aW9uQ29kZUVycm9yKCdUZXN0IG1lc3NhZ2UnLCBWZXJpZmljYXRpb25FcnJvci5DT0RFX0VYUElSRUQpO1xuICAgICAgXG4gICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9CZSgnVGVzdCBtZXNzYWdlJyk7XG4gICAgICBleHBlY3QoZXJyb3IuY29kZSkudG9CZShWZXJpZmljYXRpb25FcnJvci5DT0RFX0VYUElSRUQpO1xuICAgICAgZXhwZWN0KGVycm9yLm5hbWUpLnRvQmUoJ1ZlcmlmaWNhdGlvbkNvZGVFcnJvcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVmVyaWZpY2F0aW9uRXJyb3IgZW51bScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgYWxsIHJlcXVpcmVkIGVycm9yIGNvZGVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFZlcmlmaWNhdGlvbkVycm9yLkNPREVfRVhQSVJFRCkudG9CZSgnQ09ERV9FWFBJUkVEJyk7XG4gICAgICBleHBlY3QoVmVyaWZpY2F0aW9uRXJyb3IuQ09ERV9JTlZBTElEKS50b0JlKCdDT0RFX0lOVkFMSUQnKTtcbiAgICAgIGV4cGVjdChWZXJpZmljYXRpb25FcnJvci5UT09fTUFOWV9BVFRFTVBUUykudG9CZSgnVE9PX01BTllfQVRURU1QVFMnKTtcbiAgICAgIGV4cGVjdChWZXJpZmljYXRpb25FcnJvci5VU0VSX05PVF9GT1VORCkudG9CZSgnVVNFUl9OT1RfRk9VTkQnKTtcbiAgICAgIGV4cGVjdChWZXJpZmljYXRpb25FcnJvci5BTFJFQURZX1ZFUklGSUVEKS50b0JlKCdBTFJFQURZX1ZFUklGSUVEJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb2RlIGdlbmVyYXRpb24gc2VjdXJpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjcnlwdG9ncmFwaGljYWxseSBzZWN1cmUgY29kZXMnLCAoKSA9PiB7XG4gICAgICAvLyBUZXN0IHRoZSBjcnlwdG8ucmFuZG9tQnl0ZXMgZnVuY3Rpb25hbGl0eSBkaXJlY3RseVxuICAgICAgY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG4gICAgICBjb25zdCBvcmlnaW5hbFJhbmRvbUJ5dGVzID0gY3J5cHRvLnJhbmRvbUJ5dGVzO1xuICAgICAgXG4gICAgICAvLyBNb2NrIHRvIHJldHVybiBwcmVkaWN0YWJsZSB2YWx1ZXMgZm9yIHRlc3RpbmdcbiAgICAgIGNvbnN0IG1vY2tCdWZmZXIgPSBCdWZmZXIuZnJvbShbMCwgMCwgMCwgMV0pOyAvLyBTbWFsbCBudW1iZXJcbiAgICAgIGNyeXB0by5yYW5kb21CeXRlcyA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUobW9ja0J1ZmZlcik7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgdGhlIGxvZ2ljIHRoYXQgd291bGQgYmUgaW4gZ2VuZXJhdGVTZWN1cmVDb2RlXG4gICAgICBjb25zdCBidWZmZXIgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoNCk7XG4gICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBidWZmZXIucmVhZFVJbnQzMkJFKDApO1xuICAgICAgY29uc3QgY29kZSA9IChyYW5kb21OdW1iZXIgJSAxMDAwMDAwKS50b1N0cmluZygpLnBhZFN0YXJ0KDYsICcwJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb2RlKS50b01hdGNoKC9eXFxkezZ9JC8pO1xuICAgICAgZXhwZWN0KGNvZGUubGVuZ3RoKS50b0JlKDYpO1xuICAgICAgZXhwZWN0KGNvZGUpLnRvQmUoJzAwMDAwMScpOyAvLyBTaG91bGQgcGFkIHdpdGggbGVhZGluZyB6ZXJvc1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIGZ1bmN0aW9uXG4gICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMgPSBvcmlnaW5hbFJhbmRvbUJ5dGVzO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBkaWZmZXJlbnQgY29kZXMgd2l0aCBkaWZmZXJlbnQgcmFuZG9tIGlucHV0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxSYW5kb21CeXRlcyA9IGNyeXB0by5yYW5kb21CeXRlcztcbiAgICAgIFxuICAgICAgLy8gVGVzdCB3aXRoIGRpZmZlcmVudCBtb2NrIHZhbHVlc1xuICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICB7IGJ1ZmZlcjogQnVmZmVyLmZyb20oWzAsIDAsIDAsIDFdKSwgZXhwZWN0ZWQ6ICcwMDAwMDEnIH0sXG4gICAgICAgIHsgYnVmZmVyOiBCdWZmZXIuZnJvbShbMCwgMCwgMzksIDE2XSksIGV4cGVjdGVkOiAnMDEwMDAwJyB9LCAvLyAxMDAwMFxuICAgICAgICB7IGJ1ZmZlcjogQnVmZmVyLmZyb20oWzAsIDE1LCA2NiwgNjRdKSwgZXhwZWN0ZWQ6ICc5OTk5OTknIH0sIC8vIENsb3NlIHRvIDEwMDAwMDBcbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGJ1ZmZlciwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKGJ1ZmZlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBidWZmZXIucmVhZFVJbnQzMkJFKDApO1xuICAgICAgICBjb25zdCBjb2RlID0gKHJhbmRvbU51bWJlciAlIDEwMDAwMDApLnRvU3RyaW5nKCkucGFkU3RhcnQoNiwgJzAnKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChjb2RlKS50b0JlKGV4cGVjdGVkKTtcbiAgICAgICAgZXhwZWN0KGNvZGUubGVuZ3RoKS50b0JlKDYpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgZnVuY3Rpb25cbiAgICAgIGNyeXB0by5yYW5kb21CeXRlcyA9IG9yaWdpbmFsUmFuZG9tQnl0ZXM7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSByYW5kb20gbnVtYmVycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUmFuZG9tQnl0ZXMgPSBjcnlwdG8ucmFuZG9tQnl0ZXM7XG4gICAgICBcbiAgICAgIC8vIFRlc3Qgd2l0aCBtYXhpbXVtIDMyLWJpdCB2YWx1ZVxuICAgICAgY29uc3QgbWF4QnVmZmVyID0gQnVmZmVyLmZyb20oWzI1NSwgMjU1LCAyNTUsIDI1NV0pO1xuICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShtYXhCdWZmZXIpO1xuICAgICAgXG4gICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBtYXhCdWZmZXIucmVhZFVJbnQzMkJFKDApO1xuICAgICAgY29uc3QgY29kZSA9IChyYW5kb21OdW1iZXIgJSAxMDAwMDAwKS50b1N0cmluZygpLnBhZFN0YXJ0KDYsICcwJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb2RlKS50b01hdGNoKC9eXFxkezZ9JC8pO1xuICAgICAgZXhwZWN0KGNvZGUubGVuZ3RoKS50b0JlKDYpO1xuICAgICAgZXhwZWN0KHBhcnNlSW50KGNvZGUpKS50b0JlTGVzc1RoYW4oMTAwMDAwMCk7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgZnVuY3Rpb25cbiAgICAgIGNyeXB0by5yYW5kb21CeXRlcyA9IG9yaWdpbmFsUmFuZG9tQnl0ZXM7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25zdGFudHMgYW5kIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3Qgc2VydmljZSBjb25zdGFudHMnLCAoKSA9PiB7XG4gICAgICAvLyBUaGVzZSB3b3VsZCBiZSB0aGUgY29uc3RhbnRzIGZyb20gdGhlIHNlcnZpY2VcbiAgICAgIGNvbnN0IENPREVfTEVOR1RIID0gNjtcbiAgICAgIGNvbnN0IEVYUElSWV9NSU5VVEVTID0gMTA7XG4gICAgICBjb25zdCBNQVhfQVRURU1QVFMgPSA1O1xuICAgICAgXG4gICAgICBleHBlY3QoQ09ERV9MRU5HVEgpLnRvQmUoNik7XG4gICAgICBleHBlY3QoRVhQSVJZX01JTlVURVMpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KE1BWF9BVFRFTVBUUykudG9CZSg1KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGNvcnJlY3QgZXhwaXJhdGlvbiB0aW1lJywgKCkgPT4ge1xuICAgICAgY29uc3QgRVhQSVJZX01JTlVURVMgPSAxMDtcbiAgICAgIGNvbnN0IGJlZm9yZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIEVYUElSWV9NSU5VVEVTICogNjAgKiAxMDAwKTtcbiAgICAgIGNvbnN0IGFmdGVyVGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGV4cGVjdGVkTWluID0gYmVmb3JlVGltZSArIDkuNSAqIDYwICogMTAwMDsgLy8gOS41IG1pbnV0ZXNcbiAgICAgIGNvbnN0IGV4cGVjdGVkTWF4ID0gYWZ0ZXJUaW1lICsgMTAuNSAqIDYwICogMTAwMDsgLy8gMTAuNSBtaW51dGVzXG4gICAgICBcbiAgICAgIGV4cGVjdChleHBpcmVzQXQuZ2V0VGltZSgpKS50b0JlR3JlYXRlclRoYW4oZXhwZWN0ZWRNaW4pO1xuICAgICAgZXhwZWN0KGV4cGlyZXNBdC5nZXRUaW1lKCkpLnRvQmVMZXNzVGhhbihleHBlY3RlZE1heCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdWYWxpZGF0aW9uIGxvZ2ljJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29ycmVjdGx5IGlkZW50aWZ5IGV4cGlyZWQgY29kZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3QgZXhwaXJlZENvZGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpIC0gNSAqIDYwICogMTAwMCk7IC8vIDUgbWludXRlcyBhZ29cbiAgICAgIGNvbnN0IHZhbGlkQ29kZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyA1ICogNjAgKiAxMDAwKTsgLy8gNSBtaW51dGVzIGZyb20gbm93XG4gICAgICBcbiAgICAgIGV4cGVjdChub3cgPiBleHBpcmVkQ29kZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChub3cgPiB2YWxpZENvZGUpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb3JyZWN0bHkgaWRlbnRpZnkgbWF4IGF0dGVtcHRzIGV4Y2VlZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgTUFYX0FUVEVNUFRTID0gNTtcbiAgICAgIFxuICAgICAgZXhwZWN0KDUgPj0gTUFYX0FUVEVNUFRTKS50b0JlKHRydWUpOyAvLyBBdCBtYXggYXR0ZW1wdHNcbiAgICAgIGV4cGVjdCg2ID49IE1BWF9BVFRFTVBUUykudG9CZSh0cnVlKTsgLy8gT3ZlciBtYXggYXR0ZW1wdHNcbiAgICAgIGV4cGVjdCg0ID49IE1BWF9BVFRFTVBUUykudG9CZShmYWxzZSk7IC8vIFVuZGVyIG1heCBhdHRlbXB0c1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXJyb3IiLCJWZXJpZmljYXRpb25Db2RlRXJyb3IiLCJWZXJpZmljYXRpb25FcnJvciIsIkNPREVfRVhQSVJFRCIsImV4cGVjdCIsIm1lc3NhZ2UiLCJ0b0JlIiwiY29kZSIsIm5hbWUiLCJDT0RFX0lOVkFMSUQiLCJUT09fTUFOWV9BVFRFTVBUUyIsIlVTRVJfTk9UX0ZPVU5EIiwiQUxSRUFEWV9WRVJJRklFRCIsImNyeXB0byIsInJlcXVpcmUiLCJvcmlnaW5hbFJhbmRvbUJ5dGVzIiwicmFuZG9tQnl0ZXMiLCJtb2NrQnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsImplc3QiLCJmbiIsIm1vY2tSZXR1cm5WYWx1ZSIsImJ1ZmZlciIsInJhbmRvbU51bWJlciIsInJlYWRVSW50MzJCRSIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJ0b01hdGNoIiwibGVuZ3RoIiwidGVzdENhc2VzIiwiZXhwZWN0ZWQiLCJmb3JFYWNoIiwibWF4QnVmZmVyIiwicGFyc2VJbnQiLCJ0b0JlTGVzc1RoYW4iLCJDT0RFX0xFTkdUSCIsIkVYUElSWV9NSU5VVEVTIiwiTUFYX0FUVEVNUFRTIiwiYmVmb3JlVGltZSIsIkRhdGUiLCJub3ciLCJleHBpcmVzQXQiLCJhZnRlclRpbWUiLCJleHBlY3RlZE1pbiIsImV4cGVjdGVkTWF4IiwiZ2V0VGltZSIsInRvQmVHcmVhdGVyVGhhbiIsImV4cGlyZWRDb2RlIiwidmFsaWRDb2RlIl0sIm1hcHBpbmdzIjoiOzs7O3lCQUEyQzs4Q0FDYztBQUV6REEsSUFBQUEs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