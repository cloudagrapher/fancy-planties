b24f662c0f6e0ce07004cbe1ee02a7f6
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "POST", {
    enumerable: true,
    get: function() {
        return POST;
    }
});
const _server = require("next/server");
const _auth = require("../../../../lib/auth");
const _validation = require("../../../../lib/auth/validation");
const _middleware = require("../../../../lib/auth/middleware");
const _emailverificationcodeservice = require("../../../../lib/services/email-verification-code-service");
const _emailservice = require("../../../../lib/services/email-service");
const _resendemailservice = require("../../../../lib/services/resend-email-service");
async function POST(request) {
    return (0, _middleware.withRateLimit)(request, async (req)=>{
        try {
            const body = await req.json();
            // Validate input
            const validation = (0, _validation.validateInput)(_validation.signUpSchema, body);
            if (!validation.success) {
                return _server.NextResponse.json({
                    error: 'Validation failed',
                    errors: validation.errors
                }, {
                    status: 400
                });
            }
            const { email, password, name } = validation.data;
            // Create unverified user
            const user = await (0, _auth.signUpUnverified)(email, password, name);
            // Generate verification code
            const verificationCode = await _emailverificationcodeservice.emailVerificationCodeService.generateCode(user.id);
            // Send verification email
            try {
                const emailService = (0, _resendemailservice.createEmailService)();
                await (0, _emailservice.sendEmailWithRetry)(emailService, email, verificationCode, name);
                console.log(`Verification email sent to ${email} for user ${user.id}`);
                return _server.NextResponse.json({
                    success: true,
                    message: 'Account created successfully. Please check your email for a verification code.',
                    requiresVerification: true,
                    user: {
                        id: user.id,
                        email: user.email,
                        name: user.name,
                        isEmailVerified: user.isEmailVerified
                    }
                });
            } catch (emailError) {
                console.error('Failed to send verification email:', emailError);
                // If email sending fails, we still created the user, so let them know they can resend
                if (emailError instanceof _emailservice.EmailServiceError) {
                    let errorMessage = 'Failed to send verification email. ';
                    switch(emailError.code){
                        case 'QUOTA_EXCEEDED':
                            errorMessage += 'Email service quota exceeded. Please try again later.';
                            break;
                        case 'INVALID_EMAIL':
                            errorMessage += 'Invalid email address provided.';
                            break;
                        case 'API_ERROR':
                            errorMessage += 'Email service error. Please try resending the verification code.';
                            break;
                        case 'NETWORK_ERROR':
                            errorMessage += 'Network error. Please check your connection and try resending.';
                            break;
                        default:
                            errorMessage += 'Please try resending the verification code.';
                    }
                    return _server.NextResponse.json({
                        success: true,
                        message: 'Account created successfully.',
                        requiresVerification: true,
                        emailError: errorMessage,
                        user: {
                            id: user.id,
                            email: user.email,
                            name: user.name,
                            isEmailVerified: user.isEmailVerified
                        }
                    });
                }
                // For unknown email errors, still return success but mention the issue
                return _server.NextResponse.json({
                    success: true,
                    message: 'Account created successfully.',
                    requiresVerification: true,
                    emailError: 'Failed to send verification email. Please try resending the verification code.',
                    user: {
                        id: user.id,
                        email: user.email,
                        name: user.name,
                        isEmailVerified: user.isEmailVerified
                    }
                });
            }
        } catch (error) {
            console.error('Sign up error:', error);
            if (error instanceof Error && error.message === 'User already exists') {
                return _server.NextResponse.json({
                    error: 'An account with this email already exists'
                }, {
                    status: 409
                });
            }
            return _server.NextResponse.json({
                error: 'Internal server error'
            }, {
                status: 500
            });
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2FwcC9hcGkvYXV0aC9zaWdudXAvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHNpZ25VcFVudmVyaWZpZWQgfSBmcm9tICdAL2xpYi9hdXRoJztcbmltcG9ydCB7IHNpZ25VcFNjaGVtYSwgdmFsaWRhdGVJbnB1dCB9IGZyb20gJ0AvbGliL2F1dGgvdmFsaWRhdGlvbic7XG5pbXBvcnQgeyB3aXRoUmF0ZUxpbWl0IH0gZnJvbSAnQC9saWIvYXV0aC9taWRkbGV3YXJlJztcbmltcG9ydCB7IGVtYWlsVmVyaWZpY2F0aW9uQ29kZVNlcnZpY2UgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9lbWFpbC12ZXJpZmljYXRpb24tY29kZS1zZXJ2aWNlJztcbmltcG9ydCB7IHNlbmRFbWFpbFdpdGhSZXRyeSwgRW1haWxTZXJ2aWNlRXJyb3IgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9lbWFpbC1zZXJ2aWNlJztcbmltcG9ydCB7IGNyZWF0ZUVtYWlsU2VydmljZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL3Jlc2VuZC1lbWFpbC1zZXJ2aWNlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgcmV0dXJuIHdpdGhSYXRlTGltaXQocmVxdWVzdCwgYXN5bmMgKHJlcSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUlucHV0KHNpZ25VcFNjaGVtYSwgYm9keSk7XG4gICAgICBpZiAoIXZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ1ZhbGlkYXRpb24gZmFpbGVkJywgZXJyb3JzOiB2YWxpZGF0aW9uLmVycm9ycyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgbmFtZSB9ID0gdmFsaWRhdGlvbi5kYXRhO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgdW52ZXJpZmllZCB1c2VyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgc2lnblVwVW52ZXJpZmllZChlbWFpbCwgcGFzc3dvcmQsIG5hbWUpO1xuICAgICAgXG4gICAgICAvLyBHZW5lcmF0ZSB2ZXJpZmljYXRpb24gY29kZVxuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uQ29kZSA9IGF3YWl0IGVtYWlsVmVyaWZpY2F0aW9uQ29kZVNlcnZpY2UuZ2VuZXJhdGVDb2RlKHVzZXIuaWQpO1xuICAgICAgXG4gICAgICAvLyBTZW5kIHZlcmlmaWNhdGlvbiBlbWFpbFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZW1haWxTZXJ2aWNlID0gY3JlYXRlRW1haWxTZXJ2aWNlKCk7XG4gICAgICAgIGF3YWl0IHNlbmRFbWFpbFdpdGhSZXRyeShlbWFpbFNlcnZpY2UsIGVtYWlsLCB2ZXJpZmljYXRpb25Db2RlLCBuYW1lKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBWZXJpZmljYXRpb24gZW1haWwgc2VudCB0byAke2VtYWlsfSBmb3IgdXNlciAke3VzZXIuaWR9YCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogJ0FjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBhIHZlcmlmaWNhdGlvbiBjb2RlLicsXG4gICAgICAgICAgcmVxdWlyZXNWZXJpZmljYXRpb246IHRydWUsXG4gICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIGlzRW1haWxWZXJpZmllZDogdXNlci5pc0VtYWlsVmVyaWZpZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgfSBjYXRjaCAoZW1haWxFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gZW1haWw6JywgZW1haWxFcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBlbWFpbCBzZW5kaW5nIGZhaWxzLCB3ZSBzdGlsbCBjcmVhdGVkIHRoZSB1c2VyLCBzbyBsZXQgdGhlbSBrbm93IHRoZXkgY2FuIHJlc2VuZFxuICAgICAgICBpZiAoZW1haWxFcnJvciBpbnN0YW5jZW9mIEVtYWlsU2VydmljZUVycm9yKSB7XG4gICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gZW1haWwuICc7XG4gICAgICAgICAgXG4gICAgICAgICAgc3dpdGNoIChlbWFpbEVycm9yLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1FVT1RBX0VYQ0VFREVEJzpcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdFbWFpbCBzZXJ2aWNlIHF1b3RhIGV4Y2VlZGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSU5WQUxJRF9FTUFJTCc6XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSAnSW52YWxpZCBlbWFpbCBhZGRyZXNzIHByb3ZpZGVkLic7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQVBJX0VSUk9SJzpcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdFbWFpbCBzZXJ2aWNlIGVycm9yLiBQbGVhc2UgdHJ5IHJlc2VuZGluZyB0aGUgdmVyaWZpY2F0aW9uIGNvZGUuJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdORVRXT1JLX0VSUk9SJzpcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdOZXR3b3JrIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCB0cnkgcmVzZW5kaW5nLic7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdQbGVhc2UgdHJ5IHJlc2VuZGluZyB0aGUgdmVyaWZpY2F0aW9uIGNvZGUuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQWNjb3VudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nLFxuICAgICAgICAgICAgcmVxdWlyZXNWZXJpZmljYXRpb246IHRydWUsXG4gICAgICAgICAgICBlbWFpbEVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICBpc0VtYWlsVmVyaWZpZWQ6IHVzZXIuaXNFbWFpbFZlcmlmaWVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIHVua25vd24gZW1haWwgZXJyb3JzLCBzdGlsbCByZXR1cm4gc3VjY2VzcyBidXQgbWVudGlvbiB0aGUgaXNzdWVcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LicsXG4gICAgICAgICAgcmVxdWlyZXNWZXJpZmljYXRpb246IHRydWUsXG4gICAgICAgICAgZW1haWxFcnJvcjogJ0ZhaWxlZCB0byBzZW5kIHZlcmlmaWNhdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSByZXNlbmRpbmcgdGhlIHZlcmlmaWNhdGlvbiBjb2RlLicsXG4gICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIGlzRW1haWxWZXJpZmllZDogdXNlci5pc0VtYWlsVmVyaWZpZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2lnbiB1cCBlcnJvcjonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09ICdVc2VyIGFscmVhZHkgZXhpc3RzJykge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ0FuIGFjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufSJdLCJuYW1lcyI6WyJQT1NUIiwicmVxdWVzdCIsIndpdGhSYXRlTGltaXQiLCJyZXEiLCJib2R5IiwianNvbiIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZUlucHV0Iiwic2lnblVwU2NoZW1hIiwic3VjY2VzcyIsIk5leHRSZXNwb25zZSIsImVycm9yIiwiZXJyb3JzIiwic3RhdHVzIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hbWUiLCJkYXRhIiwidXNlciIsInNpZ25VcFVudmVyaWZpZWQiLCJ2ZXJpZmljYXRpb25Db2RlIiwiZW1haWxWZXJpZmljYXRpb25Db2RlU2VydmljZSIsImdlbmVyYXRlQ29kZSIsImlkIiwiZW1haWxTZXJ2aWNlIiwiY3JlYXRlRW1haWxTZXJ2aWNlIiwic2VuZEVtYWlsV2l0aFJldHJ5IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJyZXF1aXJlc1ZlcmlmaWNhdGlvbiIsImlzRW1haWxWZXJpZmllZCIsImVtYWlsRXJyb3IiLCJFbWFpbFNlcnZpY2VFcnJvciIsImVycm9yTWVzc2FnZSIsImNvZGUiLCJFcnJvciJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFRc0JBOzs7ZUFBQUE7Ozt3QkFSb0I7c0JBQ1Q7NEJBQ1c7NEJBQ2Q7OENBQ2U7OEJBQ1M7b0NBQ25CO0FBRTVCLGVBQWVBLEtBQUtDLE9BQW9CO0lBQzdDLE9BQU9DLElBQUFBLHlCQUFhLEVBQUNELFNBQVMsT0FBT0U7UUFDbkMsSUFBSTtZQUNGLE1BQU1DLE9BQU8sTUFBTUQsSUFBSUUsSUFBSTtZQUUzQixpQkFBaUI7WUFDakIsTUFBTUMsYUFBYUMsSUFBQUEseUJBQWEsRUFBQ0Msd0JBQVksRUFBRUo7WUFDL0MsSUFBSSxDQUFDRSxXQUFXRyxPQUFPLEVBQUU7Z0JBQ3ZCLE9BQU9DLG9CQUFZLENBQUNMLElBQUksQ0FDdEI7b0JBQUVNLE9BQU87b0JBQXFCQyxRQUFRTixXQUFXTSxNQUFNO2dCQUFDLEdBQ3hEO29CQUFFQyxRQUFRO2dCQUFJO1lB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