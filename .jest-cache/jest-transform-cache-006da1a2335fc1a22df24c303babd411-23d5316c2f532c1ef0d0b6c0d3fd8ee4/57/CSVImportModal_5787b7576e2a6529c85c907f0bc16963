96a0c567105d91ee21af5bc9d198d351
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get CSVImportModal () {
        return CSVImportModal;
    },
    get default () {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _lucidereact = require("lucide-react");
const _FileUpload = require("./FileUpload");
const _ImportTypeSelector = require("./ImportTypeSelector");
const _CSVPreview = require("./CSVPreview");
const _ImportProgress = require("./ImportProgress");
function CSVImportModal({ isOpen, onClose, onImportComplete }) {
    const [step, setStep] = (0, _react.useState)('select-type');
    const [importType, setImportType] = (0, _react.useState)(null);
    const [selectedFile, setSelectedFile] = (0, _react.useState)(null);
    const [fileContent, setFileContent] = (0, _react.useState)('');
    const [validation, setValidation] = (0, _react.useState)(null);
    const [importId, setImportId] = (0, _react.useState)(null);
    const [isLoading, setIsLoading] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    const resetModal = ()=>{
        setStep('select-type');
        setImportType(null);
        setSelectedFile(null);
        setFileContent('');
        setValidation(null);
        setImportId(null);
        setIsLoading(false);
        setError(null);
    };
    const handleClose = ()=>{
        resetModal();
        onClose();
    };
    const handleTypeSelect = (type)=>{
        setImportType(type);
        setStep('upload-file');
    };
    const handleFileSelect = (0, _react.useCallback)(async (file)=>{
        setSelectedFile(file);
        setIsLoading(true);
        setError(null);
        try {
            // Read file content
            const content = await readFileAsText(file);
            setFileContent(content);
            // Validate CSV content
            if (importType) {
                const response = await fetch('/api/import/csv/validate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        content,
                        importType
                    })
                });
                if (!response.ok) {
                    throw new Error('Failed to validate CSV');
                }
                const validationResult = await response.json();
                setValidation(validationResult);
                setStep('preview');
            }
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to process file');
        } finally{
            setIsLoading(false);
        }
    }, [
        importType
    ]);
    const readFileAsText = (file)=>{
        return new Promise((resolve, reject)=>{
            const reader = new FileReader();
            reader.onload = (e)=>resolve(e.target?.result);
            reader.onerror = ()=>reject(new Error('Failed to read file'));
            reader.readAsText(file);
        });
    };
    const handleStartImport = async ()=>{
        if (!selectedFile || !importType || !fileContent) return;
        setIsLoading(true);
        setError(null);
        try {
            const response = await fetch('/api/import/csv', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    file: {
                        name: selectedFile.name,
                        size: selectedFile.size,
                        type: selectedFile.type,
                        content: fileContent
                    },
                    importType,
                    config: {
                        skipEmptyRows: true,
                        createMissingPlants: true,
                        handleDuplicates: 'skip'
                    }
                })
            });
            if (!response.ok) {
                throw new Error('Failed to start import');
            }
            const result = await response.json();
            setImportId(result.importId);
            setStep('importing');
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to start import');
        } finally{
            setIsLoading(false);
        }
    };
    const handleImportComplete = (progress)=>{
        setStep('complete');
        onImportComplete?.(progress.summary);
    };
    const handleImportError = (errorMessage)=>{
        setError(errorMessage);
    };
    const getStepTitle = ()=>{
        switch(step){
            case 'select-type':
                return 'Import CSV Data';
            case 'upload-file':
                return 'Upload CSV File';
            case 'preview':
                return 'Preview & Confirm';
            case 'importing':
                return 'Importing Data';
            case 'complete':
                return 'Import Complete';
            default:
                return 'Import CSV Data';
        }
    };
    const canGoBack = step !== 'select-type' && step !== 'importing';
    const canGoNext = step === 'select-type' && importType || step === 'upload-file' && selectedFile || step === 'preview' && validation?.isValid;
    if (!isOpen) return null;
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "modal-overlay",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "modal-content modal-content--large",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "modal-header",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "modal-title",
                            children: getStepTitle()
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleClose,
                            disabled: isLoading,
                            className: `modal-close ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`,
                            title: isLoading ? 'Please wait...' : 'Close',
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.X, {
                                className: "w-5 h-5"
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "modal-body",
                    children: [
                        error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "mb-6 card card-body bg-red-50 border border-red-200",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sm text-error",
                                children: error
                            })
                        }),
                        step === 'select-type' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_ImportTypeSelector.ImportTypeSelector, {
                            selectedType: importType,
                            onTypeSelect: handleTypeSelect
                        }),
                        step === 'upload-file' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-6",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Upload, {
                                            className: "w-12 h-12 text-primary-500 mx-auto mb-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                            className: "text-lg font-medium text-neutral-900 mb-2",
                                            children: [
                                                "Upload your ",
                                                importType?.replace('_', ' '),
                                                " CSV file"
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-neutral-600",
                                            children: "Make sure your CSV file has the required columns for this import type."
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_FileUpload.FileUpload, {
                                    onFileSelect: handleFileSelect,
                                    acceptedTypes: [
                                        '.csv',
                                        'text/csv'
                                    ]
                                })
                            ]
                        }),
                        step === 'preview' && validation && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-6",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.FileText, {
                                            className: "w-12 h-12 text-blue-500 mx-auto mb-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                            className: "text-lg font-medium text-gray-900 mb-2",
                                            children: "Review your data"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-gray-600",
                                            children: "Check the preview below and confirm the import when ready."
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_CSVPreview.CSVPreview, {
                                    data: validation.preview,
                                    errors: validation.errors,
                                    isValid: validation.isValid
                                })
                            ]
                        }),
                        step === 'importing' && importId && /*#__PURE__*/ (0, _jsxruntime.jsx)(_ImportProgress.ImportProgress, {
                            importId: importId,
                            onComplete: handleImportComplete,
                            onError: handleImportError
                        }),
                        step === 'complete' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "text-center space-y-6",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CheckCircle, {
                                    className: "w-16 h-16 text-green-500 mx-auto"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                            className: "text-lg font-medium text-gray-900 mb-2",
                                            children: "Import completed successfully!"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-gray-600",
                                            children: "Your CSV data has been imported into your plant collection."
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "flex space-x-2",
                            children: canGoBack && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>{
                                    if (step === 'upload-file') setStep('select-type');
                                    else if (step === 'preview') setStep('upload-file');
                                },
                                disabled: isLoading,
                                className: `btn btn--outline ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Back"
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "flex space-x-2",
                            children: step === 'complete' ? /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleClose,
                                className: "btn btn--primary",
                                children: "Done"
                            }) : step === 'preview' && validation?.isValid ? /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleStartImport,
                                disabled: isLoading,
                                className: `btn btn--primary ${isLoading ? 'btn--loading' : ''}`,
                                children: isLoading ? 'Starting...' : 'Start Import'
                            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleClose,
                                disabled: isLoading,
                                className: `btn btn--outline ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Cancel"
                            })
                        })
                    ]
                })
            ]
        })
    });
}
const _default = CSVImportModal;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2NvbXBvbmVudHMvaW1wb3J0L0NTVkltcG9ydE1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFgsIFVwbG9hZCwgRmlsZVRleHQsIENoZWNrQ2lyY2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEZpbGVVcGxvYWQgfSBmcm9tICcuL0ZpbGVVcGxvYWQnO1xuaW1wb3J0IHsgSW1wb3J0VHlwZVNlbGVjdG9yLCB0eXBlIEltcG9ydFR5cGUgfSBmcm9tICcuL0ltcG9ydFR5cGVTZWxlY3Rvcic7XG5pbXBvcnQgeyBDU1ZQcmV2aWV3IH0gZnJvbSAnLi9DU1ZQcmV2aWV3JztcbmltcG9ydCB7IEltcG9ydFByb2dyZXNzIH0gZnJvbSAnLi9JbXBvcnRQcm9ncmVzcyc7XG5pbXBvcnQgdHlwZSB7IEltcG9ydFByb2dyZXNzIGFzIEltcG9ydFByb2dyZXNzVHlwZSB9IGZyb20gJ0AvbGliL3ZhbGlkYXRpb24vY3N2LXNjaGVtYXMnO1xuXG5pbnRlcmZhY2UgQ1NWSW1wb3J0TW9kYWxQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25JbXBvcnRDb21wbGV0ZT86IChzdW1tYXJ5OiBhbnkpID0+IHZvaWQ7XG59XG5cbnR5cGUgU3RlcCA9ICdzZWxlY3QtdHlwZScgfCAndXBsb2FkLWZpbGUnIHwgJ3ByZXZpZXcnIHwgJ2ltcG9ydGluZycgfCAnY29tcGxldGUnO1xuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlzVmFsaWQ6IGJvb2xlYW47XG4gIGVycm9yczogc3RyaW5nW107XG4gIHByZXZpZXc6IGFueVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ1NWSW1wb3J0TW9kYWwoe1xuICBpc09wZW4sXG4gIG9uQ2xvc2UsXG4gIG9uSW1wb3J0Q29tcGxldGUsXG59OiBDU1ZJbXBvcnRNb2RhbFByb3BzKSB7XG4gIGNvbnN0IFtzdGVwLCBzZXRTdGVwXSA9IHVzZVN0YXRlPFN0ZXA+KCdzZWxlY3QtdHlwZScpO1xuICBjb25zdCBbaW1wb3J0VHlwZSwgc2V0SW1wb3J0VHlwZV0gPSB1c2VTdGF0ZTxJbXBvcnRUeXBlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZEZpbGUsIHNldFNlbGVjdGVkRmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmaWxlQ29udGVudCwgc2V0RmlsZUNvbnRlbnRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFt2YWxpZGF0aW9uLCBzZXRWYWxpZGF0aW9uXSA9IHVzZVN0YXRlPFZhbGlkYXRpb25SZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ltcG9ydElkLCBzZXRJbXBvcnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCByZXNldE1vZGFsID0gKCkgPT4ge1xuICAgIHNldFN0ZXAoJ3NlbGVjdC10eXBlJyk7XG4gICAgc2V0SW1wb3J0VHlwZShudWxsKTtcbiAgICBzZXRTZWxlY3RlZEZpbGUobnVsbCk7XG4gICAgc2V0RmlsZUNvbnRlbnQoJycpO1xuICAgIHNldFZhbGlkYXRpb24obnVsbCk7XG4gICAgc2V0SW1wb3J0SWQobnVsbCk7XG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICByZXNldE1vZGFsKCk7XG4gICAgb25DbG9zZSgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVR5cGVTZWxlY3QgPSAodHlwZTogSW1wb3J0VHlwZSkgPT4ge1xuICAgIHNldEltcG9ydFR5cGUodHlwZSk7XG4gICAgc2V0U3RlcCgndXBsb2FkLWZpbGUnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZpbGU6IEZpbGUpID0+IHtcbiAgICBzZXRTZWxlY3RlZEZpbGUoZmlsZSk7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFJlYWQgZmlsZSBjb250ZW50XG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgcmVhZEZpbGVBc1RleHQoZmlsZSk7XG4gICAgICBzZXRGaWxlQ29udGVudChjb250ZW50KTtcblxuICAgICAgLy8gVmFsaWRhdGUgQ1NWIGNvbnRlbnRcbiAgICAgIGlmIChpbXBvcnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvaW1wb3J0L2Nzdi92YWxpZGF0ZScsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgaW1wb3J0VHlwZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHZhbGlkYXRlIENTVicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2V0VmFsaWRhdGlvbih2YWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgc2V0U3RlcCgncHJldmlldycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gcHJvY2VzcyBmaWxlJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbaW1wb3J0VHlwZV0pO1xuXG4gIGNvbnN0IHJlYWRGaWxlQXNUZXh0ID0gKGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiByZXNvbHZlKGUudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgZmlsZScpKTtcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN0YXJ0SW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRGaWxlIHx8ICFpbXBvcnRUeXBlIHx8ICFmaWxlQ29udGVudCkgcmV0dXJuO1xuXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvaW1wb3J0L2NzdicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRGaWxlLm5hbWUsXG4gICAgICAgICAgICBzaXplOiBzZWxlY3RlZEZpbGUuc2l6ZSxcbiAgICAgICAgICAgIHR5cGU6IHNlbGVjdGVkRmlsZS50eXBlLFxuICAgICAgICAgICAgY29udGVudDogZmlsZUNvbnRlbnQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbXBvcnRUeXBlLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgc2tpcEVtcHR5Um93czogdHJ1ZSxcbiAgICAgICAgICAgIGNyZWF0ZU1pc3NpbmdQbGFudHM6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVEdXBsaWNhdGVzOiAnc2tpcCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzdGFydCBpbXBvcnQnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgc2V0SW1wb3J0SWQocmVzdWx0LmltcG9ydElkKTtcbiAgICAgIHNldFN0ZXAoJ2ltcG9ydGluZycpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3RhcnQgaW1wb3J0Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUltcG9ydENvbXBsZXRlID0gKHByb2dyZXNzOiBJbXBvcnRQcm9ncmVzc1R5cGUpID0+IHtcbiAgICBzZXRTdGVwKCdjb21wbGV0ZScpO1xuICAgIG9uSW1wb3J0Q29tcGxldGU/Lihwcm9ncmVzcy5zdW1tYXJ5KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbXBvcnRFcnJvciA9IChlcnJvck1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0U3RlcFRpdGxlID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoc3RlcCkge1xuICAgICAgY2FzZSAnc2VsZWN0LXR5cGUnOlxuICAgICAgICByZXR1cm4gJ0ltcG9ydCBDU1YgRGF0YSc7XG4gICAgICBjYXNlICd1cGxvYWQtZmlsZSc6XG4gICAgICAgIHJldHVybiAnVXBsb2FkIENTViBGaWxlJztcbiAgICAgIGNhc2UgJ3ByZXZpZXcnOlxuICAgICAgICByZXR1cm4gJ1ByZXZpZXcgJiBDb25maXJtJztcbiAgICAgIGNhc2UgJ2ltcG9ydGluZyc6XG4gICAgICAgIHJldHVybiAnSW1wb3J0aW5nIERhdGEnO1xuICAgICAgY2FzZSAnY29tcGxldGUnOlxuICAgICAgICByZXR1cm4gJ0ltcG9ydCBDb21wbGV0ZSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ0ltcG9ydCBDU1YgRGF0YSc7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNhbkdvQmFjayA9IHN0ZXAgIT09ICdzZWxlY3QtdHlwZScgJiYgc3RlcCAhPT0gJ2ltcG9ydGluZyc7XG4gIGNvbnN0IGNhbkdvTmV4dCA9IFxuICAgIChzdGVwID09PSAnc2VsZWN0LXR5cGUnICYmIGltcG9ydFR5cGUpIHx8XG4gICAgKHN0ZXAgPT09ICd1cGxvYWQtZmlsZScgJiYgc2VsZWN0ZWRGaWxlKSB8fFxuICAgIChzdGVwID09PSAncHJldmlldycgJiYgdmFsaWRhdGlvbj8uaXNWYWxpZCk7XG5cbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1vdmVybGF5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnQgbW9kYWwtY29udGVudC0tbGFyZ2VcIj5cbiAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICAgIHtnZXRTdGVwVGl0bGUoKX1cbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YG1vZGFsLWNsb3NlICR7aXNMb2FkaW5nID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgICB0aXRsZT17aXNMb2FkaW5nID8gJ1BsZWFzZSB3YWl0Li4uJyA6ICdDbG9zZSd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBDb250ZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IGNhcmQgY2FyZC1ib2R5IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWVycm9yXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7c3RlcCA9PT0gJ3NlbGVjdC10eXBlJyAmJiAoXG4gICAgICAgICAgICA8SW1wb3J0VHlwZVNlbGVjdG9yXG4gICAgICAgICAgICAgIHNlbGVjdGVkVHlwZT17aW1wb3J0VHlwZX1cbiAgICAgICAgICAgICAgb25UeXBlU2VsZWN0PXtoYW5kbGVUeXBlU2VsZWN0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3N0ZXAgPT09ICd1cGxvYWQtZmlsZScgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHRleHQtcHJpbWFyeS01MDAgbXgtYXV0byBtYi00XCIgLz5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LW5ldXRyYWwtOTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIFVwbG9hZCB5b3VyIHtpbXBvcnRUeXBlPy5yZXBsYWNlKCdfJywgJyAnKX0gQ1NWIGZpbGVcbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbmV1dHJhbC02MDBcIj5cbiAgICAgICAgICAgICAgICAgIE1ha2Ugc3VyZSB5b3VyIENTViBmaWxlIGhhcyB0aGUgcmVxdWlyZWQgY29sdW1ucyBmb3IgdGhpcyBpbXBvcnQgdHlwZS5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8RmlsZVVwbG9hZFxuICAgICAgICAgICAgICAgIG9uRmlsZVNlbGVjdD17aGFuZGxlRmlsZVNlbGVjdH1cbiAgICAgICAgICAgICAgICBhY2NlcHRlZFR5cGVzPXtbJy5jc3YnLCAndGV4dC9jc3YnXX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7c3RlcCA9PT0gJ3ByZXZpZXcnICYmIHZhbGlkYXRpb24gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgdGV4dC1ibHVlLTUwMCBteC1hdXRvIG1iLTRcIiAvPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgUmV2aWV3IHlvdXIgZGF0YVxuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgQ2hlY2sgdGhlIHByZXZpZXcgYmVsb3cgYW5kIGNvbmZpcm0gdGhlIGltcG9ydCB3aGVuIHJlYWR5LlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxDU1ZQcmV2aWV3XG4gICAgICAgICAgICAgICAgZGF0YT17dmFsaWRhdGlvbi5wcmV2aWV3fVxuICAgICAgICAgICAgICAgIGVycm9ycz17dmFsaWRhdGlvbi5lcnJvcnN9XG4gICAgICAgICAgICAgICAgaXNWYWxpZD17dmFsaWRhdGlvbi5pc1ZhbGlkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtzdGVwID09PSAnaW1wb3J0aW5nJyAmJiBpbXBvcnRJZCAmJiAoXG4gICAgICAgICAgICA8SW1wb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgICAgaW1wb3J0SWQ9e2ltcG9ydElkfVxuICAgICAgICAgICAgICBvbkNvbXBsZXRlPXtoYW5kbGVJbXBvcnRDb21wbGV0ZX1cbiAgICAgICAgICAgICAgb25FcnJvcj17aGFuZGxlSW1wb3J0RXJyb3J9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7c3RlcCA9PT0gJ2NvbXBsZXRlJyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHRleHQtZ3JlZW4tNTAwIG14LWF1dG9cIiAvPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgSW1wb3J0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhXG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICBZb3VyIENTViBkYXRhIGhhcyBiZWVuIGltcG9ydGVkIGludG8geW91ciBwbGFudCBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRm9vdGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTYgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGJnLWdyYXktNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICB7Y2FuR29CYWNrICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSAndXBsb2FkLWZpbGUnKSBzZXRTdGVwKCdzZWxlY3QtdHlwZScpO1xuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RlcCA9PT0gJ3ByZXZpZXcnKSBzZXRTdGVwKCd1cGxvYWQtZmlsZScpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BidG4gYnRuLS1vdXRsaW5lICR7aXNMb2FkaW5nID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYWNrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIHtzdGVwID09PSAnY29tcGxldGUnID8gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi0tcHJpbWFyeVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBEb25lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSA6IHN0ZXAgPT09ICdwcmV2aWV3JyAmJiB2YWxpZGF0aW9uPy5pc1ZhbGlkID8gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3RhcnRJbXBvcnR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BidG4gYnRuLS1wcmltYXJ5ICR7aXNMb2FkaW5nID8gJ2J0bi0tbG9hZGluZycgOiAnJ31gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICdTdGFydGluZy4uLicgOiAnU3RhcnQgSW1wb3J0J31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BidG4gYnRuLS1vdXRsaW5lICR7aXNMb2FkaW5nID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDU1ZJbXBvcnRNb2RhbDsiXSwibmFtZXMiOlsiQ1NWSW1wb3J0TW9kYWwiLCJpc09wZW4iLCJvbkNsb3NlIiwib25JbXBvcnRDb21wbGV0ZSIsInN0ZXAiLCJzZXRTdGVwIiwidXNlU3RhdGUiLCJpbXBvcnRUeXBlIiwic2V0SW1wb3J0VHlwZSIsInNlbGVjdGVkRmlsZSIsInNldFNlbGVjdGVkRmlsZSIsImZpbGVDb250ZW50Iiwic2V0RmlsZUNvbnRlbnQiLCJ2YWxpZGF0aW9uIiwic2V0VmFsaWRhdGlvbiIsImltcG9ydElkIiwic2V0SW1wb3J0SWQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwicmVzZXRNb2RhbCIsImhhbmRsZUNsb3NlIiwiaGFuZGxlVHlwZVNlbGVjdCIsInR5cGUiLCJoYW5kbGVGaWxlU2VsZWN0IiwidXNlQ2FsbGJhY2siLCJmaWxlIiwiY29udGVudCIsInJlYWRGaWxlQXNUZXh0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiRXJyb3IiLCJ2YWxpZGF0aW9uUmVzdWx0IiwianNvbiIsImVyciIsIm1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJlIiwidGFyZ2V0IiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc1RleHQiLCJoYW5kbGVTdGFydEltcG9ydCIsIm5hbWUiLCJzaXplIiwiY29uZmlnIiwic2tpcEVtcHR5Um93cyIsImNyZWF0ZU1pc3NpbmdQbGFudHMiLCJoYW5kbGVEdXBsaWNhdGVzIiwiaGFuZGxlSW1wb3J0Q29tcGxldGUiLCJwcm9ncmVzcyIsInN1bW1hcnkiLCJoYW5kbGVJbXBvcnRFcnJvciIsImVycm9yTWVzc2FnZSIsImdldFN0ZXBUaXRsZSIsImNhbkdvQmFjayIsImNhbkdvTmV4dCIsImlzVmFsaWQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInRpdGxlIiwiWCIsInAiLCJJbXBvcnRUeXBlU2VsZWN0b3IiLCJzZWxlY3RlZFR5cGUiLCJvblR5cGVTZWxlY3QiLCJVcGxvYWQiLCJoMyIsInJlcGxhY2UiLCJGaWxlVXBsb2FkIiwib25GaWxlU2VsZWN0IiwiYWNjZXB0ZWRUeXBlcyIsIkZpbGVUZXh0IiwiQ1NWUHJldmlldyIsImRhdGEiLCJwcmV2aWV3IiwiZXJyb3JzIiwiSW1wb3J0UHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25FcnJvciIsIkNoZWNrQ2lyY2xlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O1FBd0JnQkE7ZUFBQUE7O1FBd1NoQjtlQUFBOzs7O3VCQTlUc0M7NkJBQ1c7NEJBQ3RCO29DQUN5Qjs0QkFDekI7Z0NBQ0k7QUFpQnhCLFNBQVNBLGVBQWUsRUFDN0JDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxnQkFBZ0IsRUFDSTtJQUNwQixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR0MsSUFBQUEsZUFBUSxFQUFPO0lBQ3ZDLE1BQU0sQ0FB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