{"version":3,"names":["cov_5p8t0nj5s","actualCoverage","s","OfflineManager","f","isOnline","pendingEntries","isSyncing","cacheOfflineData","syncPendingEntries","_useOffline","useOffline","_react","useEffect","b","length","_jsxruntime","jsxs","className"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/components/shared/OfflineManager.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useOffline } from '@/hooks/useOffline';\n\n/**\n * OfflineManager - Handles offline functionality and storage management\n * This component should be included in the app layout to manage offline state\n */\nexport function OfflineManager() {\n  const {\n    isOnline,\n    pendingEntries,\n    isSyncing,\n    cacheOfflineData,\n    syncPendingEntries,\n  } = useOffline();\n\n  // Cache data when app loads and user is online\n  useEffect(() => {\n    if (isOnline) {\n      cacheOfflineData();\n    }\n  }, [isOnline, cacheOfflineData]);\n\n\n  // Auto-sync pending entries when coming back online\n  useEffect(() => {\n    if (isOnline && pendingEntries.length > 0 && !isSyncing) {\n      syncPendingEntries();\n    }\n  }, [isOnline, pendingEntries.length, isSyncing, syncPendingEntries]);\n\n  // Show offline indicator (optional - can be styled as needed)\n  if (!isOnline) {\n    return (\n      <div className=\"fixed top-0 left-0 right-0 bg-yellow-500 text-white text-center py-2 text-sm z-50\">\n        You are offline. {pendingEntries.length > 0 && `${pendingEntries.length} pending changes will sync when online.`}\n      </div>\n    );\n  }\n\n  // Show syncing indicator\n  if (isSyncing) {\n    return (\n      <div className=\"fixed top-0 left-0 right-0 bg-blue-500 text-white text-center py-2 text-sm z-50\">\n        Syncing {pendingEntries.length} pending changes...\n      </div>\n    );\n  }\n\n  return null;\n}"],"mappings":"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","ignoreList":[]}