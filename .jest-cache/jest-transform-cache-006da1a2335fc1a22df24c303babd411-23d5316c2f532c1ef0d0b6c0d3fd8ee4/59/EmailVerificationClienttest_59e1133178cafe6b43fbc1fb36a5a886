ddd3b361fa146986c8584b2b696442b8
"use strict";
// Mock next/navigation
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _navigation = require("next/navigation");
const _EmailVerificationClient = /*#__PURE__*/ _interop_require_default(require("../EmailVerificationClient"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock fetch
global.fetch = jest.fn();
describe('EmailVerificationClient', ()=>{
    const mockPush = jest.fn();
    const mockRefresh = jest.fn();
    const mockFetch = global.fetch;
    beforeEach(()=>{
        _navigation.useRouter.mockReturnValue({
            push: mockPush,
            refresh: mockRefresh
        });
        mockFetch.mockClear();
        mockPush.mockClear();
        mockRefresh.mockClear();
        jest.clearAllTimers();
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.runOnlyPendingTimers();
        jest.useRealTimers();
    });
    it('renders the verification form correctly', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        expect(_react.screen.getByText('Enter verification code')).toBeInTheDocument();
        expect(_react.screen.getByText(/We've sent a 6-digit code to your email/)).toBeInTheDocument();
        expect(_react.screen.getByRole('button', {
            name: /verify email/i
        })).toBeInTheDocument();
        expect(_react.screen.getByText("Didn't receive the code? Resend it")).toBeInTheDocument();
    });
    it('auto-submits when 6-digit code is entered', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        // Enter 6 digits
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '1');
            await user.type(inputs[1], '2');
            await user.type(inputs[2], '3');
            await user.type(inputs[3], '4');
            await user.type(inputs[4], '5');
            await user.type(inputs[5], '6');
        });
        // Wait for auto-submit
        await (0, _react.waitFor)(()=>{
            expect(mockFetch).toHaveBeenCalledWith('/api/auth/verify-email', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email: 'test@example.com',
                    code: '123456'
                })
            });
        });
    });
    it('shows success state and redirects after successful verification', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        // Enter complete code
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        // Wait for success state
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Email verified successfully! ðŸŽ‰')).toBeInTheDocument();
            expect(_react.screen.getByText(/Welcome to Fancy Planties/)).toBeInTheDocument();
        });
        // Fast-forward timer for redirect
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1500);
        });
        expect(mockPush).toHaveBeenCalledWith('/dashboard');
        expect(mockRefresh).toHaveBeenCalled();
    });
    it('handles different error types correctly', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        const errorCases = [
            {
                error: 'CODE_EXPIRED',
                expectedMessage: 'This code has expired. Please request a new one.'
            },
            {
                error: 'CODE_INVALID',
                expectedMessage: 'Invalid code. Please check and try again.'
            },
            {
                error: 'TOO_MANY_ATTEMPTS',
                expectedMessage: 'Too many attempts. Please request a new code.'
            },
            {
                error: 'ALREADY_VERIFIED',
                expectedMessage: 'Your email is already verified.'
            }
        ];
        for (const { error, expectedMessage } of errorCases){
            mockFetch.mockResolvedValueOnce({
                ok: false,
                json: async ()=>({
                        error
                    })
            });
            const { rerender } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
                email: "test@example.com"
            }));
            const inputs = _react.screen.getAllByRole('textbox');
            await (0, _react.act)(async ()=>{
                await user.type(inputs[0], '123456');
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(expectedMessage)).toBeInTheDocument();
            });
            // Clean up for next iteration
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {}));
            mockFetch.mockClear();
        }
    });
    it('handles network errors gracefully', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockRejectedValueOnce(new Error('Network error'));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Network error. Please check your connection and try again.')).toBeInTheDocument();
        });
    });
    it('handles resend functionality correctly', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    cooldownSeconds: 60
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const resendButton = _react.screen.getByText(/Didn't receive the code\? Resend it/);
        await (0, _react.act)(async ()=>{
            await user.click(resendButton);
        });
        expect(mockFetch).toHaveBeenCalledWith('/api/auth/resend-verification', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: 'test@example.com'
            })
        });
        // Should show cooldown
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Resend code in 60s/)).toBeInTheDocument();
        });
    });
    it('shows cooldown timer correctly', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    cooldownSeconds: 3
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const resendButton = _react.screen.getByText(/Didn't receive the code\? Resend it/);
        await (0, _react.act)(async ()=>{
            await user.click(resendButton);
        });
        // Should show initial cooldown
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Resend code in 3s/)).toBeInTheDocument();
        });
        // Advance timer by 1 second
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_react.screen.getByText(/Resend code in 2s/)).toBeInTheDocument();
        // Advance timer by 2 more seconds
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(2000);
        });
        expect(_react.screen.getByText("Didn't receive the code? Resend it")).toBeInTheDocument();
    });
    it('disables inputs and buttons during loading', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        // Mock a slow response
        mockFetch.mockImplementationOnce(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                        ok: true,
                        json: async ()=>({
                                success: true
                            })
                    }), 1000)));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        const submitButton = _react.screen.getByRole('button', {
            name: /verify email/i
        });
        // Enter code to trigger loading
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        // Should show loading state
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Verifying...')).toBeInTheDocument();
        });
        // Inputs should be disabled
        inputs.forEach((input)=>{
            expect(input).toBeDisabled();
        });
        // Submit button should be disabled and show loading
        expect(submitButton).toBeDisabled();
    });
    it('clears error when user starts typing', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: false,
            json: async ()=>({
                    error: 'CODE_INVALID'
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        // Enter invalid code
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '123456');
        });
        // Should show error
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Invalid code. Please check and try again.')).toBeInTheDocument();
        });
        // Start typing new code
        await (0, _react.act)(async ()=>{
            await user.clear(inputs[0]);
            await user.type(inputs[0], '1');
        });
        // Error should be cleared
        expect(_react.screen.queryByText('Invalid code. Please check and try again.')).not.toBeInTheDocument();
    });
    it('handles manual form submission', async ()=>{
        const user = _userevent.default.setup({
            advanceTimers: jest.advanceTimersByTime
        });
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        const inputs = _react.screen.getAllByRole('textbox');
        const submitButton = _react.screen.getByRole('button', {
            name: /verify email/i
        });
        // Enter code without triggering auto-submit
        await (0, _react.act)(async ()=>{
            await user.type(inputs[0], '12345');
        });
        // Manually click submit
        await (0, _react.act)(async ()=>{
            await user.click(submitButton);
        });
        // Should show error for incomplete code
        expect(_react.screen.getByText('Please enter a 6-digit code')).toBeInTheDocument();
    });
    it('has proper accessibility attributes', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailVerificationClient.default, {
            email: "test@example.com"
        }));
        // Check for proper headings
        expect(_react.screen.getByRole('heading', {
            name: /enter verification code/i
        })).toBeInTheDocument();
        // Check for form
        expect(_react.screen.getByRole('form')).toBeInTheDocument();
        // Check for buttons
        expect(_react.screen.getByRole('button', {
            name: /verify email/i
        })).toBeInTheDocument();
        // Check for proper text content
        expect(_react.screen.getByText(/We've sent a 6-digit code to your email/)).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL2FwcC9hdXRoL3ZlcmlmeS1lbWFpbC9fX3Rlc3RzX18vRW1haWxWZXJpZmljYXRpb25DbGllbnQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGZyb20gJy4uL0VtYWlsVmVyaWZpY2F0aW9uQ2xpZW50JztcblxuLy8gTW9jayBuZXh0L25hdmlnYXRpb25cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgZmV0Y2hcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuZGVzY3JpYmUoJ0VtYWlsVmVyaWZpY2F0aW9uQ2xpZW50JywgKCkgPT4ge1xuICBjb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja1JlZnJlc2ggPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tGZXRjaCA9IGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD47XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgKHVzZVJvdXRlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBwdXNoOiBtb2NrUHVzaCxcbiAgICAgIHJlZnJlc2g6IG1vY2tSZWZyZXNoLFxuICAgIH0pO1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrUHVzaC5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrUmVmcmVzaC5tb2NrQ2xlYXIoKTtcbiAgICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICB9KTtcblxuICBpdCgncmVuZGVycyB0aGUgdmVyaWZpY2F0aW9uIGZvcm0gY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFbnRlciB2ZXJpZmljYXRpb24gY29kZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9XZSd2ZSBzZW50IGEgNi1kaWdpdCBjb2RlIHRvIHlvdXIgZW1haWwvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdmVyaWZ5IGVtYWlsL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJEaWRuJ3QgcmVjZWl2ZSB0aGUgY29kZT8gUmVzZW5kIGl0XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnYXV0by1zdWJtaXRzIHdoZW4gNi1kaWdpdCBjb2RlIGlzIGVudGVyZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICBcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIG9rOiB0cnVlLFxuICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIGNvbnN0IGlucHV0cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ3RleHRib3gnKTtcbiAgICBcbiAgICAvLyBFbnRlciA2IGRpZ2l0c1xuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzBdLCAnMScpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0c1sxXSwgJzInKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMl0sICczJyk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzNdLCAnNCcpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0c1s0XSwgJzUnKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbNV0sICc2Jyk7XG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IGZvciBhdXRvLXN1Ym1pdFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYXV0aC92ZXJpZnktZW1haWwnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgY29kZTogJzEyMzQ1NicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG93cyBzdWNjZXNzIHN0YXRlIGFuZCByZWRpcmVjdHMgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICBcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIG9rOiB0cnVlLFxuICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgIFxuICAgIGNvbnN0IGlucHV0cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ3RleHRib3gnKTtcbiAgICBcbiAgICAvLyBFbnRlciBjb21wbGV0ZSBjb2RlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICB9KTtcblxuICAgIC8vIFdhaXQgZm9yIHN1Y2Nlc3Mgc3RhdGVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFbWFpbCB2ZXJpZmllZCBzdWNjZXNzZnVsbHkhIPCfjoknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9XZWxjb21lIHRvIEZhbmN5IFBsYW50aWVzLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBGYXN0LWZvcndhcmQgdGltZXIgZm9yIHJlZGlyZWN0XG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9kYXNoYm9hcmQnKTtcbiAgICBleHBlY3QobW9ja1JlZnJlc2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZGlmZmVyZW50IGVycm9yIHR5cGVzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIGNvbnN0IGVycm9yQ2FzZXMgPSBbXG4gICAgICB7IGVycm9yOiAnQ09ERV9FWFBJUkVEJywgZXhwZWN0ZWRNZXNzYWdlOiAnVGhpcyBjb2RlIGhhcyBleHBpcmVkLiBQbGVhc2UgcmVxdWVzdCBhIG5ldyBvbmUuJyB9LFxuICAgICAgeyBlcnJvcjogJ0NPREVfSU5WQUxJRCcsIGV4cGVjdGVkTWVzc2FnZTogJ0ludmFsaWQgY29kZS4gUGxlYXNlIGNoZWNrIGFuZCB0cnkgYWdhaW4uJyB9LFxuICAgICAgeyBlcnJvcjogJ1RPT19NQU5ZX0FUVEVNUFRTJywgZXhwZWN0ZWRNZXNzYWdlOiAnVG9vIG1hbnkgYXR0ZW1wdHMuIFBsZWFzZSByZXF1ZXN0IGEgbmV3IGNvZGUuJyB9LFxuICAgICAgeyBlcnJvcjogJ0FMUkVBRFlfVkVSSUZJRUQnLCBleHBlY3RlZE1lc3NhZ2U6ICdZb3VyIGVtYWlsIGlzIGFscmVhZHkgdmVyaWZpZWQuJyB9LFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHsgZXJyb3IsIGV4cGVjdGVkTWVzc2FnZSB9IG9mIGVycm9yQ2FzZXMpIHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogZmFsc2UsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IGVycm9yIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8RW1haWxWZXJpZmljYXRpb25DbGllbnQgZW1haWw9XCJ0ZXN0QGV4YW1wbGUuY29tXCIgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBpbnB1dHMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCd0ZXh0Ym94Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoZXhwZWN0ZWRNZXNzYWdlKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhbiB1cCBmb3IgbmV4dCBpdGVyYXRpb25cbiAgICAgIHJlcmVuZGVyKDxkaXYgLz4pO1xuICAgICAgbW9ja0ZldGNoLm1vY2tDbGVhcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbmV0d29yayBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xuICAgIFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzBdLCAnMTIzNDU2Jyk7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdOZXR3b3JrIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIHJlc2VuZCBmdW5jdGlvbmFsaXR5IGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBjb29sZG93blNlY29uZHM6IDYwIH0pLFxuICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgcmVzZW5kQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvRGlkbid0IHJlY2VpdmUgdGhlIGNvZGVcXD8gUmVzZW5kIGl0Lyk7XG4gICAgXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2socmVzZW5kQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2F1dGgvcmVzZW5kLXZlcmlmaWNhdGlvbicsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIHNob3cgY29vbGRvd25cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXNlbmQgY29kZSBpbiA2MHMvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIGNvb2xkb3duIHRpbWVyIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBjb29sZG93blNlY29uZHM6IDMgfSksXG4gICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICByZW5kZXIoPEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGVtYWlsPVwidGVzdEBleGFtcGxlLmNvbVwiIC8+KTtcbiAgICBcbiAgICBjb25zdCByZXNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KC9EaWRuJ3QgcmVjZWl2ZSB0aGUgY29kZVxcPyBSZXNlbmQgaXQvKTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdXNlci5jbGljayhyZXNlbmRCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIHNob3cgaW5pdGlhbCBjb29sZG93blxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1Jlc2VuZCBjb2RlIGluIDNzLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBBZHZhbmNlIHRpbWVyIGJ5IDEgc2Vjb25kXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXNlbmQgY29kZSBpbiAycy8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gQWR2YW5jZSB0aW1lciBieSAyIG1vcmUgc2Vjb25kc1xuICAgIGFjdCgoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwMCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkRpZG4ndCByZWNlaXZlIHRoZSBjb2RlPyBSZXNlbmQgaXRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNhYmxlcyBpbnB1dHMgYW5kIGJ1dHRvbnMgZHVyaW5nIGxvYWRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCh7IGFkdmFuY2VUaW1lcnM6IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSB9KTtcbiAgICBcbiAgICAvLyBNb2NrIGEgc2xvdyByZXNwb25zZVxuICAgIG1vY2tGZXRjaC5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+IFxuICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpLCAxMDAwKSlcbiAgICApO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZlcmlmeSBlbWFpbC9pIH0pO1xuICAgIFxuICAgIC8vIEVudGVyIGNvZGUgdG8gdHJpZ2dlciBsb2FkaW5nXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICB9KTtcblxuICAgIC8vIFNob3VsZCBzaG93IGxvYWRpbmcgc3RhdGVcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWZXJpZnlpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIElucHV0cyBzaG91bGQgYmUgZGlzYWJsZWRcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU3VibWl0IGJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQgYW5kIHNob3cgbG9hZGluZ1xuICAgIGV4cGVjdChzdWJtaXRCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICB9KTtcblxuICBpdCgnY2xlYXJzIGVycm9yIHdoZW4gdXNlciBzdGFydHMgdHlwaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoeyBhZHZhbmNlVGltZXJzOiBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUgfSk7XG4gICAgXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBlcnJvcjogJ0NPREVfSU5WQUxJRCcgfSksXG4gICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICByZW5kZXIoPEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGVtYWlsPVwidGVzdEBleGFtcGxlLmNvbVwiIC8+KTtcbiAgICBcbiAgICBjb25zdCBpbnB1dHMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCd0ZXh0Ym94Jyk7XG4gICAgXG4gICAgLy8gRW50ZXIgaW52YWxpZCBjb2RlXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NTYnKTtcbiAgICB9KTtcblxuICAgIC8vIFNob3VsZCBzaG93IGVycm9yXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSW52YWxpZCBjb2RlLiBQbGVhc2UgY2hlY2sgYW5kIHRyeSBhZ2Fpbi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFN0YXJ0IHR5cGluZyBuZXcgY29kZVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB1c2VyLmNsZWFyKGlucHV0c1swXSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXRzWzBdLCAnMScpO1xuICAgIH0pO1xuXG4gICAgLy8gRXJyb3Igc2hvdWxkIGJlIGNsZWFyZWRcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdJbnZhbGlkIGNvZGUuIFBsZWFzZSBjaGVjayBhbmQgdHJ5IGFnYWluLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbWFudWFsIGZvcm0gc3VibWlzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKHsgYWR2YW5jZVRpbWVyczogamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lIH0pO1xuICAgIFxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgcmVuZGVyKDxFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCBlbWFpbD1cInRlc3RAZXhhbXBsZS5jb21cIiAvPik7XG4gICAgXG4gICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZlcmlmeSBlbWFpbC9pIH0pO1xuICAgIFxuICAgIC8vIEVudGVyIGNvZGUgd2l0aG91dCB0cmlnZ2VyaW5nIGF1dG8tc3VibWl0XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dHNbMF0sICcxMjM0NScpO1xuICAgIH0pO1xuXG4gICAgLy8gTWFudWFsbHkgY2xpY2sgc3VibWl0XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcbiAgICB9KTtcblxuICAgIC8vIFNob3VsZCBzaG93IGVycm9yIGZvciBpbmNvbXBsZXRlIGNvZGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGxlYXNlIGVudGVyIGEgNi1kaWdpdCBjb2RlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYXMgcHJvcGVyIGFjY2Vzc2liaWxpdHkgYXR0cmlidXRlcycsICgpID0+IHtcbiAgICByZW5kZXIoPEVtYWlsVmVyaWZpY2F0aW9uQ2xpZW50IGVtYWlsPVwidGVzdEBleGFtcGxlLmNvbVwiIC8+KTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcHJvcGVyIGhlYWRpbmdzXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2hlYWRpbmcnLCB7IG5hbWU6IC9lbnRlciB2ZXJpZmljYXRpb24gY29kZS9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBmb3JtXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2Zvcm0nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYnV0dG9uc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC92ZXJpZnkgZW1haWwvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcHJvcGVyIHRleHQgY29udGVudFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9XZSd2ZSBzZW50IGEgNi1kaWdpdCBjb2RlIHRvIHlvdXIgZW1haWwvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTsiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJmbiIsImdsb2JhbCIsImZldGNoIiwiZGVzY3JpYmUiLCJtb2NrUHVzaCIsIm1vY2tSZWZyZXNoIiwibW9ja0ZldGNoIiwiYmVmb3JlRWFjaCIsIm1vY2tSZXR1cm5WYWx1ZSIsInB1c2giLCJyZWZyZXNoIiwibW9ja0NsZWFyIiwiY2xlYXJBbGxUaW1lcnMiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwicnVuT25seVBlbmRpbmdUaW1lcnMiLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJyZW5kZXIiLCJFbWFpbFZlcmlmaWNhdGlvbkNsaWVudCIsImVtYWlsIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVJvbGUiLCJuYW1lIiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwiYWR2YW5jZVRpbWVycyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJvayIsImpzb24iLCJzdWNjZXNzIiwiaW5wdXRzIiwiZ2V0QWxsQnlSb2xlIiwiYWN0IiwidHlwZSIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvZGUiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiZXJyb3JDYXNlcyIsImVycm9yIiwiZXhwZWN0ZWRNZXNzYWdlIiwicmVyZW5kZXIiLCJkaXYiLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsImNvb2xkb3duU2Vjb25kcyIsInJlc2VuZEJ1dHRvbiIsImNsaWNrIiwibW9ja0ltcGxlbWVudGF0aW9uT25jZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInN1Ym1pdEJ1dHRvbiIsImZvckVhY2giLCJpbnB1dCIsInRvQmVEaXNhYmxlZCIsImNsZWFyIiwicXVlcnlCeVRleHQiLCJub3QiXSwibWFwcGluZ3MiOiI7QUFLQSx1QkFBdUI7QUFDdkJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxXQUFXRixLQUFLRyxFQUFFO0lBQ3BCLENBQUE7Ozs7O3VCQVJ3RDtrRUFDbEM7NEJBQ0k7Z0ZBQ1U7Ozs7OztBQU9wQyxhQUFhO0FBQ2JDLE9BQU9DLEtBQUssR0FBR0wsS0FBS0csRUFBRTtBQUV0QkcsU0FBUywyQkFBMkI7SUFDbEMsTUFBTUMsV0FBV1AsS0FBS0csRUFBRTtJQUN4QixNQUFNSyxjQUFjUixLQUFLRyxFQUFFO0lBQzNCLE1BQU1NLFlBQVlMLE9BQU9DLEtBQUs7SUFFOUJLLFdBQVc7UUFDUlIscUJBQVMsQ0FBZVMsZUFBZSxDQUFDO1lBQ3ZDQyxNQUFNTDtZQUNOTSxTQUFTTDtRQUNYO1FBQ0FDLFVBQVVLLFNBQVM7UUFDbkJQLFNBQVNPLFNBQVM7UUFDbEJOLFlBQVlNLFNBQVM7UUFDckJkLEtBQUtlLGNBQWM7UUFDbkJmLEtBQUtnQixhQUFhO0lBQ3BCO0lBRUFDLFVBQVU7UUFDUmpCLEtBQUtrQixvQkFBb0I7UUFDekJsQixLQUFLbUIsYUFBYTtJQUNwQjtJQUVBQyxHQUFHLDJDQUEyQztRQUM1Q0MsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQXVCO1lBQUNDLE9BQU07O1FBRXRDQyxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyw0QkFBNEJDLGlCQUFpQjtRQUNyRUgsT0FBT0MsYUFB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