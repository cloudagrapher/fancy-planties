54a4fac6af8a780eaee0b753acb116a6
// Care Tracking API Endpoint Tests
// Tests POST /api/care, GET /api/care/history, GET /api/dashboard endpoints
"use strict";
// Mock the auth functions
jest.mock('@/lib/auth/server', ()=>({
        requireAuthSession: jest.fn(),
        validateRequest: jest.fn()
    }));
// Mock the care service
jest.mock('@/lib/services/care-service', ()=>({
        CareService: {
            logCareEvent: jest.fn(),
            quickCareLog: jest.fn(),
            getCareDashboard: jest.fn()
        }
    }));
// Mock care history queries
jest.mock('@/lib/db/queries/care-history', ()=>({
        CareHistoryQueries: {
            getCareHistoryForPlant: jest.fn()
        }
    }));
// Mock database and schema
jest.mock('@/lib/db', ()=>({
        db: {
            select: jest.fn().mockReturnThis(),
            from: jest.fn().mockReturnThis(),
            where: jest.fn().mockReturnThis()
        }
    }));
jest.mock('@/lib/db/schema', ()=>({
        plantInstances: {
            id: 'id',
            userId: 'userId',
            isActive: 'isActive',
            fertilizerDue: 'fertilizerDue',
            nickname: 'nickname'
        },
        propagations: {
            userId: 'userId',
            status: 'status'
        }
    }));
// Mock care validation
jest.mock('@/lib/validation/care-schemas', ()=>({
        careValidation: {
            validateCareForm: jest.fn(),
            validateQuickCareLog: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../app/api/care/log/route");
const _route1 = require("../../app/api/care/quick-log/route");
const _route2 = require("../../app/api/care/history/[plantInstanceId]/route");
const _route3 = require("../../app/api/care/dashboard/route");
const _route4 = require("../../app/api/dashboard/route");
const _userfactory = require("../../test-utils/factories/user-factory.js");
const _plantfactory = require("../../test-utils/factories/plant-factory.js");
const _apihelpers = require("../../test-utils/helpers/api-helpers.js");
const _server1 = require("../../lib/auth/server");
const _careservice = require("../../lib/services/care-service");
const _carehistory = require("../../lib/db/queries/care-history");
const _careschemas = require("../../lib/validation/care-schemas");
const _db = require("../../lib/db");
describe('Care Tracking API Endpoints', ()=>{
    let testUser;
    let testSession;
    beforeEach(()=>{
        jest.clearAllMocks();
        (0, _apihelpers.resetApiMocks)();
        testUser = (0, _userfactory.createTestUser)();
        testSession = (0, _userfactory.createTestSession)(testUser);
        // Default auth mocks
        _server1.requireAuthSession.mockResolvedValue({
            user: testUser,
            session: testSession
        });
        _server1.validateRequest.mockResolvedValue({
            user: testUser,
            session: testSession
        });
    });
    afterEach(()=>{
        jest.restoreAllMocks();
    });
    describe('POST /api/care/log - Care record creation', ()=>{
        it('should create care record with valid data', async ()=>{
            // Arrange
            const testPlantInstance = (0, _plantfactory.createTestPlantInstance)({
                userId: testUser.id
            });
            const requestBody = {
                plantInstanceId: testPlantInstance.id,
                careType: 'watering',
                careDate: '2024-01-15T10:00:00.000Z',
                notes: 'Regular watering'
            };
            const validatedData = {
                ...requestBody,
                careDate: new Date(requestBody.careDate)
            };
            const createdCareRecord = (0, _plantfactory.createTestCareRecord)({
                ...validatedData,
                id: 1,
                userId: testUser.id
            });
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: true,
                data: validatedData
            });
            _careservice.CareService.logCareEvent.mockResolvedValue({
                success: true,
                careHistory: createdCareRecord
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual({
                ...createdCareRecord,
                // JSON serializes dates to strings
                careDate: createdCareRecord.careDate.toISOString(),
                createdAt: createdCareRecord.createdAt.toISOString(),
                updatedAt: createdCareRecord.updatedAt.toISOString()
            });
            expect(_server1.requireAuthSession).toHaveBeenCalled();
            expect(_careschemas.careValidation.validateCareForm).toHaveBeenCalledWith(validatedData);
            expect(_careservice.CareService.logCareEvent).toHaveBeenCalledWith(testUser.id, validatedData);
        });
        it('should return validation error for invalid care data', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceId: 'invalid',
                careType: 'invalid_type',
                careDate: 'invalid_date'
            };
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: false,
                error: {
                    issues: [
                        {
                            message: 'Plant instance ID must be a number'
                        },
                        {
                            message: 'Invalid care type'
                        },
                        {
                            message: 'Invalid date format'
                        }
                    ]
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Plant instance ID must be a number'
            });
            expect(_careservice.CareService.logCareEvent).not.toHaveBeenCalled();
        });
        it('should return error when care service fails', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceId: 1,
                careType: 'watering',
                careDate: '2024-01-15T10:00:00.000Z'
            };
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: true,
                data: {
                    ...requestBody,
                    careDate: new Date(requestBody.careDate)
                }
            });
            _careservice.CareService.logCareEvent.mockResolvedValue({
                success: false,
                error: 'Plant instance not found'
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Plant instance not found'
            });
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.requireAuthSession.mockRejectedValue(new Error('Unauthorized'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to log care event'
            });
            expect(_careservice.CareService.logCareEvent).not.toHaveBeenCalled();
        });
        it('should handle malformed JSON request', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: 'invalid json',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to log care event'
            });
            expect(_careservice.CareService.logCareEvent).not.toHaveBeenCalled();
        });
    });
    describe('POST /api/care/quick-log - Quick care logging', ()=>{
        it('should create quick care log with valid data', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceIds: [
                    1,
                    2,
                    3
                ],
                careType: 'watering',
                notes: 'Quick watering session'
            };
            const validatedData = {
                ...requestBody,
                careDate: expect.any(Date)
            };
            const careRecords = [
                (0, _plantfactory.createTestCareRecord)({
                    id: 1,
                    plantInstanceId: 1
                }),
                (0, _plantfactory.createTestCareRecord)({
                    id: 2,
                    plantInstanceId: 2
                }),
                (0, _plantfactory.createTestCareRecord)({
                    id: 3,
                    plantInstanceId: 3
                })
            ];
            _careschemas.careValidation.validateQuickCareLog.mockReturnValue({
                success: true,
                data: validatedData
            });
            _careservice.CareService.quickCareLog.mockResolvedValue({
                success: true,
                careHistory: careRecords
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(careRecords.map((record)=>({
                    ...record,
                    // JSON serializes dates to strings
                    careDate: record.careDate.toISOString(),
                    createdAt: record.createdAt.toISOString(),
                    updatedAt: record.updatedAt.toISOString()
                })));
            expect(_server1.requireAuthSession).toHaveBeenCalled();
            expect(_careschemas.careValidation.validateQuickCareLog).toHaveBeenCalledWith(validatedData);
            expect(_careservice.CareService.quickCareLog).toHaveBeenCalledWith(testUser.id, validatedData);
        });
        it('should return validation error with detailed issues', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceIds: [],
                careType: 'invalid'
            };
            _careschemas.careValidation.validateQuickCareLog.mockReturnValue({
                success: false,
                error: {
                    issues: [
                        {
                            message: 'At least one plant instance is required'
                        },
                        {
                            message: 'Invalid care type'
                        }
                    ]
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'At least one plant instance is required',
                details: [
                    {
                        message: 'At least one plant instance is required'
                    },
                    {
                        message: 'Invalid care type'
                    }
                ]
            });
            expect(_careservice.CareService.quickCareLog).not.toHaveBeenCalled();
        });
        it('should handle quick care service errors', async ()=>{
            // Arrange
            const requestBody = {
                plantInstanceIds: [
                    999
                ],
                careType: 'watering'
            };
            _careschemas.careValidation.validateQuickCareLog.mockReturnValue({
                success: true,
                data: {
                    ...requestBody,
                    careDate: new Date()
                }
            });
            _careservice.CareService.quickCareLog.mockResolvedValue({
                success: false,
                error: 'Some plant instances not found'
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify(requestBody),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Some plant instances not found'
            });
        });
    });
    describe('GET /api/care/history/[plantInstanceId] - Care history retrieval and filtering', ()=>{
        it('should return care history with default filters', async ()=>{
            // Arrange
            const plantInstanceId = 1;
            const careHistory = [
                (0, _plantfactory.createTestCareRecord)({
                    id: 1,
                    plantInstanceId,
                    careType: 'watering'
                }),
                (0, _plantfactory.createTestCareRecord)({
                    id: 2,
                    plantInstanceId,
                    careType: 'fertilizing'
                })
            ];
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockResolvedValue(careHistory);
            const request = new _server.NextRequest(`http://localhost:3000/api/care/history/${plantInstanceId}`);
            const params = Promise.resolve({
                plantInstanceId: plantInstanceId.toString()
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(careHistory.map((record)=>({
                    ...record,
                    // JSON serializes dates to strings
                    careDate: record.careDate.toISOString(),
                    createdAt: record.createdAt.toISOString(),
                    updatedAt: record.updatedAt.toISOString()
                })));
            expect(_server1.validateRequest).toHaveBeenCalled();
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).toHaveBeenCalledWith(plantInstanceId, testUser.id, {
                careType: undefined,
                startDate: undefined,
                endDate: undefined,
                limit: 50,
                offset: 0,
                sortBy: 'care_date',
                sortOrder: 'desc'
            });
        });
        it('should return care history with custom filters', async ()=>{
            // Arrange
            const plantInstanceId = 1;
            const careHistory = [
                (0, _plantfactory.createTestCareRecord)({
                    id: 1,
                    plantInstanceId,
                    careType: 'watering'
                })
            ];
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockResolvedValue(careHistory);
            const queryParams = new URLSearchParams({
                careType: 'watering',
                startDate: '2024-01-01',
                endDate: '2024-01-31',
                limit: '10',
                offset: '5',
                sortBy: 'care_type',
                sortOrder: 'asc'
            });
            const request = new _server.NextRequest(`http://localhost:3000/api/care/history/${plantInstanceId}?${queryParams}`);
            const params = Promise.resolve({
                plantInstanceId: plantInstanceId.toString()
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(careHistory.map((record)=>({
                    ...record,
                    // JSON serializes dates to strings
                    careDate: record.careDate.toISOString(),
                    createdAt: record.createdAt.toISOString(),
                    updatedAt: record.updatedAt.toISOString()
                })));
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).toHaveBeenCalledWith(plantInstanceId, testUser.id, {
                careType: 'watering',
                startDate: new Date('2024-01-01'),
                endDate: new Date('2024-01-31'),
                limit: 10,
                offset: 5,
                sortBy: 'care_type',
                sortOrder: 'asc'
            });
        });
        it('should return bad request error for invalid plant instance ID', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/care/history/invalid');
            const params = Promise.resolve({
                plantInstanceId: 'invalid'
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(responseData).toEqual({
                error: 'Invalid plant instance ID'
            });
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).not.toHaveBeenCalled();
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/care/history/1');
            const params = Promise.resolve({
                plantInstanceId: '1'
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                error: 'Unauthorized'
            });
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).not.toHaveBeenCalled();
        });
        it('should handle database errors gracefully', async ()=>{
            // Arrange
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockRejectedValue(new Error('Database connection failed'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/history/1');
            const params = Promise.resolve({
                plantInstanceId: '1'
            });
            // Act
            const response = await (0, _route2.GET)(request, {
                params
            });
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to get care history'
            });
        });
    });
    describe('GET /api/dashboard - Dashboard statistics calculation', ()=>{
        it('should return dashboard statistics with plant and propagation data', async ()=>{
            // Arrange
            const mockStats = {
                totalPlants: 15,
                activePlants: 12,
                careDueToday: 3,
                totalPropagations: 8,
                activePropagations: 5,
                successfulPropagations: 6,
                propagationSuccessRate: 75,
                fertilizerEvents: [
                    {
                        id: 'fertilizer-1',
                        plantName: 'Monstera Deliciosa',
                        plantId: '1',
                        date: '2024-01-15',
                        type: 'fertilize'
                    },
                    {
                        id: 'fertilizer-2',
                        plantName: 'Fiddle Leaf Fig',
                        plantId: '2',
                        date: '2024-01-16',
                        type: 'fertilize'
                    }
                ]
            };
            // Mock database queries
            _db.db.select.mockReturnValue({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            totalPlants: 15,
                            activePlants: 12,
                            careDueToday: 3
                        }
                    ])
                })
            });
            // Mock propagation stats query
            _db.db.select.mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            totalPlants: 15,
                            activePlants: 12,
                            careDueToday: 3
                        }
                    ])
                })
            }).mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            totalPropagations: 8,
                            activePropagations: 5,
                            successfulPropagations: 6
                        }
                    ])
                })
            }).mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            count: 8
                        }
                    ])
                })
            }).mockReturnValueOnce({
                from: jest.fn().mockReturnValue({
                    where: jest.fn().mockResolvedValue([
                        {
                            id: 1,
                            nickname: 'Monstera Deliciosa',
                            fertilizerDue: new Date('2024-01-15')
                        },
                        {
                            id: 2,
                            nickname: 'Fiddle Leaf Fig',
                            fertilizerDue: new Date('2024-01-16')
                        }
                    ])
                })
            });
            const request = new _server.NextRequest('http://localhost:3000/api/dashboard');
            // Act
            const response = await (0, _route4.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toMatchObject({
                totalPlants: expect.any(Number),
                activePlants: expect.any(Number),
                careDueToday: expect.any(Number),
                totalPropagations: expect.any(Number),
                activePropagations: expect.any(Number),
                successfulPropagations: expect.any(Number),
                propagationSuccessRate: expect.any(Number),
                fertilizerEvents: expect.any(Array)
            });
            expect(_server1.validateRequest).toHaveBeenCalled();
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/dashboard');
            // Act
            const response = await (0, _route4.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(responseData).toEqual({
                error: 'Unauthorized'
            });
        });
        it('should handle database errors gracefully', async ()=>{
            // Arrange
            _db.db.select.mockImplementation(()=>{
                throw new Error('Database connection failed');
            });
            const request = new _server.NextRequest('http://localhost:3000/api/dashboard');
            // Act
            const response = await (0, _route4.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to get dashboard stats'
            });
        });
    });
    describe('GET /api/care/dashboard - Care-specific dashboard', ()=>{
        it('should return care dashboard data', async ()=>{
            // Arrange
            const mockCareDashboard = {
                upcomingCare: [
                    {
                        plantInstanceId: 1,
                        plantName: 'Monstera',
                        careType: 'watering',
                        dueDate: '2024-01-15',
                        overdue: false
                    }
                ],
                recentCare: [
                    {
                        id: 1,
                        plantInstanceId: 1,
                        careType: 'watering',
                        careDate: '2024-01-10',
                        notes: 'Regular watering'
                    }
                ],
                careStats: {
                    totalCareEvents: 25,
                    thisWeekCare: 5,
                    overdueCare: 2
                }
            };
            _careservice.CareService.getCareDashboard.mockResolvedValue(mockCareDashboard);
            const request = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            // Act
            const response = await (0, _route3.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(responseData).toEqual(mockCareDashboard);
            expect(_server1.requireAuthSession).toHaveBeenCalled();
            expect(_careservice.CareService.getCareDashboard).toHaveBeenCalledWith(testUser.id);
        });
        it('should return unauthorized error when user not authenticated', async ()=>{
            // Arrange
            _server1.requireAuthSession.mockRejectedValue(new Error('Unauthorized'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            // Act
            const response = await (0, _route3.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to fetch care dashboard'
            });
            expect(_careservice.CareService.getCareDashboard).not.toHaveBeenCalled();
        });
        it('should handle care service errors', async ()=>{
            // Arrange
            _careservice.CareService.getCareDashboard.mockRejectedValue(new Error('Care service failed'));
            const request = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            // Act
            const response = await (0, _route3.GET)(request);
            const responseData = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(responseData).toEqual({
                error: 'Failed to fetch care dashboard'
            });
        });
    });
    describe('Care Tracking Integration Tests', ()=>{
        it('should handle complete care workflow: log -> history -> dashboard', async ()=>{
            const plantInstanceId = 1;
            // Step 1: Log care event
            const careData = {
                plantInstanceId,
                careType: 'watering',
                careDate: '2024-01-15T10:00:00.000Z',
                notes: 'Regular watering'
            };
            const careRecord = (0, _plantfactory.createTestCareRecord)({
                id: 1,
                ...careData,
                careDate: new Date(careData.careDate),
                userId: testUser.id
            });
            _careschemas.careValidation.validateCareForm.mockReturnValue({
                success: true,
                data: {
                    ...careData,
                    careDate: new Date(careData.careDate)
                }
            });
            _careservice.CareService.logCareEvent.mockResolvedValue({
                success: true,
                careHistory: careRecord
            });
            const logRequest = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify(careData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const logResponse = await (0, _route.POST)(logRequest);
            const logResponseData = await logResponse.json();
            expect(logResponse.status).toBe(200);
            expect(logResponseData).toEqual({
                ...careRecord,
                // JSON serializes dates to strings
                careDate: careRecord.careDate.toISOString(),
                createdAt: careRecord.createdAt.toISOString(),
                updatedAt: careRecord.updatedAt.toISOString()
            });
            // Step 2: Get care history
            const careHistory = [
                careRecord
            ];
            _carehistory.CareHistoryQueries.getCareHistoryForPlant.mockResolvedValue(careHistory);
            const historyRequest = new _server.NextRequest(`http://localhost:3000/api/care/history/${plantInstanceId}`);
            const historyParams = Promise.resolve({
                plantInstanceId: plantInstanceId.toString()
            });
            const historyResponse = await (0, _route2.GET)(historyRequest, {
                params: historyParams
            });
            const historyResponseData = await historyResponse.json();
            expect(historyResponse.status).toBe(200);
            expect(historyResponseData).toEqual(careHistory.map((record)=>({
                    ...record,
                    // JSON serializes dates to strings
                    careDate: record.careDate.toISOString(),
                    createdAt: record.createdAt.toISOString(),
                    updatedAt: record.updatedAt.toISOString()
                })));
            // Step 3: Get care dashboard
            const careDashboard = {
                upcomingCare: [],
                recentCare: [
                    careRecord
                ],
                careStats: {
                    totalCareEvents: 1,
                    thisWeekCare: 1,
                    overdueCare: 0
                }
            };
            _careservice.CareService.getCareDashboard.mockResolvedValue(careDashboard);
            const dashboardRequest = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            const dashboardResponse = await (0, _route3.GET)(dashboardRequest);
            const dashboardResponseData = await dashboardResponse.json();
            expect(dashboardResponse.status).toBe(200);
            expect(dashboardResponseData).toEqual(careDashboard);
            // Verify all services were called correctly
            expect(_careservice.CareService.logCareEvent).toHaveBeenCalledWith(testUser.id, expect.any(Object));
            expect(_carehistory.CareHistoryQueries.getCareHistoryForPlant).toHaveBeenCalledWith(plantInstanceId, testUser.id, expect.any(Object));
            expect(_careservice.CareService.getCareDashboard).toHaveBeenCalledWith(testUser.id);
        });
        it('should handle authorization across all care endpoints', async ()=>{
            // Test unauthorized access to all care endpoints
            _server1.requireAuthSession.mockRejectedValue(new Error('Unauthorized'));
            _server1.validateRequest.mockResolvedValue({
                user: null,
                session: null
            });
            // POST /api/care/log
            const logRequest = new _server.NextRequest('http://localhost:3000/api/care/log', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const logResponse = await (0, _route.POST)(logRequest);
            expect(logResponse.status).toBe(500); // Service error due to auth failure
            // POST /api/care/quick-log
            const quickLogRequest = new _server.NextRequest('http://localhost:3000/api/care/quick-log', {
                method: 'POST',
                body: JSON.stringify({}),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const quickLogResponse = await (0, _route1.POST)(quickLogRequest);
            expect(quickLogResponse.status).toBe(500); // Service error due to auth failure
            // GET /api/care/history/1
            const historyRequest = new _server.NextRequest('http://localhost:3000/api/care/history/1');
            const historyParams = Promise.resolve({
                plantInstanceId: '1'
            });
            const historyResponse = await (0, _route2.GET)(historyRequest, {
                params: historyParams
            });
            expect(historyResponse.status).toBe(401);
            // GET /api/care/dashboard
            const careDashboardRequest = new _server.NextRequest('http://localhost:3000/api/care/dashboard');
            const careDashboardResponse = await (0, _route3.GET)(careDashboardRequest);
            expect(careDashboardResponse.status).toBe(500); // Service error due to auth failure
            // GET /api/dashboard
            const dashboardRequest = new _server.NextRequest('http://localhost:3000/api/dashboard');
            const dashboardResponse = await (0, _route4.GET)(dashboardRequest);
            expect(dashboardResponse.status).toBe(401);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdGVmYW5iZWtrZXIvcHJvamVjdHMvZmFuY3ktcGxhbnRpZXMvc3JjL19fdGVzdHNfXy9hcGkvY2FyZS10cmFja2luZy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENhcmUgVHJhY2tpbmcgQVBJIEVuZHBvaW50IFRlc3RzXG4vLyBUZXN0cyBQT1NUIC9hcGkvY2FyZSwgR0VUIC9hcGkvY2FyZS9oaXN0b3J5LCBHRVQgL2FwaS9kYXNoYm9hcmQgZW5kcG9pbnRzXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBQT1NUIGFzIGxvZ0NhcmVIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL2NhcmUvbG9nL3JvdXRlJztcbmltcG9ydCB7IFBPU1QgYXMgcXVpY2tMb2dDYXJlSGFuZGxlciB9IGZyb20gJ0AvYXBwL2FwaS9jYXJlL3F1aWNrLWxvZy9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyIH0gZnJvbSAnQC9hcHAvYXBpL2NhcmUvaGlzdG9yeS9bcGxhbnRJbnN0YW5jZUlkXS9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIgfSBmcm9tICdAL2FwcC9hcGkvY2FyZS9kYXNoYm9hcmQvcm91dGUnO1xuaW1wb3J0IHsgR0VUIGFzIGdldERhc2hib2FyZEhhbmRsZXIgfSBmcm9tICdAL2FwcC9hcGkvZGFzaGJvYXJkL3JvdXRlJztcbmltcG9ydCB7IGNyZWF0ZVRlc3RVc2VyLCBjcmVhdGVUZXN0U2Vzc2lvbiB9IGZyb20gJ0AvdGVzdC11dGlscy9mYWN0b3JpZXMvdXNlci1mYWN0b3J5JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlLCBjcmVhdGVUZXN0Q2FyZVJlY29yZCB9IGZyb20gJ0AvdGVzdC11dGlscy9mYWN0b3JpZXMvcGxhbnQtZmFjdG9yeSc7XG5pbXBvcnQgeyByZXNldEFwaU1vY2tzIH0gZnJvbSAnQC90ZXN0LXV0aWxzL2hlbHBlcnMvYXBpLWhlbHBlcnMnO1xuXG4vLyBNb2NrIHRoZSBhdXRoIGZ1bmN0aW9uc1xuamVzdC5tb2NrKCdAL2xpYi9hdXRoL3NlcnZlcicsICgpID0+ICh7XG4gIHJlcXVpcmVBdXRoU2Vzc2lvbjogamVzdC5mbigpLFxuICB2YWxpZGF0ZVJlcXVlc3Q6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayB0aGUgY2FyZSBzZXJ2aWNlXG5qZXN0Lm1vY2soJ0AvbGliL3NlcnZpY2VzL2NhcmUtc2VydmljZScsICgpID0+ICh7XG4gIENhcmVTZXJ2aWNlOiB7XG4gICAgbG9nQ2FyZUV2ZW50OiBqZXN0LmZuKCksXG4gICAgcXVpY2tDYXJlTG9nOiBqZXN0LmZuKCksXG4gICAgZ2V0Q2FyZURhc2hib2FyZDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIGNhcmUgaGlzdG9yeSBxdWVyaWVzXG5qZXN0Lm1vY2soJ0AvbGliL2RiL3F1ZXJpZXMvY2FyZS1oaXN0b3J5JywgKCkgPT4gKHtcbiAgQ2FyZUhpc3RvcnlRdWVyaWVzOiB7XG4gICAgZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIGRhdGFiYXNlIGFuZCBzY2hlbWFcbmplc3QubW9jaygnQC9saWIvZGInLCAoKSA9PiAoe1xuICBkYjoge1xuICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICB9LFxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2RiL3NjaGVtYScsICgpID0+ICh7XG4gIHBsYW50SW5zdGFuY2VzOiB7XG4gICAgaWQ6ICdpZCcsXG4gICAgdXNlcklkOiAndXNlcklkJyxcbiAgICBpc0FjdGl2ZTogJ2lzQWN0aXZlJyxcbiAgICBmZXJ0aWxpemVyRHVlOiAnZmVydGlsaXplckR1ZScsXG4gICAgbmlja25hbWU6ICduaWNrbmFtZScsXG4gIH0sXG4gIHByb3BhZ2F0aW9uczoge1xuICAgIHVzZXJJZDogJ3VzZXJJZCcsXG4gICAgc3RhdHVzOiAnc3RhdHVzJyxcbiAgfSxcbn0pKTtcblxuLy8gTW9jayBjYXJlIHZhbGlkYXRpb25cbmplc3QubW9jaygnQC9saWIvdmFsaWRhdGlvbi9jYXJlLXNjaGVtYXMnLCAoKSA9PiAoe1xuICBjYXJlVmFsaWRhdGlvbjoge1xuICAgIHZhbGlkYXRlQ2FyZUZvcm06IGplc3QuZm4oKSxcbiAgICB2YWxpZGF0ZVF1aWNrQ2FyZUxvZzogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBJbXBvcnQgbW9ja2VkIGZ1bmN0aW9uc1xuaW1wb3J0IHsgcmVxdWlyZUF1dGhTZXNzaW9uLCB2YWxpZGF0ZVJlcXVlc3QgfSBmcm9tICdAL2xpYi9hdXRoL3NlcnZlcic7XG5pbXBvcnQgeyBDYXJlU2VydmljZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL2NhcmUtc2VydmljZSc7XG5pbXBvcnQgeyBDYXJlSGlzdG9yeVF1ZXJpZXMgfSBmcm9tICdAL2xpYi9kYi9xdWVyaWVzL2NhcmUtaGlzdG9yeSc7XG5pbXBvcnQgeyBjYXJlVmFsaWRhdGlvbiB9IGZyb20gJ0AvbGliL3ZhbGlkYXRpb24vY2FyZS1zY2hlbWFzJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZGInO1xuXG5kZXNjcmliZSgnQ2FyZSBUcmFja2luZyBBUEkgRW5kcG9pbnRzJywgKCkgPT4ge1xuICBsZXQgdGVzdFVzZXI7XG4gIGxldCB0ZXN0U2Vzc2lvbjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICByZXNldEFwaU1vY2tzKCk7XG4gICAgXG4gICAgdGVzdFVzZXIgPSBjcmVhdGVUZXN0VXNlcigpO1xuICAgIHRlc3RTZXNzaW9uID0gY3JlYXRlVGVzdFNlc3Npb24odGVzdFVzZXIpO1xuICAgIFxuICAgIC8vIERlZmF1bHQgYXV0aCBtb2Nrc1xuICAgIHJlcXVpcmVBdXRoU2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1c2VyOiB0ZXN0VXNlcixcbiAgICAgIHNlc3Npb246IHRlc3RTZXNzaW9uLFxuICAgIH0pO1xuICAgIFxuICAgIHZhbGlkYXRlUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1c2VyOiB0ZXN0VXNlcixcbiAgICAgIHNlc3Npb246IHRlc3RTZXNzaW9uLFxuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvY2FyZS9sb2cgLSBDYXJlIHJlY29yZCBjcmVhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBjYXJlIHJlY29yZCB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB0ZXN0UGxhbnRJbnN0YW5jZSA9IGNyZWF0ZVRlc3RQbGFudEluc3RhbmNlKHsgdXNlcklkOiB0ZXN0VXNlci5pZCB9KTtcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWQ6IHRlc3RQbGFudEluc3RhbmNlLmlkLFxuICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgY2FyZURhdGU6ICcyMDI0LTAxLTE1VDEwOjAwOjAwLjAwMFonLFxuICAgICAgICBub3RlczogJ1JlZ3VsYXIgd2F0ZXJpbmcnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHtcbiAgICAgICAgLi4ucmVxdWVzdEJvZHksXG4gICAgICAgIGNhcmVEYXRlOiBuZXcgRGF0ZShyZXF1ZXN0Qm9keS5jYXJlRGF0ZSksXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjcmVhdGVkQ2FyZVJlY29yZCA9IGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHtcbiAgICAgICAgLi4udmFsaWRhdGVkRGF0YSxcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHVzZXJJZDogdGVzdFVzZXIuaWQsXG4gICAgICB9KTtcblxuICAgICAgY2FyZVZhbGlkYXRpb24udmFsaWRhdGVDYXJlRm9ybS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB2YWxpZGF0ZWREYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIENhcmVTZXJ2aWNlLmxvZ0NhcmVFdmVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNhcmVIaXN0b3J5OiBjcmVhdGVkQ2FyZVJlY29yZCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvbG9nJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9nQ2FyZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIC4uLmNyZWF0ZWRDYXJlUmVjb3JkLFxuICAgICAgICAvLyBKU09OIHNlcmlhbGl6ZXMgZGF0ZXMgdG8gc3RyaW5nc1xuICAgICAgICBjYXJlRGF0ZTogY3JlYXRlZENhcmVSZWNvcmQuY2FyZURhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3JlYXRlZEF0OiBjcmVhdGVkQ2FyZVJlY29yZC5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBjcmVhdGVkQ2FyZVJlY29yZC51cGRhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVxdWlyZUF1dGhTZXNzaW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoY2FyZVZhbGlkYXRpb24udmFsaWRhdGVDYXJlRm9ybSkudG9IYXZlQmVlbkNhbGxlZFdpdGgodmFsaWRhdGVkRGF0YSk7XG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlci5pZCwgdmFsaWRhdGVkRGF0YSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB2YWxpZGF0aW9uIGVycm9yIGZvciBpbnZhbGlkIGNhcmUgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWQ6ICdpbnZhbGlkJyxcbiAgICAgICAgY2FyZVR5cGU6ICdpbnZhbGlkX3R5cGUnLFxuICAgICAgICBjYXJlRGF0ZTogJ2ludmFsaWRfZGF0ZScsXG4gICAgICB9O1xuXG4gICAgICBjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZUNhcmVGb3JtLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGlzc3VlczogW1xuICAgICAgICAgICAgeyBtZXNzYWdlOiAnUGxhbnQgaW5zdGFuY2UgSUQgbXVzdCBiZSBhIG51bWJlcicgfSxcbiAgICAgICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgY2FyZSB0eXBlJyB9LFxuICAgICAgICAgICAgeyBtZXNzYWdlOiAnSW52YWxpZCBkYXRlIGZvcm1hdCcgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2dDYXJlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdQbGFudCBpbnN0YW5jZSBJRCBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZXJyb3Igd2hlbiBjYXJlIHNlcnZpY2UgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgcGxhbnRJbnN0YW5jZUlkOiAxLFxuICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgY2FyZURhdGU6ICcyMDI0LTAxLTE1VDEwOjAwOjAwLjAwMFonLFxuICAgICAgfTtcblxuICAgICAgY2FyZVZhbGlkYXRpb24udmFsaWRhdGVDYXJlRm9ybS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4ucmVxdWVzdEJvZHksXG4gICAgICAgICAgY2FyZURhdGU6IG5ldyBEYXRlKHJlcXVlc3RCb2R5LmNhcmVEYXRlKSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBDYXJlU2VydmljZS5sb2dDYXJlRXZlbnQubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdQbGFudCBpbnN0YW5jZSBub3QgZm91bmQnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2dDYXJlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdQbGFudCBpbnN0YW5jZSBub3QgZm91bmQnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB1bmF1dGhvcml6ZWQgZXJyb3Igd2hlbiB1c2VyIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgcmVxdWlyZUF1dGhTZXNzaW9uLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignVW5hdXRob3JpemVkJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvbG9nJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9nQ2FyZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvZyBjYXJlIGV2ZW50JyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIEpTT04gcmVxdWVzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiAnaW52YWxpZCBqc29uJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvZ0NhcmVIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBsb2cgY2FyZSBldmVudCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KENhcmVTZXJ2aWNlLmxvZ0NhcmVFdmVudCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9jYXJlL3F1aWNrLWxvZyAtIFF1aWNrIGNhcmUgbG9nZ2luZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBxdWljayBjYXJlIGxvZyB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgcGxhbnRJbnN0YW5jZUlkczogWzEsIDIsIDNdLFxuICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgICAgbm90ZXM6ICdRdWljayB3YXRlcmluZyBzZXNzaW9uJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRlZERhdGEgPSB7XG4gICAgICAgIC4uLnJlcXVlc3RCb2R5LFxuICAgICAgICBjYXJlRGF0ZTogZXhwZWN0LmFueShEYXRlKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNhcmVSZWNvcmRzID0gW1xuICAgICAgICBjcmVhdGVUZXN0Q2FyZVJlY29yZCh7IGlkOiAxLCBwbGFudEluc3RhbmNlSWQ6IDEgfSksXG4gICAgICAgIGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHsgaWQ6IDIsIHBsYW50SW5zdGFuY2VJZDogMiB9KSxcbiAgICAgICAgY3JlYXRlVGVzdENhcmVSZWNvcmQoeyBpZDogMywgcGxhbnRJbnN0YW5jZUlkOiAzIH0pLFxuICAgICAgXTtcblxuICAgICAgY2FyZVZhbGlkYXRpb24udmFsaWRhdGVRdWlja0NhcmVMb2cubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogdmFsaWRhdGVkRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBDYXJlU2VydmljZS5xdWlja0NhcmVMb2cubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBjYXJlSGlzdG9yeTogY2FyZVJlY29yZHMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL3F1aWNrLWxvZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHF1aWNrTG9nQ2FyZUhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChjYXJlUmVjb3Jkcy5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgIC4uLnJlY29yZCxcbiAgICAgICAgLy8gSlNPTiBzZXJpYWxpemVzIGRhdGVzIHRvIHN0cmluZ3NcbiAgICAgICAgY2FyZURhdGU6IHJlY29yZC5jYXJlRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBjcmVhdGVkQXQ6IHJlY29yZC5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiByZWNvcmQudXBkYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICB9KSkpO1xuXG4gICAgICBleHBlY3QocmVxdWlyZUF1dGhTZXNzaW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoY2FyZVZhbGlkYXRpb24udmFsaWRhdGVRdWlja0NhcmVMb2cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHZhbGlkYXRlZERhdGEpO1xuICAgICAgZXhwZWN0KENhcmVTZXJ2aWNlLnF1aWNrQ2FyZUxvZykudG9IYXZlQmVlbkNhbGxlZFdpdGgodGVzdFVzZXIuaWQsIHZhbGlkYXRlZERhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdmFsaWRhdGlvbiBlcnJvciB3aXRoIGRldGFpbGVkIGlzc3VlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBwbGFudEluc3RhbmNlSWRzOiBbXSxcbiAgICAgICAgY2FyZVR5cGU6ICdpbnZhbGlkJyxcbiAgICAgIH07XG5cbiAgICAgIGNhcmVWYWxpZGF0aW9uLnZhbGlkYXRlUXVpY2tDYXJlTG9nLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGlzc3VlczogW1xuICAgICAgICAgICAgeyBtZXNzYWdlOiAnQXQgbGVhc3Qgb25lIHBsYW50IGluc3RhbmNlIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICAgICAgeyBtZXNzYWdlOiAnSW52YWxpZCBjYXJlIHR5cGUnIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvcXVpY2stbG9nJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcXVpY2tMb2dDYXJlSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdBdCBsZWFzdCBvbmUgcGxhbnQgaW5zdGFuY2UgaXMgcmVxdWlyZWQnLFxuICAgICAgICBkZXRhaWxzOiBbXG4gICAgICAgICAgeyBtZXNzYWdlOiAnQXQgbGVhc3Qgb25lIHBsYW50IGluc3RhbmNlIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgY2FyZSB0eXBlJyB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5xdWlja0NhcmVMb2cpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBxdWljayBjYXJlIHNlcnZpY2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgICAgIHBsYW50SW5zdGFuY2VJZHM6IFs5OTldLFxuICAgICAgICBjYXJlVHlwZTogJ3dhdGVyaW5nJyxcbiAgICAgIH07XG5cbiAgICAgIGNhcmVWYWxpZGF0aW9uLnZhbGlkYXRlUXVpY2tDYXJlTG9nLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5yZXF1ZXN0Qm9keSxcbiAgICAgICAgICBjYXJlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBDYXJlU2VydmljZS5xdWlja0NhcmVMb2cubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdTb21lIHBsYW50IGluc3RhbmNlcyBub3QgZm91bmQnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9xdWljay1sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBxdWlja0xvZ0NhcmVIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1NvbWUgcGxhbnQgaW5zdGFuY2VzIG5vdCBmb3VuZCcsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2NhcmUvaGlzdG9yeS9bcGxhbnRJbnN0YW5jZUlkXSAtIENhcmUgaGlzdG9yeSByZXRyaWV2YWwgYW5kIGZpbHRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYXJlIGhpc3Rvcnkgd2l0aCBkZWZhdWx0IGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBwbGFudEluc3RhbmNlSWQgPSAxO1xuICAgICAgY29uc3QgY2FyZUhpc3RvcnkgPSBbXG4gICAgICAgIGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHsgaWQ6IDEsIHBsYW50SW5zdGFuY2VJZCwgY2FyZVR5cGU6ICd3YXRlcmluZycgfSksXG4gICAgICAgIGNyZWF0ZVRlc3RDYXJlUmVjb3JkKHsgaWQ6IDIsIHBsYW50SW5zdGFuY2VJZCwgY2FyZVR5cGU6ICdmZXJ0aWxpemluZycgfSksXG4gICAgICBdO1xuXG4gICAgICBDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudC5tb2NrUmVzb2x2ZWRWYWx1ZShjYXJlSGlzdG9yeSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5LyR7cGxhbnRJbnN0YW5jZUlkfWApO1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgcGxhbnRJbnN0YW5jZUlkOiBwbGFudEluc3RhbmNlSWQudG9TdHJpbmcoKSB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldENhcmVIaXN0b3J5SGFuZGxlcihyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKGNhcmVIaXN0b3J5Lm1hcChyZWNvcmQgPT4gKHtcbiAgICAgICAgLi4ucmVjb3JkLFxuICAgICAgICAvLyBKU09OIHNlcmlhbGl6ZXMgZGF0ZXMgdG8gc3RyaW5nc1xuICAgICAgICBjYXJlRGF0ZTogcmVjb3JkLmNhcmVEYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGNyZWF0ZWRBdDogcmVjb3JkLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IHJlY29yZC51cGRhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pKSk7XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0ZVJlcXVlc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHBsYW50SW5zdGFuY2VJZCxcbiAgICAgICAgdGVzdFVzZXIuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICBjYXJlVHlwZTogdW5kZWZpbmVkLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGVuZERhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBsaW1pdDogNTAsXG4gICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgIHNvcnRCeTogJ2NhcmVfZGF0ZScsXG4gICAgICAgICAgc29ydE9yZGVyOiAnZGVzYycsXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYXJlIGhpc3Rvcnkgd2l0aCBjdXN0b20gZmlsdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHBsYW50SW5zdGFuY2VJZCA9IDE7XG4gICAgICBjb25zdCBjYXJlSGlzdG9yeSA9IFtcbiAgICAgICAgY3JlYXRlVGVzdENhcmVSZWNvcmQoeyBpZDogMSwgcGxhbnRJbnN0YW5jZUlkLCBjYXJlVHlwZTogJ3dhdGVyaW5nJyB9KSxcbiAgICAgIF07XG5cbiAgICAgIENhcmVIaXN0b3J5UXVlcmllcy5nZXRDYXJlSGlzdG9yeUZvclBsYW50Lm1vY2tSZXNvbHZlZFZhbHVlKGNhcmVIaXN0b3J5KTtcblxuICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICAgIHN0YXJ0RGF0ZTogJzIwMjQtMDEtMDEnLFxuICAgICAgICBlbmREYXRlOiAnMjAyNC0wMS0zMScsXG4gICAgICAgIGxpbWl0OiAnMTAnLFxuICAgICAgICBvZmZzZXQ6ICc1JyxcbiAgICAgICAgc29ydEJ5OiAnY2FyZV90eXBlJyxcbiAgICAgICAgc29ydE9yZGVyOiAnYXNjJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvaGlzdG9yeS8ke3BsYW50SW5zdGFuY2VJZH0/JHtxdWVyeVBhcmFtc31gKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogcGxhbnRJbnN0YW5jZUlkLnRvU3RyaW5nKCkgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRDYXJlSGlzdG9yeUhhbmRsZXIocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbChjYXJlSGlzdG9yeS5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgIC4uLnJlY29yZCxcbiAgICAgICAgLy8gSlNPTiBzZXJpYWxpemVzIGRhdGVzIHRvIHN0cmluZ3NcbiAgICAgICAgY2FyZURhdGU6IHJlY29yZC5jYXJlRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBjcmVhdGVkQXQ6IHJlY29yZC5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiByZWNvcmQudXBkYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICB9KSkpO1xuXG4gICAgICBleHBlY3QoQ2FyZUhpc3RvcnlRdWVyaWVzLmdldENhcmVIaXN0b3J5Rm9yUGxhbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBwbGFudEluc3RhbmNlSWQsXG4gICAgICAgIHRlc3RVc2VyLmlkLFxuICAgICAgICB7XG4gICAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgnMjAyNC0wMS0wMScpLFxuICAgICAgICAgIGVuZERhdGU6IG5ldyBEYXRlKCcyMDI0LTAxLTMxJyksXG4gICAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgICAgIG9mZnNldDogNSxcbiAgICAgICAgICBzb3J0Qnk6ICdjYXJlX3R5cGUnLFxuICAgICAgICAgIHNvcnRPcmRlcjogJ2FzYycsXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBiYWQgcmVxdWVzdCBlcnJvciBmb3IgaW52YWxpZCBwbGFudCBpbnN0YW5jZSBJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5L2ludmFsaWQnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogJ2ludmFsaWQnIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyKHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ludmFsaWQgcGxhbnQgaW5zdGFuY2UgSUQnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuYXV0aG9yaXplZCBlcnJvciB3aGVuIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICB2YWxpZGF0ZVJlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICBzZXNzaW9uOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5LzEnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHBsYW50SW5zdGFuY2VJZDogJzEnIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyKHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ1VuYXV0aG9yaXplZCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KENhcmVIaXN0b3J5UXVlcmllcy5nZXRDYXJlSGlzdG9yeUZvclBsYW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvaGlzdG9yeS8xJyk7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBwbGFudEluc3RhbmNlSWQ6ICcxJyB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldENhcmVIaXN0b3J5SGFuZGxlcihyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKHtcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IGNhcmUgaGlzdG9yeScsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2Rhc2hib2FyZCAtIERhc2hib2FyZCBzdGF0aXN0aWNzIGNhbGN1bGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRhc2hib2FyZCBzdGF0aXN0aWNzIHdpdGggcGxhbnQgYW5kIHByb3BhZ2F0aW9uIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrU3RhdHMgPSB7XG4gICAgICAgIHRvdGFsUGxhbnRzOiAxNSxcbiAgICAgICAgYWN0aXZlUGxhbnRzOiAxMixcbiAgICAgICAgY2FyZUR1ZVRvZGF5OiAzLFxuICAgICAgICB0b3RhbFByb3BhZ2F0aW9uczogOCxcbiAgICAgICAgYWN0aXZlUHJvcGFnYXRpb25zOiA1LFxuICAgICAgICBzdWNjZXNzZnVsUHJvcGFnYXRpb25zOiA2LFxuICAgICAgICBwcm9wYWdhdGlvblN1Y2Nlc3NSYXRlOiA3NSxcbiAgICAgICAgZmVydGlsaXplckV2ZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnZmVydGlsaXplci0xJyxcbiAgICAgICAgICAgIHBsYW50TmFtZTogJ01vbnN0ZXJhIERlbGljaW9zYScsXG4gICAgICAgICAgICBwbGFudElkOiAnMScsXG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0xNScsXG4gICAgICAgICAgICB0eXBlOiAnZmVydGlsaXplJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnZmVydGlsaXplci0yJyxcbiAgICAgICAgICAgIHBsYW50TmFtZTogJ0ZpZGRsZSBMZWFmIEZpZycsXG4gICAgICAgICAgICBwbGFudElkOiAnMicsXG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0xNicsXG4gICAgICAgICAgICB0eXBlOiAnZmVydGlsaXplJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgLy8gTW9jayBkYXRhYmFzZSBxdWVyaWVzXG4gICAgICBkYi5zZWxlY3QubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvdGFsUGxhbnRzOiAxNSxcbiAgICAgICAgICAgICAgYWN0aXZlUGxhbnRzOiAxMixcbiAgICAgICAgICAgICAgY2FyZUR1ZVRvZGF5OiAzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdKSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBwcm9wYWdhdGlvbiBzdGF0cyBxdWVyeVxuICAgICAgZGIuc2VsZWN0XG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIHdoZXJlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG90YWxQbGFudHM6IDE1LFxuICAgICAgICAgICAgICAgIGFjdGl2ZVBsYW50czogMTIsXG4gICAgICAgICAgICAgICAgY2FyZUR1ZVRvZGF5OiAzLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIHdoZXJlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG90YWxQcm9wYWdhdGlvbnM6IDgsXG4gICAgICAgICAgICAgICAgYWN0aXZlUHJvcGFnYXRpb25zOiA1LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NmdWxQcm9wYWdhdGlvbnM6IDYsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICAgIGZyb206IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb3VudDogOCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICB3aGVyZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOiAnTW9uc3RlcmEgRGVsaWNpb3NhJyxcbiAgICAgICAgICAgICAgICBmZXJ0aWxpemVyRHVlOiBuZXcgRGF0ZSgnMjAyNC0wMS0xNScpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IDIsXG4gICAgICAgICAgICAgICAgbmlja25hbWU6ICdGaWRkbGUgTGVhZiBGaWcnLFxuICAgICAgICAgICAgICAgIGZlcnRpbGl6ZXJEdWU6IG5ldyBEYXRlKCcyMDI0LTAxLTE2JyksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGFzaGJvYXJkJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXREYXNoYm9hcmRIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvTWF0Y2hPYmplY3Qoe1xuICAgICAgICB0b3RhbFBsYW50czogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBhY3RpdmVQbGFudHM6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgY2FyZUR1ZVRvZGF5OiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIHRvdGFsUHJvcGFnYXRpb25zOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIGFjdGl2ZVByb3BhZ2F0aW9uczogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBzdWNjZXNzZnVsUHJvcGFnYXRpb25zOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIHByb3BhZ2F0aW9uU3VjY2Vzc1JhdGU6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgZmVydGlsaXplckV2ZW50czogZXhwZWN0LmFueShBcnJheSksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRlUmVxdWVzdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdW5hdXRob3JpemVkIGVycm9yIHdoZW4gdXNlciBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIHZhbGlkYXRlUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgIHNlc3Npb246IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9kYXNoYm9hcmQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldERhc2hib2FyZEhhbmRsZXIocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9FcXVhbCh7XG4gICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBkYi5zZWxlY3QubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGFzaGJvYXJkJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXREYXNoYm9hcmRIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgZGFzaGJvYXJkIHN0YXRzJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvY2FyZS9kYXNoYm9hcmQgLSBDYXJlLXNwZWNpZmljIGRhc2hib2FyZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYXJlIGRhc2hib2FyZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja0NhcmVEYXNoYm9hcmQgPSB7XG4gICAgICAgIHVwY29taW5nQ2FyZTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHBsYW50SW5zdGFuY2VJZDogMSxcbiAgICAgICAgICAgIHBsYW50TmFtZTogJ01vbnN0ZXJhJyxcbiAgICAgICAgICAgIGNhcmVUeXBlOiAnd2F0ZXJpbmcnLFxuICAgICAgICAgICAgZHVlRGF0ZTogJzIwMjQtMDEtMTUnLFxuICAgICAgICAgICAgb3ZlcmR1ZTogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgcmVjZW50Q2FyZTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgcGxhbnRJbnN0YW5jZUlkOiAxLFxuICAgICAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICAgICAgICBjYXJlRGF0ZTogJzIwMjQtMDEtMTAnLFxuICAgICAgICAgICAgbm90ZXM6ICdSZWd1bGFyIHdhdGVyaW5nJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjYXJlU3RhdHM6IHtcbiAgICAgICAgICB0b3RhbENhcmVFdmVudHM6IDI1LFxuICAgICAgICAgIHRoaXNXZWVrQ2FyZTogNSxcbiAgICAgICAgICBvdmVyZHVlQ2FyZTogMixcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIENhcmVTZXJ2aWNlLmdldENhcmVEYXNoYm9hcmQubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NhcmVEYXNoYm9hcmQpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhcmUvZGFzaGJvYXJkJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRDYXJlRGFzaGJvYXJkSGFuZGxlcihyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0VxdWFsKG1vY2tDYXJlRGFzaGJvYXJkKTtcblxuICAgICAgZXhwZWN0KHJlcXVpcmVBdXRoU2Vzc2lvbikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KENhcmVTZXJ2aWNlLmdldENhcmVEYXNoYm9hcmQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RVc2VyLmlkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuYXV0aG9yaXplZCBlcnJvciB3aGVuIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICByZXF1aXJlQXV0aFNlc3Npb24ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldENhcmVEYXNoYm9hcmRIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBjYXJlIGRhc2hib2FyZCcsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KENhcmVTZXJ2aWNlLmdldENhcmVEYXNoYm9hcmQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYXJlIHNlcnZpY2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgQ2FyZVNlcnZpY2UuZ2V0Q2FyZURhc2hib2FyZC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0NhcmUgc2VydmljZSBmYWlsZWQnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldENhcmVEYXNoYm9hcmRIYW5kbGVyKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBjYXJlIGRhc2hib2FyZCcsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhcmUgVHJhY2tpbmcgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxldGUgY2FyZSB3b3JrZmxvdzogbG9nIC0+IGhpc3RvcnkgLT4gZGFzaGJvYXJkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGxhbnRJbnN0YW5jZUlkID0gMTtcbiAgICAgIFxuICAgICAgLy8gU3RlcCAxOiBMb2cgY2FyZSBldmVudFxuICAgICAgY29uc3QgY2FyZURhdGEgPSB7XG4gICAgICAgIHBsYW50SW5zdGFuY2VJZCxcbiAgICAgICAgY2FyZVR5cGU6ICd3YXRlcmluZycsXG4gICAgICAgIGNhcmVEYXRlOiAnMjAyNC0wMS0xNVQxMDowMDowMC4wMDBaJyxcbiAgICAgICAgbm90ZXM6ICdSZWd1bGFyIHdhdGVyaW5nJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNhcmVSZWNvcmQgPSBjcmVhdGVUZXN0Q2FyZVJlY29yZCh7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICAuLi5jYXJlRGF0YSxcbiAgICAgICAgY2FyZURhdGU6IG5ldyBEYXRlKGNhcmVEYXRhLmNhcmVEYXRlKSxcbiAgICAgICAgdXNlcklkOiB0ZXN0VXNlci5pZCxcbiAgICAgIH0pO1xuXG4gICAgICBjYXJlVmFsaWRhdGlvbi52YWxpZGF0ZUNhcmVGb3JtLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5jYXJlRGF0YSxcbiAgICAgICAgICBjYXJlRGF0ZTogbmV3IERhdGUoY2FyZURhdGEuY2FyZURhdGUpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIENhcmVTZXJ2aWNlLmxvZ0NhcmVFdmVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNhcmVIaXN0b3J5OiBjYXJlUmVjb3JkLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvZ1JlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJlRGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvZ1Jlc3BvbnNlID0gYXdhaXQgbG9nQ2FyZUhhbmRsZXIobG9nUmVxdWVzdCk7XG4gICAgICBjb25zdCBsb2dSZXNwb25zZURhdGEgPSBhd2FpdCBsb2dSZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChsb2dSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChsb2dSZXNwb25zZURhdGEpLnRvRXF1YWwoe1xuICAgICAgICAuLi5jYXJlUmVjb3JkLFxuICAgICAgICAvLyBKU09OIHNlcmlhbGl6ZXMgZGF0ZXMgdG8gc3RyaW5nc1xuICAgICAgICBjYXJlRGF0ZTogY2FyZVJlY29yZC5jYXJlRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBjcmVhdGVkQXQ6IGNhcmVSZWNvcmQuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogY2FyZVJlY29yZC51cGRhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTdGVwIDI6IEdldCBjYXJlIGhpc3RvcnlcbiAgICAgIGNvbnN0IGNhcmVIaXN0b3J5ID0gW2NhcmVSZWNvcmRdO1xuICAgICAgQ2FyZUhpc3RvcnlRdWVyaWVzLmdldENhcmVIaXN0b3J5Rm9yUGxhbnQubW9ja1Jlc29sdmVkVmFsdWUoY2FyZUhpc3RvcnkpO1xuXG4gICAgICBjb25zdCBoaXN0b3J5UmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXJlL2hpc3RvcnkvJHtwbGFudEluc3RhbmNlSWR9YCk7XG4gICAgICBjb25zdCBoaXN0b3J5UGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgcGxhbnRJbnN0YW5jZUlkOiBwbGFudEluc3RhbmNlSWQudG9TdHJpbmcoKSB9KTtcblxuICAgICAgY29uc3QgaGlzdG9yeVJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyKGhpc3RvcnlSZXF1ZXN0LCB7IHBhcmFtczogaGlzdG9yeVBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IGhpc3RvcnlSZXNwb25zZURhdGEgPSBhd2FpdCBoaXN0b3J5UmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QoaGlzdG9yeVJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGhpc3RvcnlSZXNwb25zZURhdGEpLnRvRXF1YWwoY2FyZUhpc3RvcnkubWFwKHJlY29yZCA9PiAoe1xuICAgICAgICAuLi5yZWNvcmQsXG4gICAgICAgIC8vIEpTT04gc2VyaWFsaXplcyBkYXRlcyB0byBzdHJpbmdzXG4gICAgICAgIGNhcmVEYXRlOiByZWNvcmQuY2FyZURhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3JlYXRlZEF0OiByZWNvcmQuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogcmVjb3JkLnVwZGF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgfSkpKTtcblxuICAgICAgLy8gU3RlcCAzOiBHZXQgY2FyZSBkYXNoYm9hcmRcbiAgICAgIGNvbnN0IGNhcmVEYXNoYm9hcmQgPSB7XG4gICAgICAgIHVwY29taW5nQ2FyZTogW10sXG4gICAgICAgIHJlY2VudENhcmU6IFtjYXJlUmVjb3JkXSxcbiAgICAgICAgY2FyZVN0YXRzOiB7XG4gICAgICAgICAgdG90YWxDYXJlRXZlbnRzOiAxLFxuICAgICAgICAgIHRoaXNXZWVrQ2FyZTogMSxcbiAgICAgICAgICBvdmVyZHVlQ2FyZTogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIENhcmVTZXJ2aWNlLmdldENhcmVEYXNoYm9hcmQubW9ja1Jlc29sdmVkVmFsdWUoY2FyZURhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlc3BvbnNlID0gYXdhaXQgZ2V0Q2FyZURhc2hib2FyZEhhbmRsZXIoZGFzaGJvYXJkUmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXNoYm9hcmRSZXNwb25zZURhdGEgPSBhd2FpdCBkYXNoYm9hcmRSZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChkYXNoYm9hcmRSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRSZXNwb25zZURhdGEpLnRvRXF1YWwoY2FyZURhc2hib2FyZCk7XG5cbiAgICAgIC8vIFZlcmlmeSBhbGwgc2VydmljZXMgd2VyZSBjYWxsZWQgY29ycmVjdGx5XG4gICAgICBleHBlY3QoQ2FyZVNlcnZpY2UubG9nQ2FyZUV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlci5pZCwgZXhwZWN0LmFueShPYmplY3QpKTtcbiAgICAgIGV4cGVjdChDYXJlSGlzdG9yeVF1ZXJpZXMuZ2V0Q2FyZUhpc3RvcnlGb3JQbGFudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGxhbnRJbnN0YW5jZUlkLCB0ZXN0VXNlci5pZCwgZXhwZWN0LmFueShPYmplY3QpKTtcbiAgICAgIGV4cGVjdChDYXJlU2VydmljZS5nZXRDYXJlRGFzaGJvYXJkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlci5pZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhdXRob3JpemF0aW9uIGFjcm9zcyBhbGwgY2FyZSBlbmRwb2ludHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUZXN0IHVuYXV0aG9yaXplZCBhY2Nlc3MgdG8gYWxsIGNhcmUgZW5kcG9pbnRzXG4gICAgICByZXF1aXJlQXV0aFNlc3Npb24ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKSk7XG4gICAgICB2YWxpZGF0ZVJlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0pO1xuXG4gICAgICAvLyBQT1NUIC9hcGkvY2FyZS9sb2dcbiAgICAgIGNvbnN0IGxvZ1JlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBsb2dSZXNwb25zZSA9IGF3YWl0IGxvZ0NhcmVIYW5kbGVyKGxvZ1JlcXVlc3QpO1xuICAgICAgZXhwZWN0KGxvZ1Jlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApOyAvLyBTZXJ2aWNlIGVycm9yIGR1ZSB0byBhdXRoIGZhaWx1cmVcblxuICAgICAgLy8gUE9TVCAvYXBpL2NhcmUvcXVpY2stbG9nXG4gICAgICBjb25zdCBxdWlja0xvZ1JlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9xdWljay1sb2cnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBxdWlja0xvZ1Jlc3BvbnNlID0gYXdhaXQgcXVpY2tMb2dDYXJlSGFuZGxlcihxdWlja0xvZ1JlcXVlc3QpO1xuICAgICAgZXhwZWN0KHF1aWNrTG9nUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7IC8vIFNlcnZpY2UgZXJyb3IgZHVlIHRvIGF1dGggZmFpbHVyZVxuXG4gICAgICAvLyBHRVQgL2FwaS9jYXJlL2hpc3RvcnkvMVxuICAgICAgY29uc3QgaGlzdG9yeVJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9oaXN0b3J5LzEnKTtcbiAgICAgIGNvbnN0IGhpc3RvcnlQYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyBwbGFudEluc3RhbmNlSWQ6ICcxJyB9KTtcbiAgICAgIGNvbnN0IGhpc3RvcnlSZXNwb25zZSA9IGF3YWl0IGdldENhcmVIaXN0b3J5SGFuZGxlcihoaXN0b3J5UmVxdWVzdCwgeyBwYXJhbXM6IGhpc3RvcnlQYXJhbXMgfSk7XG4gICAgICBleHBlY3QoaGlzdG9yeVJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuXG4gICAgICAvLyBHRVQgL2FwaS9jYXJlL2Rhc2hib2FyZFxuICAgICAgY29uc3QgY2FyZURhc2hib2FyZFJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvY2FyZS9kYXNoYm9hcmQnKTtcbiAgICAgIGNvbnN0IGNhcmVEYXNoYm9hcmRSZXNwb25zZSA9IGF3YWl0IGdldENhcmVEYXNoYm9hcmRIYW5kbGVyKGNhcmVEYXNoYm9hcmRSZXF1ZXN0KTtcbiAgICAgIGV4cGVjdChjYXJlRGFzaGJvYXJkUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7IC8vIFNlcnZpY2UgZXJyb3IgZHVlIHRvIGF1dGggZmFpbHVyZVxuXG4gICAgICAvLyBHRVQgL2FwaS9kYXNoYm9hcmRcbiAgICAgIGNvbnN0IGRhc2hib2FyZFJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGFzaGJvYXJkJyk7XG4gICAgICBjb25zdCBkYXNoYm9hcmRSZXNwb25zZSA9IGF3YWl0IGdldERhc2hib2FyZEhhbmRsZXIoZGFzaGJvYXJkUmVxdWVzdCk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwicmVxdWlyZUF1dGhTZXNzaW9uIiwiZm4iLCJ2YWxpZGF0ZVJlcXVlc3QiLCJDYXJlU2VydmljZSIsImxvZ0NhcmVFdmVudCIsInF1aWNrQ2FyZUxvZyIsImdldENhcmVEYXNoYm9hcmQiLCJDYXJlSGlzdG9yeVF1ZXJpZXMiLCJnZXRDYXJlSGlzdG9yeUZvclBsYW50IiwiZGIiLCJzZWxlY3QiLCJtb2NrUmV0dXJuVGhpcyIsImZyb20iLCJ3aGVyZSIsInBsYW50SW5zdGFuY2VzIiwiaWQiLCJ1c2VySWQiLCJpc0FjdGl2ZSIsImZlcnRpbGl6ZXJEdWUiLCJuaWNrbmFtZSIsInByb3BhZ2F0aW9ucyIsInN0YXR1cyIsImNhcmVWYWxpZGF0aW9uIiwidmFsaWRhdGVDYXJlRm9ybSIsInZhbGlkYXRlUXVpY2tDYXJlTG9nIiwiZGVzY3JpYmUiLCJ0ZXN0VXNlciIsInRlc3RTZXNzaW9uIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJyZXNldEFwaU1vY2tzIiwiY3JlYXRlVGVzdFVzZXIiLCJjcmVhdGVUZXN0U2Vzc2lvbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidXNlciIsInNlc3Npb24iLCJhZnRlckVhY2giLCJyZXN0b3JlQWxsTW9ja3MiLCJpdCIsInRlc3RQbGFudEluc3RhbmNlIiwiY3JlYXRlVGVzdFBsYW50SW5zdGFuY2UiLCJyZXF1ZXN0Qm9keSIsInBsYW50SW5zdGFuY2VJZCIsImNhcmVUeXBlIiwiY2FyZURhdGUiLCJub3RlcyIsInZhbGlkYXRlZERhdGEiLCJEYXRlIiwiY3JlYXRlZENhcmVSZWNvcmQiLCJjcmVhdGVUZXN0Q2FyZVJlY29yZCIsIm1vY2tSZXR1cm5WYWx1ZSIsInN1Y2Nlc3MiLCJkYXRhIiwiY2FyZUhpc3RvcnkiLCJyZXF1ZXN0IiwiTmV4dFJlcXVlc3QiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJyZXNwb25zZSIsImxvZ0NhcmVIYW5kbGVyIiwicmVzcG9uc2VEYXRhIiwianNvbiIsImV4cGVjdCIsInRvQmUiLCJ0b0VxdWFsIiwidG9JU09TdHJpbmciLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJlcnJvciIsImlzc3VlcyIsIm1lc3NhZ2UiLCJub3QiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwicGxhbnRJbnN0YW5jZUlkcyIsImFueSIsImNhcmVSZWNvcmRzIiwicXVpY2tMb2dDYXJlSGFuZGxlciIsIm1hcCIsInJlY29yZCIsImRldGFpbHMiLCJwYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRvU3RyaW5nIiwiZ2V0Q2FyZUhpc3RvcnlIYW5kbGVyIiwidW5kZWZpbmVkIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImxpbWl0Iiwib2Zmc2V0Iiwic29ydEJ5Iiwic29ydE9yZGVyIiwicXVlcnlQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJtb2NrU3RhdHMiLCJ0b3RhbFBsYW50cyIsImFjdGl2ZVBsYW50cyIsImNhcmVEdWVUb2RheSIsInRvdGFsUHJvcGFnYXRpb25zIiwiYWN0aXZlUHJvcGFnYXRpb25zIiwic3VjY2Vzc2Z1bFByb3BhZ2F0aW9ucyIsInByb3BhZ2F0aW9uU3VjY2Vzc1JhdGUiLCJmZXJ0aWxpemVyRXZlbnRzIiwicGxhbnROYW1lIiwicGxhbnRJZCIsImRhdGUiLCJ0eXBlIiwibW9ja1JldHVyblZhbHVlT25jZSIsImNvdW50IiwiZ2V0RGFzaGJvYXJkSGFuZGxlciIsInRvTWF0Y2hPYmplY3QiLCJOdW1iZXIiLCJBcnJheSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm1vY2tDYXJlRGFzaGJvYXJkIiwidXBjb21pbmdDYXJlIiwiZHVlRGF0ZSIsIm92ZXJkdWUiLCJyZWNlbnRDYXJlIiwiY2FyZVN0YXRzIiwidG90YWxDYXJlRXZlbnRzIiwidGhpc1dlZWtDYXJlIiwib3ZlcmR1ZUNhcmUiLCJnZXRDYXJlRGFzaGJvYXJkSGFuZGxlciIsImNhcmVEYXRhIiwiY2FyZVJlY29yZCIsImxvZ1JlcXVlc3QiLCJsb2dSZXNwb25zZSIsImxvZ1Jlc3BvbnNlRGF0YSIsImhpc3RvcnlSZXF1ZXN0IiwiaGlzdG9yeVBhcmFtcyIsImhpc3RvcnlSZXNwb25zZSIsImhpc3RvcnlSZXNwb25zZURhdGEiLCJjYXJlRGFzaGJvYXJkIiwiZGFzaGJvYXJkUmVxdWVzdCIsImRhc2hib2FyZFJlc3BvbnNlIiwiZGFzaGJvYXJkUmVzcG9uc2VEYXRhIiwiT2JqZWN0IiwicXVpY2tMb2dSZXF1ZXN0IiwicXVpY2tMb2dSZXNwb25zZSIsImNhcmVEYXNoYm9hcmRSZXF1ZXN0IiwiY2FyZURhc2hib2FyZFJlc3BvbnNlIl0sIm1hcHBpbmdzIjoiQUFBQSxtQ0FBbUM7QUFDbkMsNEVBQTRFOztBQVk1RSwwQkFBMEI7QUFDMUJBLEtBQUtDLElBQUksQ0FBQyxxQkFBcUIsSUFBTyxDQUFBO1FBQ3BDQyxvQkFBb0JGLEtBQUtHLEVBQUU7UUFDM0JDLGlCQUFpQkosS0FBS0csRUFBRTtJQUMxQixDQUFBO0FBRUEsd0JBQXdCO0FBQ3hCSCxLQUFLQyxJQUFJLENBQUMsK0JBQStCLElBQU8sQ0FBQTtRQUM5Q0ksYUFBYTtZQUNYQyxjQUFjTixLQUFLRyxFQUFFO1lBQ3JCSSxjQUFjUCxLQUFLRyxFQUFFO1lBQ3JCSyxrQkFBa0JSLEtBQUtHLEVBQUU7UUFDM0I7SUFDRixDQUFBO0FBRUEsNEJBQTRCO0FBQzVCSCxLQUFLQyxJQUFJLENBQUMsaUNBQWlDLElBQU8sQ0FBQTtRQUNoRFEsb0JBQW9CO1lBQ2xCQyx3QkFBd0JWLEtBQUtHLEVBQUU7UUFDakM7SUFDRixDQUFBO0FB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