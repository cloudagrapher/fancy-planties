{"version":3,"names":["cov_jwbcsb9z1","actualCoverage","s","initializeServerServices","initialized","f","b","_logger","setupErrorHandling","logger","info","nodeEnv","process","env","NODE_ENV","version","npm_package_version","pid","setInterval","_monitoring","monitoring","recordMemoryUsage","_emailverificationinit","initializeEmailVerification","catch","error","Error","String"],"sources":["/Users/stefanbekker/projects/fancy-planties/src/lib/init.ts"],"sourcesContent":["import 'server-only';\nimport { setupErrorHandling, logger } from '@/lib/utils/logger';\nimport { monitoring } from '@/lib/utils/monitoring';\nimport { initializeEmailVerification } from '@/lib/init/email-verification-init';\n\n// Initialize error handling and monitoring\nlet initialized = false;\n\nexport function initializeServerServices() {\n  if (initialized) return;\n  \n  // Setup global error handling\n  setupErrorHandling();\n  \n  // Log application startup\n  logger.info('Fancy Planties application starting', {\n    nodeEnv: process.env.NODE_ENV,\n    version: process.env.npm_package_version || '0.1.0',\n    pid: process.pid,\n  });\n  \n  // Start memory monitoring in production\n  if (process.env.NODE_ENV === 'production') {\n    setInterval(() => {\n      monitoring.recordMemoryUsage();\n    }, 60000); // Every minute\n  }\n  \n  // Initialize email verification system\n  initializeEmailVerification().catch(error => {\n    logger.error(\n      'Failed to initialize email verification system', \n      error instanceof Error ? error : new Error(String(error))\n    );\n  });\n  \n  initialized = true;\n}\n\n// Auto-initialize when this module is imported\ninitializeServerServices();"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMI;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAEY;;;;;;WAAAC,wBAAA;;;;;QART;;;iCACoC;;;iCAChB;;;iCACiB;AAE5C;AACA,IAAIC,WAAA;AAAA;AAAA,CAAAJ,aAAA,GAAAE,CAAA,OAAc;AAEX,SAASC,yBAAA;EAAA;EAAAH,aAAA,GAAAK,CAAA;EAAAL,aAAA,GAAAE,CAAA;EACd,IAAIE,WAAA,EAAa;IAAA;IAAAJ,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAAA;EAAA;EAAA;EAAA;IAAAF,aAAA,GAAAM,CAAA;EAAA;EAEjB;EAAAN,aAAA,GAAAE,CAAA;EACA,IAAAK,OAAA,CAAAC,kBAAkB;EAElB;EAAA;EAAAR,aAAA,GAAAE,CAAA;EACAK,OAAA,CAAAE,MAAM,CAACC,IAAI,CAAC,uCAAuC;IACjDC,OAAA,EAASC,OAAA,CAAQC,GAAG,CAACC,QAAQ;IAC7BC,OAAA;IAAS;IAAA,CAAAf,aAAA,GAAAM,CAAA,UAAAM,OAAA,CAAQC,GAAG,CAACG,mBAAmB;IAAA;IAAA,CAAAhB,aAAA,GAAAM,CAAA,UAAI;IAC5CW,GAAA,EAAKL,OAAA,CAAQK;EACf;EAEA;EAAA;EAAAjB,aAAA,GAAAE,CAAA;EACA,IAAIU,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;IAAA;IAAAd,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACzCgB,WAAA,CAAY;MAAA;MAAAlB,aAAA,GAAAK,CAAA;MAAAL,aAAA,GAAAE,CAAA;MACViB,WAAA,CAAAC,UAAU,CAACC,iBAAiB;IAC9B,GAAG,QAAQ;EACb;EAAA;EAAA;IAAArB,aAAA,GAAAM,CAAA;EAAA;EAEA;EAAAN,aAAA,GAAAE,CAAA;EACA,IAAAoB,sBAAA,CAAAC,2BAA2B,IAAGC,KAAK,CAACC,KAAA;IAAA;IAAAzB,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IAClCK,OAAA,CAAAE,MAAM,CAACgB,KAAK,CACV,kDACAA,KAAA,YAAiBC,KAAA;IAAA;IAAA,CAAA1B,aAAA,GAAAM,CAAA,UAAQmB,KAAA;IAAA;IAAA,CAAAzB,aAAA,GAAAM,CAAA,UAAQ,IAAIoB,KAAA,CAAMC,MAAA,CAAOF,KAAA;EAEtD;EAAA;EAAAzB,aAAA,GAAAE,CAAA;EAEAE,WAAA,GAAc;AAChB;AAEA;AAAA;AAAAJ,aAAA,GAAAE,CAAA;AACAC,wBAAA","ignoreList":[]}